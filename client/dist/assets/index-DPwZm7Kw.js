var $s=Object.defineProperty;var is=e=>{throw TypeError(e)};var zs=(e,i,s)=>i in e?$s(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var Bn=(e,i,s)=>zs(e,typeof i!="symbol"?i+"":i,s),xr=(e,i,s)=>i.has(e)||is("Cannot "+s);var at=(e,i,s)=>(xr(e,i,"read from private field"),s?s.call(e):i.get(e)),en=(e,i,s)=>i.has(e)?is("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,s),tn=(e,i,s,o)=>(xr(e,i,"write to private field"),o?o.call(e,s):i.set(e,s),s),Gt=(e,i,s)=>(xr(e,i,"access private method"),s);var tr=(e,i,s,o)=>({set _(a){tn(e,i,a,s)},get _(){return at(e,i,o)}});function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const o=i[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$2,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$2,this.updater=s||B$1}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$1(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var o,a={},c=null,d=null;if(i!=null)for(o in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(a[o]=i[o]);var b=arguments.length-2;if(b===1)a.children=s;else if(1<b){for(var g=Array(b),j=0;j<b;j++)g[j]=arguments[j+2];a.children=g}if(e&&e.defaultProps)for(o in b=e.defaultProps,b)a[o]===void 0&&(a[o]=b[o]);return{$$typeof:l$2,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$2,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$2}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$2:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(a,i,s,"",function(j){return j})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),i.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var b=0;b<e.length;b++){c=e[b];var g=o+Q$1(c,b);d+=R$1(c,i,s,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),b=0;!(c=e.next()).done;)c=c.value,g=o+Q$1(c,b++),d+=R$1(c,i,s,g,a);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return i.call(s,c,a++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K$1.current),i.key!==void 0&&(a=""+i.key),e.type&&e.type.defaultProps)var b=e.type.defaultProps;for(g in i)J.call(i,g)&&!L$1.hasOwnProperty(g)&&(o[g]=i[g]===void 0&&b!==void 0?b[g]:i[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){b=Array(g);for(var j=0;j<g;j++)b[j]=arguments[j+2];o.children=b}return{$$typeof:l$2,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$2,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const We$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(d=i.ref);for(o in i)m$1.call(i,o)&&!p$1.hasOwnProperty(o)&&(a[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)a[o]===void 0&&(a[o]=i[o]);return{$$typeof:k$1,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Nt,Et){var vt=Nt.length;Nt.push(Et);e:for(;0<vt;){var jt=vt-1>>>1,xt=Nt[jt];if(0<a(xt,Et))Nt[jt]=Et,Nt[vt]=xt,vt=jt;else break e}}function s(Nt){return Nt.length===0?null:Nt[0]}function o(Nt){if(Nt.length===0)return null;var Et=Nt[0],vt=Nt.pop();if(vt!==Et){Nt[0]=vt;e:for(var jt=0,xt=Nt.length,nt=xt>>>1;jt<nt;){var pt=2*(jt+1)-1,wt=Nt[pt],Ct=pt+1,Rt=Nt[Ct];if(0>a(wt,vt))Ct<xt&&0>a(Rt,wt)?(Nt[jt]=Rt,Nt[Ct]=vt,jt=Ct):(Nt[jt]=wt,Nt[pt]=vt,jt=pt);else if(Ct<xt&&0>a(Rt,vt))Nt[jt]=Rt,Nt[Ct]=vt,jt=Ct;else break e}}return Et}function a(Nt,Et){var vt=Nt.sortIndex-Et.sortIndex;return vt!==0?vt:Nt.id-Et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,b=d.now();e.unstable_now=function(){return d.now()-b}}var g=[],j=[],_e=1,et=null,st=3,tt=!1,ot=!1,ft=!1,yt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dt(Nt){for(var Et=s(j);Et!==null;){if(Et.callback===null)o(j);else if(Et.startTime<=Nt)o(j),Et.sortIndex=Et.expirationTime,i(g,Et);else break;Et=s(j)}}function mt(Nt){if(ft=!1,dt(Nt),!ot)if(s(g)!==null)ot=!0,$t(ut);else{var Et=s(j);Et!==null&&Dt(mt,Et.startTime-Nt)}}function ut(Nt,Et){ot=!1,ft&&(ft=!1,rt(gt),gt=-1),tt=!0;var vt=st;try{for(dt(Et),et=s(g);et!==null&&(!(et.expirationTime>Et)||Nt&&!ht());){var jt=et.callback;if(typeof jt=="function"){et.callback=null,st=et.priorityLevel;var xt=jt(et.expirationTime<=Et);Et=e.unstable_now(),typeof xt=="function"?et.callback=xt:et===s(g)&&o(g),dt(Et)}else o(g);et=s(g)}if(et!==null)var nt=!0;else{var pt=s(j);pt!==null&&Dt(mt,pt.startTime-Et),nt=!1}return nt}finally{et=null,st=vt,tt=!1}}var lt=!1,ct=null,gt=-1,bt=5,kt=-1;function ht(){return!(e.unstable_now()-kt<bt)}function St(){if(ct!==null){var Nt=e.unstable_now();kt=Nt;var Et=!0;try{Et=ct(!0,Nt)}finally{Et?At():(lt=!1,ct=null)}}else lt=!1}var At;if(typeof it=="function")At=function(){it(St)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Pt=zt.port2;zt.port1.onmessage=St,At=function(){Pt.postMessage(null)}}else At=function(){yt(St,0)};function $t(Nt){ct=Nt,lt||(lt=!0,At())}function Dt(Nt,Et){gt=yt(function(){Nt(e.unstable_now())},Et)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Nt){Nt.callback=null},e.unstable_continueExecution=function(){ot||tt||(ot=!0,$t(ut))},e.unstable_forceFrameRate=function(Nt){0>Nt||125<Nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<Nt?Math.floor(1e3/Nt):5},e.unstable_getCurrentPriorityLevel=function(){return st},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(Nt){switch(st){case 1:case 2:case 3:var Et=3;break;default:Et=st}var vt=st;st=Et;try{return Nt()}finally{st=vt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Nt,Et){switch(Nt){case 1:case 2:case 3:case 4:case 5:break;default:Nt=3}var vt=st;st=Nt;try{return Et()}finally{st=vt}},e.unstable_scheduleCallback=function(Nt,Et,vt){var jt=e.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?jt+vt:jt):vt=jt,Nt){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=vt+xt,Nt={id:_e++,callback:Et,priorityLevel:Nt,startTime:vt,expirationTime:xt,sortIndex:-1},vt>jt?(Nt.sortIndex=vt,i(j,Nt),s(g)===null&&Nt===s(j)&&(ft?(rt(gt),gt=-1):ft=!0,Dt(mt,vt-jt))):(Nt.sortIndex=xt,i(g,Nt),ot||tt||(ot=!0,$t(ut))),Nt},e.unstable_shouldYield=ht,e.unstable_wrapCallback=function(Nt){var Et=st;return function(){var vt=st;st=Et;try{return Nt.apply(this,arguments)}finally{st=vt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,o){if(i===null||typeof i>"u"||pa(e,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(e,i,s,o,a,c,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v$1(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v$1(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v$1(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v$1(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v$1(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v$1(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v$1(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v$1(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v$1(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v$1(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v$1(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v$1(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v$1(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v$1(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,o){var a=z.hasOwnProperty(i)?z[i]:null;(a!==null?a.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,a,o)&&(s=null),o||a===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(i=a.attributeName,o=a.attributeNamespace,s===null?e.removeAttribute(i):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?e.setAttributeNS(o,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var o=j}Reflect.construct(e,[],i)}else{try{i.call()}catch(j){o=j}e.call(i.prototype)}else{try{throw Error()}catch(j){o=j}e()}}catch(j){if(j&&o&&typeof j.stack=="string"){for(var a=j.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,b=c.length-1;1<=d&&0<=b&&a[d]!==c[b];)b--;for(;1<=d&&0<=b;d--,b--)if(a[d]!==c[b]){if(d!==1||b!==1)do if(d--,b--,0>b||a[d]!==c[b]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=b);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,o){if(e=e.options,i){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=i.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}i!==null||e[a].disabled||(i=e[a])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,a){MSApp.execUnsafeLocalFunction(function(){return e(i,s,o,a)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,a):e[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,o,a,c,d,b,g){var j=Array.prototype.slice.call(arguments,3);try{i.apply(s,j)}catch(_e){this.onError(_e)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,o,a,c,d,b,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,o,a,c,d,b,g){if(Tb.apply(this,arguments),Ob){if(Ob){var j=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=j)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,o=i;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),e;if(c===o)return Xb(a),i;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,b=a.child;b;){if(b===s){d=!0,s=a,o=c;break}if(b===o){d=!0,o=a,s=c;break}b=b.sibling}if(!d){for(b=c.child;b;){if(b===s){d=!0,s=c,o=a;break}if(b===o){d=!0,o=c,s=a;break}b=b.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=s&268435455;if(d!==0){var b=d&~a;b!==0?o=tc(b):(c&=d,c!==0&&(o=tc(c)))}else d=s&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(i!==0&&i!==o&&!(i&a)&&(a=o&-o,c=i&-i,a>=c||a===16&&(c&4194240)!==0))return i;if(o&4&&(o|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)s=31-oc(i),a=1<<s,o|=e[s],i&=~a;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),b=1<<d,g=a[d];g===-1?(!(b&s)||b&o)&&(a[d]=vc(b,i)):g<=i&&(e.expiredLanes|=b),c&=~b}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;i[a]=0,o[a]=-1,e[a]=-1,s&=~c}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-oc(s),a=1<<o;a&i|e[o]&i&&(e[o]|=i),s&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,a!==null&&i.indexOf(a)===-1&&i.push(a),e)}function Uc(e,i,s,o,a){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,i,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,i,s,o,a)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function gd(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function fd(e,i,s,o){if(dd){var a=Yc(e,i,s,o);if(a===null)hd(e,i,o,id,s),Sc(e,o);else if(Uc(a,e,i,s,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,i,s,o),c===null&&hd(e,i,o,id,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,i,o,null,s)}}var id=null;function Yc(e,i,s,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<s&&i[e]===a[e];e++);var d=s-e;for(o=1;o<=d&&i[s-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$1=!1;function je(e,i){switch(e){case"compositionend":return he$1(i);case"keypress":return i.which!==32?null:(fe$1=!0,ee$1);case"textInput":return e=i.data,e===ee$1&&fe$1?null:e;default:return null}}function ke(e,i){if(ie$1)return e==="compositionend"||!ae$1&&ge(e,i)?(e=nd(),md=ld=kd=null,ie$1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de$1&&i.locale!=="ko"?null:i.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le$1[e.type]:i==="textarea"}function ne(e,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re$1(e){se$1(e,0)}function te$1(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te$1(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re$1,i)}}function Ce$1(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$1(qe)}function Ee$1(e,i){if(e==="click")return te$1(i)}function Fe(e,i){if(e==="input"||e==="change")return te$1(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He$1(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(i,a)||!He$1(e[a],i[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me$1(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe$1(e){var i=Me$1(),s=e.focusedElem,o=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var d=Ke(s,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve$1(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var o=e.type||"unknown-event";e.currentTarget=s,Ub(o,i,void 0,e),e.currentTarget=null}function se$1(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],a=o.event;o=o.listeners;e:{var c=void 0;if(i)for(var d=o.length-1;0<=d;d--){var b=o[d],g=b.instance,j=b.currentTarget;if(b=b.listener,g!==c&&a.isPropagationStopped())break e;nf(a,b,j),c=g}else for(d=0;d<o.length;d++){if(b=o[d],g=b.instance,j=b.currentTarget,b=b.listener,g!==c&&a.isPropagationStopped())break e;nf(a,b,j),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D$1(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=e+"__bubble";s.has(o)||(pf(i,e,2,!1),s.add(o))}function qf(e,i,s){var o=0;i&&(o|=4),pf(s,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,o){switch(jd(i)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,i,s,e),a=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(i,s,{capture:!0,passive:a}):e.addEventListener(i,s,!0):a!==void 0?e.addEventListener(i,s,{passive:a}):e.addEventListener(i,s,!1)}function hd(e,i,s,o,a){var c=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var b=o.stateNode.containerInfo;if(b===a||b.nodeType===8&&b.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;b!==null;){if(d=Wc(b),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}b=b.parentNode}}o=o.return}Jb(function(){var j=c,_e=xb(s),et=[];e:{var st=df.get(e);if(st!==void 0){var tt=td,ot=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":ot="focus",tt=Fd;break;case"focusout":ot="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var ft=(i&4)!==0,yt=!ft&&e==="scroll",rt=ft?st!==null?st+"Capture":null:st;ft=[];for(var it=j,dt;it!==null;){dt=it;var mt=dt.stateNode;if(dt.tag===5&&mt!==null&&(dt=mt,rt!==null&&(mt=Kb(it,rt),mt!=null&&ft.push(tf(it,mt,dt)))),yt)break;it=it.return}0<ft.length&&(st=new tt(st,ot,null,s,_e),et.push({event:st,listeners:ft}))}}if(!(i&7)){e:{if(st=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",st&&s!==wb&&(ot=s.relatedTarget||s.fromElement)&&(Wc(ot)||ot[uf]))break e;if((tt||st)&&(st=_e.window===_e?_e:(st=_e.ownerDocument)?st.defaultView||st.parentWindow:window,tt?(ot=s.relatedTarget||s.toElement,tt=j,ot=ot?Wc(ot):null,ot!==null&&(yt=Vb(ot),ot!==yt||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=j),tt!==ot)){if(ft=Bd,mt="onMouseLeave",rt="onMouseEnter",it="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Td,mt="onPointerLeave",rt="onPointerEnter",it="pointer"),yt=tt==null?st:ue(tt),dt=ot==null?st:ue(ot),st=new ft(mt,it+"leave",tt,s,_e),st.target=yt,st.relatedTarget=dt,mt=null,Wc(_e)===j&&(ft=new ft(rt,it+"enter",ot,s,_e),ft.target=dt,ft.relatedTarget=yt,mt=ft),yt=mt,tt&&ot)t:{for(ft=tt,rt=ot,it=0,dt=ft;dt;dt=vf(dt))it++;for(dt=0,mt=rt;mt;mt=vf(mt))dt++;for(;0<it-dt;)ft=vf(ft),it--;for(;0<dt-it;)rt=vf(rt),dt--;for(;it--;){if(ft===rt||rt!==null&&ft===rt.alternate)break t;ft=vf(ft),rt=vf(rt)}ft=null}else ft=null;tt!==null&&wf(et,st,tt,ft,!1),ot!==null&&yt!==null&&wf(et,yt,ot,ft,!0)}}e:{if(st=j?ue(j):window,tt=st.nodeName&&st.nodeName.toLowerCase(),tt==="select"||tt==="input"&&st.type==="file")var ut=ve;else if(me(st))if(we)ut=Fe;else{ut=De$1;var lt=Ce$1}else(tt=st.nodeName)&&tt.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(ut=Ee$1);if(ut&&(ut=ut(e,j))){ne(et,ut,s,_e);break e}lt&&lt(e,st,j),e==="focusout"&&(lt=st._wrapperState)&&lt.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(lt=j?ue(j):window,e){case"focusin":(me(lt)||lt.contentEditable==="true")&&(Qe=lt,Re=j,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(et,s,_e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(et,s,_e)}var ct;if(ae$1)e:{switch(e){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ie$1?ge(e,s)&&(gt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(gt="onCompositionStart");gt&&(de$1&&s.locale!=="ko"&&(ie$1||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ie$1&&(ct=nd()):(kd=_e,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),lt=oe(j,gt),0<lt.length&&(gt=new Ld(gt,e,null,s,_e),et.push({event:gt,listeners:lt}),ct?gt.data=ct:(ct=he$1(s),ct!==null&&(gt.data=ct)))),(ct=ce?je(e,s):ke(e,s))&&(j=oe(j,"onBeforeInput"),0<j.length&&(_e=new Ld("onBeforeInput","beforeinput",null,s,_e),et.push({event:_e,listeners:j}),_e.data=ct))}se$1(et,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,s),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,i),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,o,a){for(var c=i._reactName,d=[];s!==null&&s!==o;){var b=s,g=b.alternate,j=b.stateNode;if(g!==null&&g===o)break;b.tag===5&&j!==null&&(b=j,a?(g=Kb(s,c),g!=null&&d.unshift(tf(s,g,b))):a||(g=Kb(s,c),g!=null&&d.push(tf(s,g,b)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,o=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){e.removeChild(a),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=i[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H$1)}function ag(e,i,s){if(H$1.current!==Vf)throw Error(p(168));G(H$1,i),G(Wf,s)}function bg(e,i,s){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in i))throw Error(p(108,Ra(e)||"Unknown",a));return A({},s,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,e),G(Wf,Wf.current),!0}function dg(e,i,s){var o=e.stateNode;if(!o)throw Error(p(169));s?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H$1),G(H$1,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(i)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(i)+a|s<<a|o,sg=c+e}else rg=1<<c|s<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===c?i.ref:(i=function(d){var b=a.refs;d===null?delete b[c]:b[c]=d},i._stringRef=c,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function Mg(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(rt,it){if(e){var dt=rt.deletions;dt===null?(rt.deletions=[it],rt.flags|=16):dt.push(it)}}function s(rt,it){if(!e)return null;for(;it!==null;)i(rt,it),it=it.sibling;return null}function o(rt,it){for(rt=new Map;it!==null;)it.key!==null?rt.set(it.key,it):rt.set(it.index,it),it=it.sibling;return rt}function a(rt,it){return rt=Pg(rt,it),rt.index=0,rt.sibling=null,rt}function c(rt,it,dt){return rt.index=dt,e?(dt=rt.alternate,dt!==null?(dt=dt.index,dt<it?(rt.flags|=2,it):dt):(rt.flags|=2,it)):(rt.flags|=1048576,it)}function d(rt){return e&&rt.alternate===null&&(rt.flags|=2),rt}function b(rt,it,dt,mt){return it===null||it.tag!==6?(it=Qg(dt,rt.mode,mt),it.return=rt,it):(it=a(it,dt),it.return=rt,it)}function g(rt,it,dt,mt){var ut=dt.type;return ut===ya?_e(rt,it,dt.props.children,mt,dt.key):it!==null&&(it.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===it.type)?(mt=a(it,dt.props),mt.ref=Lg(rt,it,dt),mt.return=rt,mt):(mt=Rg(dt.type,dt.key,dt.props,null,rt.mode,mt),mt.ref=Lg(rt,it,dt),mt.return=rt,mt)}function j(rt,it,dt,mt){return it===null||it.tag!==4||it.stateNode.containerInfo!==dt.containerInfo||it.stateNode.implementation!==dt.implementation?(it=Sg(dt,rt.mode,mt),it.return=rt,it):(it=a(it,dt.children||[]),it.return=rt,it)}function _e(rt,it,dt,mt,ut){return it===null||it.tag!==7?(it=Tg(dt,rt.mode,mt,ut),it.return=rt,it):(it=a(it,dt),it.return=rt,it)}function et(rt,it,dt){if(typeof it=="string"&&it!==""||typeof it=="number")return it=Qg(""+it,rt.mode,dt),it.return=rt,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return dt=Rg(it.type,it.key,it.props,null,rt.mode,dt),dt.ref=Lg(rt,null,it),dt.return=rt,dt;case wa:return it=Sg(it,rt.mode,dt),it.return=rt,it;case Ha:var mt=it._init;return et(rt,mt(it._payload),dt)}if(eb(it)||Ka(it))return it=Tg(it,rt.mode,dt,null),it.return=rt,it;Mg(rt,it)}return null}function st(rt,it,dt,mt){var ut=it!==null?it.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ut!==null?null:b(rt,it,""+dt,mt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return dt.key===ut?g(rt,it,dt,mt):null;case wa:return dt.key===ut?j(rt,it,dt,mt):null;case Ha:return ut=dt._init,st(rt,it,ut(dt._payload),mt)}if(eb(dt)||Ka(dt))return ut!==null?null:_e(rt,it,dt,mt,null);Mg(rt,dt)}return null}function tt(rt,it,dt,mt,ut){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return rt=rt.get(dt)||null,b(it,rt,""+mt,ut);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return rt=rt.get(mt.key===null?dt:mt.key)||null,g(it,rt,mt,ut);case wa:return rt=rt.get(mt.key===null?dt:mt.key)||null,j(it,rt,mt,ut);case Ha:var lt=mt._init;return tt(rt,it,dt,lt(mt._payload),ut)}if(eb(mt)||Ka(mt))return rt=rt.get(dt)||null,_e(it,rt,mt,ut,null);Mg(it,mt)}return null}function ot(rt,it,dt,mt){for(var ut=null,lt=null,ct=it,gt=it=0,bt=null;ct!==null&&gt<dt.length;gt++){ct.index>gt?(bt=ct,ct=null):bt=ct.sibling;var kt=st(rt,ct,dt[gt],mt);if(kt===null){ct===null&&(ct=bt);break}e&&ct&&kt.alternate===null&&i(rt,ct),it=c(kt,it,gt),lt===null?ut=kt:lt.sibling=kt,lt=kt,ct=bt}if(gt===dt.length)return s(rt,ct),I&&tg(rt,gt),ut;if(ct===null){for(;gt<dt.length;gt++)ct=et(rt,dt[gt],mt),ct!==null&&(it=c(ct,it,gt),lt===null?ut=ct:lt.sibling=ct,lt=ct);return I&&tg(rt,gt),ut}for(ct=o(rt,ct);gt<dt.length;gt++)bt=tt(ct,rt,gt,dt[gt],mt),bt!==null&&(e&&bt.alternate!==null&&ct.delete(bt.key===null?gt:bt.key),it=c(bt,it,gt),lt===null?ut=bt:lt.sibling=bt,lt=bt);return e&&ct.forEach(function(ht){return i(rt,ht)}),I&&tg(rt,gt),ut}function ft(rt,it,dt,mt){var ut=Ka(dt);if(typeof ut!="function")throw Error(p(150));if(dt=ut.call(dt),dt==null)throw Error(p(151));for(var lt=ut=null,ct=it,gt=it=0,bt=null,kt=dt.next();ct!==null&&!kt.done;gt++,kt=dt.next()){ct.index>gt?(bt=ct,ct=null):bt=ct.sibling;var ht=st(rt,ct,kt.value,mt);if(ht===null){ct===null&&(ct=bt);break}e&&ct&&ht.alternate===null&&i(rt,ct),it=c(ht,it,gt),lt===null?ut=ht:lt.sibling=ht,lt=ht,ct=bt}if(kt.done)return s(rt,ct),I&&tg(rt,gt),ut;if(ct===null){for(;!kt.done;gt++,kt=dt.next())kt=et(rt,kt.value,mt),kt!==null&&(it=c(kt,it,gt),lt===null?ut=kt:lt.sibling=kt,lt=kt);return I&&tg(rt,gt),ut}for(ct=o(rt,ct);!kt.done;gt++,kt=dt.next())kt=tt(ct,rt,gt,kt.value,mt),kt!==null&&(e&&kt.alternate!==null&&ct.delete(kt.key===null?gt:kt.key),it=c(kt,it,gt),lt===null?ut=kt:lt.sibling=kt,lt=kt);return e&&ct.forEach(function(St){return i(rt,St)}),I&&tg(rt,gt),ut}function yt(rt,it,dt,mt){if(typeof dt=="object"&&dt!==null&&dt.type===ya&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:e:{for(var ut=dt.key,lt=it;lt!==null;){if(lt.key===ut){if(ut=dt.type,ut===ya){if(lt.tag===7){s(rt,lt.sibling),it=a(lt,dt.props.children),it.return=rt,rt=it;break e}}else if(lt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===lt.type){s(rt,lt.sibling),it=a(lt,dt.props),it.ref=Lg(rt,lt,dt),it.return=rt,rt=it;break e}s(rt,lt);break}else i(rt,lt);lt=lt.sibling}dt.type===ya?(it=Tg(dt.props.children,rt.mode,mt,dt.key),it.return=rt,rt=it):(mt=Rg(dt.type,dt.key,dt.props,null,rt.mode,mt),mt.ref=Lg(rt,it,dt),mt.return=rt,rt=mt)}return d(rt);case wa:e:{for(lt=dt.key;it!==null;){if(it.key===lt)if(it.tag===4&&it.stateNode.containerInfo===dt.containerInfo&&it.stateNode.implementation===dt.implementation){s(rt,it.sibling),it=a(it,dt.children||[]),it.return=rt,rt=it;break e}else{s(rt,it);break}else i(rt,it);it=it.sibling}it=Sg(dt,rt.mode,mt),it.return=rt,rt=it}return d(rt);case Ha:return lt=dt._init,yt(rt,it,lt(dt._payload),mt)}if(eb(dt))return ot(rt,it,dt,mt);if(Ka(dt))return ft(rt,it,dt,mt);Mg(rt,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,it!==null&&it.tag===6?(s(rt,it.sibling),it=a(it,dt),it.return=rt,rt=it):(s(rt,it),it=Qg(dt,rt.mode,mt),it.return=rt,rt=it),d(rt)):s(rt,it)}return yt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var i=Wg.current;E(Wg),e._currentValue=i}function bh(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function ch(e,i){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(dh=!0),e.firstContext=null)}function eh(e){var i=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return i}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,i,s,o){var a=i.interleaved;return a===null?(s.next=s,gh(i)):(s.next=a.next,a.next=s),i.interleaved=s,ih(e,o)}function ih(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i,ih(e,s)}return a=o.interleaved,a===null?(i.next=i,gh(o)):(i.next=a.next,a.next=i),o.interleaved=i,ih(e,s)}function oh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}function ph(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=i:c=c.next=i}else a=c=i;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function qh(e,i,s,o){var a=e.updateQueue;jh=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,b=a.shared.pending;if(b!==null){a.shared.pending=null;var g=b,j=g.next;g.next=null,d===null?c=j:d.next=j,d=g;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,b=_e.lastBaseUpdate,b!==d&&(b===null?_e.firstBaseUpdate=j:b.next=j,_e.lastBaseUpdate=g))}if(c!==null){var et=a.baseState;d=0,_e=j=g=null,b=c;do{var st=b.lane,tt=b.eventTime;if((o&st)===st){_e!==null&&(_e=_e.next={eventTime:tt,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ot=e,ft=b;switch(st=i,tt=s,ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){et=ot.call(tt,et,st);break e}et=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,st=typeof ot=="function"?ot.call(tt,et,st):ot,st==null)break e;et=A({},et,st);break e;case 2:jh=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,st=a.effects,st===null?a.effects=[b]:st.push(b))}else tt={eventTime:tt,lane:st,tag:b.tag,payload:b.payload,callback:b.callback,next:null},_e===null?(j=_e=tt,g=et):_e=_e.next=tt,d|=st;if(b=b.next,b===null){if(b=a.shared.pending,b===null)break;st=b,b=st.next,st.next=null,a.lastBaseUpdate=st,a.shared.pending=null}}while(!0);if(_e===null&&(g=et),a.baseState=g,a.firstBaseUpdate=j,a.lastBaseUpdate=_e,i=a.shared.interleaved,i!==null){a=i;do d|=a.lane,a=a.next;while(a!==i)}else c===null&&(a.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=et}}function sh(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,i){switch(G(wh,i),G(vh,e),G(uh,th),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(uh),G(uh,i)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var i=xh(uh.current),s=lb(i,e.type);i!==s&&(G(vh,e),G(uh,s))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He$1(e[s],i[s]))return!1;return!0}function Nh(e,i,s,o,a,c){if(Hh=c,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=s(o,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,e=s(o,a)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,i){return typeof i=="function"?i(e):i}function Wh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=N,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var b=d=null,g=null,j=c;do{var _e=j.lane;if((Hh&_e)===_e)g!==null&&(g=g.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),o=j.hasEagerState?j.eagerState:e(o,j.action);else{var et={lane:_e,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};g===null?(b=g=et,d=o):g=g.next=et,M.lanes|=_e,rh|=_e}j=j.next}while(j!==null&&j!==c);g===null?d=o:g.next=b,He$1(o,i.memoizedState)||(dh=!0),i.memoizedState=o,i.baseState=d,i.baseQueue=g,s.lastRenderedState=o}if(e=s.interleaved,e!==null){a=e;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=s.dispatch,a=s.pending,c=i.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He$1(c,i.memoizedState)||(dh=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),s.lastRenderedState=c}return[c,o]}function Yh(){}function Zh(e,i){var s=M,o=Uh(),a=i(),c=!He$1(o.memoizedState,a);if(c&&(o.memoizedState=a,dh=!0),o=o.queue,$h(ai.bind(null,s,o,e),[e]),o.getSnapshot!==i||c||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,o,a,i),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,i,a)}return a}function di(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ci(e,i,s,o){i.value=s,i.getSnapshot=o,ei(i)&&fi(e)}function ai(e,i,s){return s(function(){ei(i)&&fi(e)})}function ei(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He$1(e,s)}catch{return!0}}function fi(e){var i=ih(e,1);i!==null&&gi(i,e,1,-1)}function hi(e){var i=Th();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},i.queue=e,e=e.dispatch=ii.bind(null,M,e),[i.memoizedState,e]}function bi(e,i,s,o){return e={tag:e,create:i,destroy:s,deps:o,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,i,s,o){var a=Th();M.flags|=e,a.memoizedState=bi(1|i,s,void 0,o===void 0?null:o)}function li(e,i,s,o){var a=Uh();o=o===void 0?null:o;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,o!==null&&Mh(o,d.deps)){a.memoizedState=bi(i,s,c,o);return}}M.flags|=e,a.memoizedState=bi(1|i,s,c,o)}function mi(e,i){return ki(8390656,8,e,i)}function $h(e,i){return li(2048,8,e,i)}function ni(e,i){return li(4,2,e,i)}function oi(e,i){return li(4,4,e,i)}function pi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qi(e,i,s){return s=s!=null?s.concat([e]):null,li(4,4,pi.bind(null,i,e),s)}function ri(){}function si(e,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function ti(e,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(e=e(),s.memoizedState=[e,i],e)}function ui(e,i,s){return Hh&21?(He$1(s,i)||(s=yc(),M.lanes|=s,rh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=s)}function vi(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),i()}finally{C=s,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,i,s){var o=yi(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(i,s);else if(s=hh(e,i,s,o),s!==null){var a=R();gi(s,e,o,a),Bi(s,i,o)}}function ii(e,i,s){var o=yi(e),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(i,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=i.lastRenderedReducer,c!==null))try{var d=i.lastRenderedState,b=c(d,s);if(a.hasEagerState=!0,a.eagerState=b,He$1(b,d)){var g=i.interleaved;g===null?(a.next=a,gh(i)):(a.next=g.next,g.next=a),i.interleaved=a;return}}catch{}finally{}s=hh(e,i,a,o),s!==null&&(a=R(),gi(s,e,o,a),Bi(s,i,o))}}function zi(e){var i=e.alternate;return e===M||i!==null&&i===M}function Ai(e,i){Jh=Ih=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Bi(e,i,s){if(s&4194240){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,i){return Th().memoizedState=[e,i===void 0?null:i],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ki(4194308,4,pi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ki(4194308,4,e,i)},useInsertionEffect:function(e,i){return ki(4,2,e,i)},useMemo:function(e,i){var s=Th();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var o=Th();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var i=Th();return e={current:e},i.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),i=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var o=M,a=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),Q===null)throw Error(p(349));Hh&30||di(o,i,s)}a.memoizedState=s;var c={value:s,getSnapshot:i};return a.queue=c,mi(ai.bind(null,o,c,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,c,s,i),void 0,null),s},useId:function(){var e=Th(),i=Q.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return ui(i,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return N===null?i.memoizedState=e:ui(i,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}function Di(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.payload=i,s!=null&&(c.callback=s),i=nh(e,c,a),i!==null&&(gi(i,e,a,o),oh(i,e,a))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=nh(e,c,a),i!==null&&(gi(i,e,a,o),oh(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=R(),o=yi(e),a=mh(s,o);a.tag=2,i!=null&&(a.callback=i),i=nh(e,a,o),i!==null&&(gi(i,e,o,s),oh(i,e,o))}};function Fi(e,i,s,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,c):!0}function Gi(e,i,s){var o=!1,a=Vf,c=i.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(i)?Xf:H$1.current,o=i.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),i=new i(s,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),i}function Hi(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(e,i,s,o){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},kh(e);var c=i.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(i)?Xf:H$1.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(Di(e,i,c,s),a.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(e,s,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:a,digest:null}}function Ki(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Li(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,i)},s}function Qi(e,i,s){s=mh(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=i.value;s.payload=function(){return o(a)},s.callback=function(){Li(e,i)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Li(e,i),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Si(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var a=new Set;o.set(i,a)}else a=o.get(i),a===void 0&&(a=new Set,o.set(i,a));a.has(s)||(a.add(s),e=Ti.bind(null,e,i,s),i.then(e,e))}function Ui(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Vi(e,i,s,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,i,s,o){i.child=e===null?Vg(i,null,s,o):Ug(i,e.child,s,o)}function Yi(e,i,s,o,a){s=s.render;var c=i.ref;return ch(i,a),o=Nh(e,i,s,o,c,a),s=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,Zi(e,i,a)):(I&&s&&vg(i),i.flags|=1,Xi(e,i,o,a),i.child)}function $i(e,i,s,o,a){if(e===null){var c=s.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=c,bj(e,i,c,o,a)):(e=Rg(s.type,null,o,i,i.mode,a),e.ref=i.ref,e.return=i,i.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&e.ref===i.ref)return Zi(e,i,a)}return i.flags|=1,e=Pg(c,o),e.ref=i.ref,e.return=i,i.child=e}function bj(e,i,s,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===i.ref)if(dh=!1,i.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(dh=!0);else return i.lanes=e.lanes,Zi(e,i,a)}return cj(e,i,s,o,a)}function dj(e,i,s){var o=i.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return e=c!==null?c.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(ej,fj),fj|=o}else c!==null?(o=c.baseLanes|s,i.memoizedState=null):o=s,G(ej,fj),fj|=o;return Xi(e,i,a,s),i.child}function gj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(e,i,s,o,a){var c=Zf(s)?Xf:H$1.current;return c=Yf(i,c),ch(i,a),s=Nh(e,i,s,o,c,a),o=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,Zi(e,i,a)):(I&&o&&vg(i),i.flags|=1,Xi(e,i,s,a),i.child)}function hj(e,i,s,o,a){if(Zf(s)){var c=!0;cg(i)}else c=!1;if(ch(i,a),i.stateNode===null)ij(e,i),Gi(i,s,o),Ii(i,s,o,a),o=!0;else if(e===null){var d=i.stateNode,b=i.memoizedProps;d.props=b;var g=d.context,j=s.contextType;typeof j=="object"&&j!==null?j=eh(j):(j=Zf(s)?Xf:H$1.current,j=Yf(i,j));var _e=s.getDerivedStateFromProps,et=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function";et||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==o||g!==j)&&Hi(i,d,o,j),jh=!1;var st=i.memoizedState;d.state=st,qh(i,o,d,a),g=i.memoizedState,b!==o||st!==g||Wf.current||jh?(typeof _e=="function"&&(Di(i,s,_e,o),g=i.memoizedState),(b=jh||Fi(i,s,b,o,st,g,j))?(et||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=g),d.props=o,d.state=g,d.context=j,o=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,lh(e,i),b=i.memoizedProps,j=i.type===i.elementType?b:Ci(i.type,b),d.props=j,et=i.pendingProps,st=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(s)?Xf:H$1.current,g=Yf(i,g));var tt=s.getDerivedStateFromProps;(_e=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==et||st!==g)&&Hi(i,d,o,g),jh=!1,st=i.memoizedState,d.state=st,qh(i,o,d,a);var ot=i.memoizedState;b!==et||st!==ot||Wf.current||jh?(typeof tt=="function"&&(Di(i,s,tt,o),ot=i.memoizedState),(j=jh||Fi(i,s,j,o,st,ot,g)||!1)?(_e||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,ot,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,ot,g)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=ot),d.props=o,d.state=ot,d.context=g,o=j):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(i.flags|=1024),o=!1)}return jj(e,i,s,o,c,a)}function jj(e,i,s,o,a,c){gj(e,i);var d=(i.flags&128)!==0;if(!o&&!d)return a&&dg(i,s,!1),Zi(e,i,c);o=i.stateNode,Wi.current=i;var b=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&d?(i.child=Ug(i,e.child,null,c),i.child=Ug(i,null,b,c)):Xi(e,i,b,c),i.memoizedState=o.state,a&&dg(i,s,!0),i.child}function kj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),yh(e,i.containerInfo)}function lj(e,i,s,o,a){return Ig(),Jg(a),i.flags|=256,Xi(e,i,s,o),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,i,s){var o=i.pendingProps,a=L.current,c=!1,d=(i.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(a&2)!==0),b?(c=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(L,a&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=o.children,e=o.fallback,c?(o=i.mode,c=i.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,o,0,null),e=Tg(e,o,s,null),c.return=i,e.return=i,c.sibling=e,i.child=c,i.child.memoizedState=nj(s),i.memoizedState=mj,e):qj(i,d));if(a=e.memoizedState,a!==null&&(b=a.dehydrated,b!==null))return rj(e,i,d,o,b,a,s);if(c){c=o.fallback,d=i.mode,a=e.child,b=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&i.child!==a?(o=i.child,o.childLanes=0,o.pendingProps=g,i.deletions=null):(o=Pg(a,g),o.subtreeFlags=a.subtreeFlags&14680064),b!==null?c=Pg(b,c):(c=Tg(c,d,s,null),c.flags|=2),c.return=i,o.return=i,o.sibling=c,i.child=o,o=c,c=i.child,d=e.child.memoizedState,d=d===null?nj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~s,i.memoizedState=mj,o}return c=e.child,e=c.sibling,o=Pg(c,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=o,i.memoizedState=null,o}function qj(e,i){return i=pj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function sj(e,i,s,o){return o!==null&&Jg(o),Ug(i,e.child,null,s),e=qj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rj(e,i,s,o,a,c,d){if(s)return i.flags&256?(i.flags&=-257,o=Ki(Error(p(422))),sj(e,i,d,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(c=o.fallback,a=i.mode,o=pj({mode:"visible",children:o.children},a,0,null),c=Tg(c,a,d,null),c.flags|=2,o.return=i,c.return=i,o.sibling=c,i.child=o,i.mode&1&&Ug(i,e.child,null,d),i.child.memoizedState=nj(d),i.memoizedState=mj,c);if(!(i.mode&1))return sj(e,i,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var b=o.dgst;return o=b,c=Error(p(419)),o=Ki(c,o,void 0),sj(e,i,d,o)}if(b=(d&e.childLanes)!==0,dh||b){if(o=Q,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(e,a),gi(o,e,a,-1))}return tj(),o=Ki(Error(p(421))),sj(e,i,d,o)}return a.data==="$?"?(i.flags|=128,i.child=e.child,i=uj.bind(null,e),a._reactRetry=i,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=qj(i,o.children),i.flags|=4096,i)}function vj(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),bh(e.return,i,s)}function wj(e,i,s,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=i,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function xj(e,i,s){var o=i.pendingProps,a=o.revealOrder,c=o.tail;if(Xi(e,i,o.children,s),o=L.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,s,i);else if(e.tag===19)vj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(i.mode&1))i.memoizedState=null;else switch(a){case"forwards":for(s=i.child,a=null;s!==null;)e=s.alternate,e!==null&&Ch(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=i.child,i.child=null):(a=s.sibling,s.sibling=null),wj(i,!1,a,s,c);break;case"backwards":for(s=null,a=i.child,i.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){i.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}wj(i,!0,s,null,c);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Zi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=Pg(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Pg(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(e,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,a=i.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=a;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(e,i,s):(G(L,L.current&1),e=Zi(e,i,s),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(s&i.childLanes)!==0,e.flags&128){if(o)return xj(e,i,s);i.flags|=128}if(a=i.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return i.lanes=0,dj(e,i,s)}return Zi(e,i,s)}var zj,Aj,Bj,Cj;zj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(e,i,s,o){var a=e.memoizedProps;if(a!==o){e=i.stateNode,xh(uh.current);var c=null;switch(s){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(s,o);var d;s=null;for(j in a)if(!o.hasOwnProperty(j)&&a.hasOwnProperty(j)&&a[j]!=null)if(j==="style"){var b=a[j];for(d in b)b.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?c||(c=[]):(c=c||[]).push(j,null));for(j in o){var g=o[j];if(b=a!=null?a[j]:void 0,o.hasOwnProperty(j)&&g!==b&&(g!=null||b!=null))if(j==="style")if(b){for(d in b)!b.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&b[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(j,s)),s=g;else j==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,b=b?b.__html:void 0,g!=null&&b!==g&&(c=c||[]).push(j,g)):j==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(j,""+g):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(ea.hasOwnProperty(j)?(g!=null&&j==="onScroll"&&D$1("scroll",e),c||b===g||(c=[])):(c=c||[]).push(j,g))}s&&(c=c||[]).push("style",s);var j=c;(i.updateQueue=j)&&(i.flags|=4)}};Cj=function(e,i,s,o){s!==o&&(i.flags|=4)};function Dj(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Ej(e,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,zh(),E(Wf),E(H$1),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,i),S(i),null;case 5:Bh(i);var a=xh(wh.current);if(s=i.type,e!==null&&i.stateNode!=null)Bj(e,i,s,o,a),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=xh(uh.current),Gg(i)){o=i.stateNode,s=i.type;var c=i.memoizedProps;switch(o[Of]=i,o[Pf]=c,e=(i.mode&1)!==0,s){case"dialog":D$1("cancel",o),D$1("close",o);break;case"iframe":case"object":case"embed":D$1("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D$1(lf[a],o);break;case"source":D$1("error",o);break;case"img":case"image":case"link":D$1("error",o),D$1("load",o);break;case"details":D$1("toggle",o);break;case"input":Za(o,c),D$1("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D$1("invalid",o);break;case"textarea":hb(o,c),D$1("invalid",o)}ub(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var b=c[d];d==="children"?typeof b=="string"?o.textContent!==b&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,b,e),a=["children",b]):typeof b=="number"&&o.textContent!==""+b&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,b,e),a=["children",""+b]):ea.hasOwnProperty(d)&&b!=null&&d==="onScroll"&&D$1("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,i.updateQueue=o,o!==null&&(i.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(s,{is:o.is}):(e=d.createElement(s),s==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=o,zj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,o),s){case"dialog":D$1("cancel",e),D$1("close",e),a=o;break;case"iframe":case"object":case"embed":D$1("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D$1(lf[a],e);a=o;break;case"source":D$1("error",e),a=o;break;case"img":case"image":case"link":D$1("error",e),D$1("load",e),a=o;break;case"details":D$1("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D$1("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D$1("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D$1("invalid",e);break;default:a=o}ub(s,a),b=a;for(c in b)if(b.hasOwnProperty(c)){var g=b[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D$1("scroll",e):g!=null&&ta(e,c,g,d))}switch(s){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Cj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(c=o.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(e.mode&1)!==0)}c&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(L),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,c=!1;else if(c=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),c=i.memoizedState,c===null)return S(i),null;if(o=(i.flags&128)!==0,d=c.rendering,d===null)if(o)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Ch(e),d!==null){for(i.flags|=128,Dj(c,!1),o=d.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)c=s,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}e=e.sibling}c.tail!==null&&B()>Gj&&(i.flags|=128,o=!0,Dj(c,!1),i.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(i.flags|=128,o=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-c.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,o=!0,Dj(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(s=c.last,s!==null?s.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,o?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Ij(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zh(),E(Wf),E(H$1),Eh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(e,i,o)}else s.current=null}function Mj(e,i,s){try{s()}catch(o){W(e,i,o)}}var Nj=!1;function Oj(e,i){if(Cf=dd,e=Me$1(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,b=-1,g=-1,j=0,_e=0,et=e,st=null;t:for(;;){for(var tt;et!==s||a!==0&&et.nodeType!==3||(b=d+a),et!==c||o!==0&&et.nodeType!==3||(g=d+o),et.nodeType===3&&(d+=et.nodeValue.length),(tt=et.firstChild)!==null;)st=et,et=tt;for(;;){if(et===e)break t;if(st===s&&++j===a&&(b=d),st===c&&++_e===o&&(g=d),(tt=et.nextSibling)!==null)break;et=st,st=et.parentNode}et=tt}s=b===-1||g===-1?null:{start:b,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var ot=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ft=ot.memoizedProps,yt=ot.memoizedState,rt=i.stateNode,it=rt.getSnapshotBeforeUpdate(i.elementType===i.type?ft:Ci(i.type,ft),yt);rt.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var dt=i.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(mt){W(i,i.return,mt)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return ot=Nj,Nj=!1,ot}function Pj(e,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(i,s,c)}a=a.next}while(a!==o)}}function Qj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Rj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Sj(e){var i=e.alternate;i!==null&&(e.alternate=null,Sj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,i,s),e=e.sibling;e!==null;)Vj(e,i,s),e=e.sibling}function Wj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}var X=null,Xj=!1;function Yj(e,i,s){for(s=s.child;s!==null;)Zj(e,i,s),s=s.sibling}function Zj(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var o=X,a=Xj;X=null,Yj(e,i,s),X=o,Xj=a,X!==null&&(Xj?(e=X,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Xj?(e=X,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X,s.stateNode));break;case 4:o=X,a=Xj,X=s.stateNode.containerInfo,Xj=!0,Yj(e,i,s),X=o,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(s,i,d),a=a.next}while(a!==o)}Yj(e,i,s);break;case 1:if(!U&&(Lj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(b){W(s,i,b)}Yj(e,i,s);break;case 21:Yj(e,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Yj(e,i,s),U=o):Yj(e,i,s);break;default:Yj(e,i,s)}}function ak(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Kj),i.forEach(function(o){var a=bk.bind(null,e,o);s.has(o)||(s.add(o),o.then(a,a))})}}function ck(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=e,d=i,b=d;e:for(;b!==null;){switch(b.tag){case 5:X=b.stateNode,Xj=!1;break e;case 3:X=b.stateNode.containerInfo,Xj=!0;break e;case 4:X=b.stateNode.containerInfo,Xj=!0;break e}b=b.return}if(X===null)throw Error(p(160));Zj(c,d,a),X=null,Xj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(j){W(a,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,e),i=i.sibling}function dk(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(i,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(ft){W(e,e.return,ft)}try{Pj(5,e,e.return)}catch(ft){W(e,e.return,ft)}}break;case 1:ck(i,e),ek(e),o&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,e),ek(e),o&512&&s!==null&&Lj(s,s.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(ft){W(e,e.return,ft)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=s!==null?s.memoizedProps:c,b=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{b==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(b,d);var j=vb(b,c);for(d=0;d<g.length;d+=2){var _e=g[d],et=g[d+1];_e==="style"?sb(a,et):_e==="dangerouslySetInnerHTML"?nb(a,et):_e==="children"?ob(a,et):ta(a,_e,et,j)}switch(b){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var st=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var tt=c.value;tt!=null?fb(a,!!c.multiple,tt,!1):st!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(ft){W(e,e.return,ft)}}break;case 6:if(ck(i,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(ft){W(e,e.return,ft)}}break;case 3:if(ck(i,e),ek(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(ft){W(e,e.return,ft)}break;case 4:ck(i,e),ek(e);break;case 13:ck(i,e),ek(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(_e=s!==null&&s.memoizedState!==null,e.mode&1?(U=(j=U)||_e,ck(i,e),U=j):ck(i,e),ek(e),o&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!_e&&e.mode&1)for(V=e,_e=e.child;_e!==null;){for(et=V=_e;V!==null;){switch(st=V,tt=st.child,st.tag){case 0:case 11:case 14:case 15:Pj(4,st,st.return);break;case 1:Lj(st,st.return);var ot=st.stateNode;if(typeof ot.componentWillUnmount=="function"){o=st,s=st.return;try{i=o,ot.props=i.memoizedProps,ot.state=i.memoizedState,ot.componentWillUnmount()}catch(ft){W(o,s,ft)}}break;case 5:Lj(st,st.return);break;case 22:if(st.memoizedState!==null){gk(et);continue}}tt!==null?(tt.return=st,V=tt):gk(et)}_e=_e.sibling}e:for(_e=null,et=e;;){if(et.tag===5){if(_e===null){_e=et;try{a=et.stateNode,j?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(b=et.stateNode,g=et.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,b.style.display=rb("display",d))}catch(ft){W(e,e.return,ft)}}}else if(et.tag===6){if(_e===null)try{et.stateNode.nodeValue=j?"":et.memoizedProps}catch(ft){W(e,e.return,ft)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===e)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===e)break e;for(;et.sibling===null;){if(et.return===null||et.return===e)break e;_e===et&&(_e=null),et=et.return}_e===et&&(_e=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:ck(i,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(i,e),ek(e)}}function ek(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Tj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Uj(e);Wj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,b=Uj(e);Vj(e,b,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hk(e,i,s){V=e,ik(e)}function ik(e,i,s){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Jj;if(!d){var b=a.alternate,g=b!==null&&b.memoizedState!==null||U;b=Jj;var j=U;if(Jj=d,(U=g)&&!j)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?jk(a):g!==null?(g.return=d,V=g):jk(a);for(;c!==null;)V=c,ik(c),c=c.sibling;V=a,Jj=b,U=j}kk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):kk(e)}}function kk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=i.updateQueue;c!==null&&sh(i,c,o);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,d,s)}break;case 5:var b=i.stateNode;if(s===null&&i.flags&4){s=b;var g=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var _e=j.memoizedState;if(_e!==null){var et=_e.dehydrated;et!==null&&bd(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Rj(i)}catch(st){W(i,i.return,st)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(g){W(i,s,g)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var a=i.return;try{o.componentDidMount()}catch(g){W(i,a,g)}}var c=i.return;try{Rj(i)}catch(g){W(i,c,g)}break;case 5:var d=i.return;try{Rj(i)}catch(g){W(i,d,g)}}}catch(g){W(i,i.return,g)}if(i===e){V=null;break}var b=i.sibling;if(b!==null){b.return=i.return,V=b;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,i,s,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,s,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(e,Z$1)),Dk(e,o),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,i){var s=e.callbackNode;wc(e,i);var o=uc(e,e===Q?Z$1:0);if(o===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Gk(e,i){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Hk()&&e.callbackNode!==s)return null;var o=uc(e,e===Q?Z$1:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Ik(e,o);else{i=o;var a=K;K|=2;var c=Jk();(Q!==e||Z$1!==i)&&(uk=null,Gj=B()+500,Kk(e,i));do try{Lk();break}catch(b){Mk(e,b)}while(!0);$g(),mk.current=c,K=a,Y$1!==null?i=0:(Q=null,Z$1=0,i=T)}if(i!==0){if(i===2&&(a=xc(e),a!==0&&(o=a,i=Nk(e,a))),i===1)throw s=pk,Kk(e,0),Ck(e,o),Dk(e,B()),s;if(i===6)Ck(e,o);else{if(a=e.current.alternate,!(o&30)&&!Ok(a)&&(i=Ik(e,o),i===2&&(c=xc(e),c!==0&&(o=c,i=Nk(e,c))),i===1))throw s=pk,Kk(e,0),Ck(e,o),Dk(e,B()),s;switch(e.finishedWork=a,e.finishedLanes=o,i){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(i=fk+500-B(),10<i)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),i);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(i=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=i[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===s?Gk.bind(null,e):null}function Nk(e,i){var s=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,i).flags|=256),e=Ik(e,i),e!==2&&(i=tk,tk=s,i!==null&&Fj(i)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He$1(c(),a))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(e,i){for(i&=~rk,i&=~qk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;e[s]=-1,i&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var i=uc(e,0);if(!(i&1))return Dk(e,B()),null;var s=Ik(e,i);if(e.tag!==0&&s===2){var o=xc(e);o!==0&&(i=o,s=Nk(e,o))}if(s===1)throw s=pk,Kk(e,0),Ck(e,i),Dk(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok$2.transition,o=C;try{if(ok$2.transition=null,C=1,e)return e()}finally{C=o,ok$2.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y$1!==null)for(s=Y$1.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H$1),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=e,Y$1=e=Pg(e.current,null),Z$1=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}fh=null}return e}function Mk(e,i){do{var s=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y$1=null;break}e:{var c=e,d=s.return,b=s,g=i;if(i=Z$1,b.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var j=g,_e=b,et=_e.tag;if(!(_e.mode&1)&&(et===0||et===11||et===15)){var st=_e.alternate;st?(_e.updateQueue=st.updateQueue,_e.memoizedState=st.memoizedState,_e.lanes=st.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var tt=Ui(d);if(tt!==null){tt.flags&=-257,Vi(tt,d,b,c,i),tt.mode&1&&Si(c,j,i),i=tt,g=j;var ot=i.updateQueue;if(ot===null){var ft=new Set;ft.add(g),i.updateQueue=ft}else ot.add(g);break e}else{if(!(i&1)){Si(c,j,i),tj();break e}g=Error(p(426))}}else if(I&&b.mode&1){var yt=Ui(d);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Vi(yt,d,b,c,i),Jg(Ji(g,b));break e}}c=g=Ji(g,b),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,i&=-i,c.lanes|=i;var rt=Ni(c,g,i);ph(c,rt);break e;case 1:b=g;var it=c.type,dt=c.stateNode;if(!(c.flags&128)&&(typeof it.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(Ri===null||!Ri.has(dt)))){c.flags|=65536,i&=-i,c.lanes|=i;var mt=Qi(c,b,i);ph(c,mt);break e}}c=c.return}while(c!==null)}Sk(s)}catch(ut){i=ut,Y$1===s&&s!==null&&(Y$1=s=s.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik(e,i){var s=K;K|=2;var o=Jk();(Q!==e||Z$1!==i)&&(uk=null,Kk(e,i));do try{Tk();break}catch(a){Mk(e,a)}while(!0);if($g(),K=s,mk.current=o,Y$1!==null)throw Error(p(261));return Q=null,Z$1=0,T}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(e){var i=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,i===null?Sk(e):Y$1=i,nk.current=null}function Sk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y$1=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y$1=null;return}}else if(s=Ej(s,i,fj),s!==null){Y$1=s;return}if(i=i.sibling,i!==null){Y$1=i;return}Y$1=i=e}while(i!==null);T===0&&(T=5)}function Pk(e,i,s){var o=C,a=ok$2.transition;try{ok$2.transition=null,C=1,Wk(e,i,s,o)}finally{ok$2.transition=a,C=o}return null}function Wk(e,i,s,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(e,c),e===Q&&(Y$1=Q=null,Z$1=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=ok$2.transition,ok$2.transition=null;var d=C;C=1;var b=K;K|=4,nk.current=null,Oj(e,s),dk(s,e),Oe$1(Df),dd=!!Cf,Df=Cf=null,e.current=s,hk(s),dc(),K=b,C=d,ok$2.transition=c}else e.current=s;if(vk&&(vk=!1,wk=e,xk=a),c=e.pendingLanes,c===0&&(Ri=null),mc(s.stateNode),Dk(e,B()),i!==null)for(o=e.onRecoverableError,s=0;s<i.length;s++)a=i[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),i=ok$2.transition,s=C;try{if(ok$2.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var b=c.deletions;if(b!==null){for(var g=0;g<b.length;g++){var j=b[g];for(V=j;V!==null;){var _e=V;switch(_e.tag){case 0:case 11:case 15:Pj(8,_e,c)}var et=_e.child;if(et!==null)et.return=_e,V=et;else for(;V!==null;){_e=V;var st=_e.sibling,tt=_e.return;if(Sj(_e),_e===j){V=null;break}if(st!==null){st.return=tt,V=st;break}V=tt}}}var ot=c.alternate;if(ot!==null){var ft=ot.child;if(ft!==null){ot.child=null;do{var yt=ft.sibling;ft.sibling=null,ft=yt}while(ft!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var rt=c.sibling;if(rt!==null){rt.return=c.return,V=rt;break e}V=c.return}}var it=e.current;for(V=it;V!==null;){d=V;var dt=d.child;if(d.subtreeFlags&2064&&dt!==null)dt.return=d,V=dt;else e:for(d=it;V!==null;){if(b=V,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Qj(9,b)}}catch(ut){W(b,b.return,ut)}if(b===d){V=null;break e}var mt=b.sibling;if(mt!==null){mt.return=b.return,V=mt;break e}V=b.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=s,ok$2.transition=i}}return!1}function Xk(e,i,s){i=Ji(s,i),i=Ni(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i))}function W(e,i,s){if(e.tag===3)Xk(e,e,s);else for(;i!==null;){if(i.tag===3){Xk(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(s,e),e=Qi(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e));break}}i=i.return}}function Ti(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),i=R(),e.pingedLanes|=e.suspendedLanes&s,Q===e&&(Z$1&s)===s&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk(e,0):rk|=s),Dk(e,i)}function Yk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();e=ih(e,i),e!==null&&(Ac(e,i,s),Dk(e,s))}function uj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(e,s)}function bk(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(i),Yk(e,s)}var Vk;Vk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return dh=!1,yj(e,i,s);dh=!!(e.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;ij(e,i),e=i.pendingProps;var a=Yf(i,H$1.current);ch(i,s),a=Nh(null,i,o,e,a,s);var c=Sh();return i.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(c=!0,cg(i)):c=!1,i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(i),a.updater=Ei,i.stateNode=a,a._reactInternals=i,Ii(i,o,e,s),i=jj(null,i,o,!0,c,s)):(i.tag=0,I&&c&&vg(i),Xi(null,i,a,s),i=i.child),i;case 16:o=i.elementType;e:{switch(ij(e,i),e=i.pendingProps,a=o._init,o=a(o._payload),i.type=o,a=i.tag=Zk(o),e=Ci(o,e),a){case 0:i=cj(null,i,o,e,s);break e;case 1:i=hj(null,i,o,e,s);break e;case 11:i=Yi(null,i,o,e,s);break e;case 14:i=$i(null,i,o,Ci(o.type,e),s);break e}throw Error(p(306,o,""))}return i;case 0:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),cj(e,i,o,a,s);case 1:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),hj(e,i,o,a,s);case 3:e:{if(kj(i),e===null)throw Error(p(387));o=i.pendingProps,c=i.memoizedState,a=c.element,lh(e,i),qh(i,o,null,s);var d=i.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){a=Ji(Error(p(423)),i),i=lj(e,i,o,s,a);break e}else if(o!==a){a=Ji(Error(p(424)),i),i=lj(e,i,o,s,a);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Vg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){i=Zi(e,i,s);break e}Xi(e,i,o,s)}i=i.child}return i;case 5:return Ah(i),e===null&&Eg(i),o=i.type,a=i.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(i.flags|=32),gj(e,i),Xi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return oj(e,i,s);case 4:return yh(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ug(i,null,o,s):Xi(e,i,o,s),i.child;case 11:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),Yi(e,i,o,a,s);case 7:return Xi(e,i,i.pendingProps,s),i.child;case 8:return Xi(e,i,i.pendingProps.children,s),i.child;case 12:return Xi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,a=i.pendingProps,c=i.memoizedProps,d=a.value,G(Wg,o._currentValue),o._currentValue=d,c!==null)if(He$1(c.value,d)){if(c.children===a.children&&!Wf.current){i=Zi(e,i,s);break e}}else for(c=i.child,c!==null&&(c.return=i);c!==null;){var b=c.dependencies;if(b!==null){d=c.child;for(var g=b.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=mh(-1,s&-s),g.tag=2;var j=c.updateQueue;if(j!==null){j=j.shared;var _e=j.pending;_e===null?g.next=g:(g.next=_e.next,_e.next=g),j.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),bh(c.return,s,i),b.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===i.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),bh(d,s,i),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===i){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,i,a.children,s),i=i.child}return i;case 9:return a=i.type,o=i.pendingProps.children,ch(i,s),a=eh(a),o=o(a),i.flags|=1,Xi(e,i,o,s),i.child;case 14:return o=i.type,a=Ci(o,i.pendingProps),a=Ci(o.type,a),$i(e,i,o,a,s);case 15:return bj(e,i,i.type,i.pendingProps,s);case 17:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Ci(o,a),ij(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,ch(i,s),Gi(i,o,a),Ii(i,o,a,s),jj(null,i,o,!0,e,s);case 19:return xj(e,i,s);case 22:return dj(e,i,s)}throw Error(p(156,i.tag))};function Fk(e,i){return ac(e,i)}function $k(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,o){return new $k(e,i,s,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rg(e,i,s,o,a,c){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(s.children,a,c,i);case za:d=8,a|=8;break;case Aa:return e=Bg(12,s,i,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,s,i,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,s,i,a),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(s,a,c,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,a),i.elementType=e,i.type=o,i.lanes=c,i}function Tg(e,i,s,o){return e=Bg(7,e,o,i),e.lanes=s,e}function pj(e,i,s,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function Qg(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function Sg(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function al(e,i,s,o,a){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(e,i,s,o,a,c,d,b,g){return e=new al(e,i,s,b,g),i===1?(i=1,c===!0&&(i|=8)):i=0,c=Bg(3,null,null,i),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:s}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function el(e,i,s,o,a,c,d,b,g){return e=bl(s,o,!0,e,a,c,d,b,g),e.context=dl(null),s=e.current,o=R(),a=yi(s),c=mh(o,a),c.callback=i??null,nh(s,c,a),e.current.lanes=a,Ac(e,a,o),Dk(e,o),e}function fl(e,i,s,o){var a=i.current,c=R(),d=yi(a);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(c,d),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=nh(a,i,d),e!==null&&(gi(e,a,d,c),oh(e,a,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function il(e,i){hl(e,i),(e=e.alternate)&&hl(e,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));fl(e,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Rk(function(){fl(null,e,null,null)}),i[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,i,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var j=gl(d);c.call(j)}}var d=el(i,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var b=o;o=function(){var j=gl(g);b.call(j)}}var g=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(i,g,s,o)}),g}function rl(e,i,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var b=a;a=function(){var g=gl(d);b.call(g)}}fl(i,d,e,a)}else d=ql(s,i,e,a,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var a=R();gi(o,e,1,a)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var i=ih(e,134217728);if(i!==null){var s=R();gi(i,e,134217728,s)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var i=yi(e),s=ih(e,i);if(s!==null){var o=R();gi(s,e,i,o)}il(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p(200));return cl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!nl(e))throw Error(p(299));var s=!1,o="",a=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),i=bl(e,1,!1,null,null,s,!1,o,a),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ll(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!nl(e))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=kl;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=el(i,null,e,1,s??null,a,!1,c,d),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)s=o[e],a=s._getVersion,a=a(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,a]:i.mutableSourceEagerHydrationData.push(s,a);return new ml(i)};reactDom_production_min.render=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,o){if(!ol(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,i,s,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,i)=>{const s=reactExports.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:b="",children:g,...j},_e)=>reactExports.createElement("svg",{ref:_e,...defaultAttributes,width:a,height:a,stroke:o,strokeWidth:d?Number(c)*24/Number(a):c,className:["lucide",`lucide-${toKebabCase(e)}`,b].join(" "),...j},[...i.map(([et,st])=>reactExports.createElement(et,st)),...Array.isArray(g)?g:[g]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),FileUpload=({onFileSelect:e})=>{const i=reactExports.useCallback(o=>{o.preventDefault();const a=o.dataTransfer.files[0];a&&a.type==="application/pdf"&&e(a)},[e]),s=reactExports.useCallback(o=>{var c;const a=(c=o.target.files)==null?void 0:c[0];a&&a.type==="application/pdf"&&e(a)},[e]);return jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-blue-500 transition-colors bg-[#0F0F0F]",onDrop:i,onDragOver:o=>o.preventDefault(),children:[jsxRuntimeExports.jsx(Upload,{className:"mx-auto h-12 w-12 text-gray-500"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-200",children:"Upload a PDF file"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Drag and drop or click to select"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:s,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer",children:"Select PDF"})]})};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Dn;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Et,i.bytesToString=nn,i.createValidAbsoluteUrl=jt,i.getModificationDate=Jt,i.getUuid=En,i.getVerbosityLevel=Pt,i.info=$t,i.isArrayBuffer=qt,i.isArrayEqual=Ht,i.isNodeJS=void 0,i.normalizeUnicode=Sn,i.objectFromMap=dn,i.objectSize=ln,i.setVerbosityLevel=zt,i.shadow=xt,i.string32=cn,i.stringToBytes=sn,i.stringToPDFString=an,i.stringToUTF8String=gn,i.unreachable=Nt,i.utf8StringToString=fn,i.warn=Dt;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=a;const c=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;i.LINE_FACTOR=d;const b=.35;i.LINE_DESCENT_FACTOR=b;const g=b/d;i.BASELINE_FACTOR=g;const j={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=j;const _e={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_e;const et="pdfjs_internal_editor_";i.AnnotationEditorPrefix=et;const st={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=st;const tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=tt;const ot={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=ot;const ft={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=ft;const yt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=yt;const rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=rt;const it={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=it;const dt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=dt;const mt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=mt;const ut={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ut;const lt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=lt;const ct={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=ct;const gt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=gt;const bt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=bt;const kt={NONE:0,BINARY:1};i.CMapCompressionType=kt;const ht={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=ht;const St={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=St;let At=bt.WARNINGS;function zt(hn){Number.isInteger(hn)&&(At=hn)}function Pt(){return At}function $t(hn){At>=bt.INFOS&&console.log(`Info: ${hn}`)}function Dt(hn){At>=bt.WARNINGS&&console.log(`Warning: ${hn}`)}function Nt(hn){throw new Error(hn)}function Et(hn,Yt){hn||Nt(Yt)}function vt(hn){switch(hn==null?void 0:hn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function jt(hn,Yt=null,Zt=null){if(!hn)return null;try{if(Zt&&typeof hn=="string"){if(Zt.addDefaultProtocol&&hn.startsWith("www.")){const jn=hn.match(/\./g);(jn==null?void 0:jn.length)>=2&&(hn=`http://${hn}`)}if(Zt.tryConvertEncoding)try{hn=gn(hn)}catch{}}const wn=Yt?new URL(hn,Yt):new URL(hn);if(vt(wn))return wn}catch{}return null}function xt(hn,Yt,Zt,wn=!1){return Object.defineProperty(hn,Yt,{value:Zt,enumerable:!wn,configurable:!0,writable:!1}),Zt}const nt=function(){function Yt(Zt,wn){this.constructor===Yt&&Nt("Cannot initialize BaseException."),this.message=Zt,this.name=wn}return Yt.prototype=new Error,Yt.constructor=Yt,Yt}();i.BaseException=nt;class pt extends nt{constructor(Yt,Zt){super(Yt,"PasswordException"),this.code=Zt}}i.PasswordException=pt;class wt extends nt{constructor(Yt,Zt){super(Yt,"UnknownErrorException"),this.details=Zt}}i.UnknownErrorException=wt;class Ct extends nt{constructor(Yt){super(Yt,"InvalidPDFException")}}i.InvalidPDFException=Ct;class Rt extends nt{constructor(Yt){super(Yt,"MissingPDFException")}}i.MissingPDFException=Rt;class Lt extends nt{constructor(Yt,Zt){super(Yt,"UnexpectedResponseException"),this.status=Zt}}i.UnexpectedResponseException=Lt;class Bt extends nt{constructor(Yt){super(Yt,"FormatError")}}i.FormatError=Bt;class Kt extends nt{constructor(Yt){super(Yt,"AbortException")}}i.AbortException=Kt;function nn(hn){(typeof hn!="object"||(hn==null?void 0:hn.length)===void 0)&&Nt("Invalid argument for bytesToString");const Yt=hn.length,Zt=8192;if(Yt<Zt)return String.fromCharCode.apply(null,hn);const wn=[];for(let jn=0;jn<Yt;jn+=Zt){const Nn=Math.min(jn+Zt,Yt),Ot=hn.subarray(jn,Nn);wn.push(String.fromCharCode.apply(null,Ot))}return wn.join("")}function sn(hn){typeof hn!="string"&&Nt("Invalid argument for stringToBytes");const Yt=hn.length,Zt=new Uint8Array(Yt);for(let wn=0;wn<Yt;++wn)Zt[wn]=hn.charCodeAt(wn)&255;return Zt}function cn(hn){return String.fromCharCode(hn>>24&255,hn>>16&255,hn>>8&255,hn&255)}function ln(hn){return Object.keys(hn).length}function dn(hn){const Yt=Object.create(null);for(const[Zt,wn]of hn)Yt[Zt]=wn;return Yt}function Vt(){const hn=new Uint8Array(4);return hn[0]=1,new Uint32Array(hn.buffer,0,1)[0]===1}function Xt(){try{return new Function(""),!0}catch{return!1}}class _t{static get isLittleEndian(){return xt(this,"isLittleEndian",Vt())}static get isEvalSupported(){return xt(this,"isEvalSupported",Xt())}static get isOffscreenCanvasSupported(){return xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?xt(this,"platform",{isWin:!1,isMac:!1}):xt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yt,Zt;return xt(this,"isCSSRoundSupported",(Zt=(Yt=globalThis.CSS)==null?void 0:Yt.supports)==null?void 0:Zt.call(Yt,"width: round(1.5px, 1px)"))}}i.FeatureTest=_t;const It=[...Array(256).keys()].map(hn=>hn.toString(16).padStart(2,"0"));class Wt{static makeHexColor(Yt,Zt,wn){return`#${It[Yt]}${It[Zt]}${It[wn]}`}static scaleMinMax(Yt,Zt){let wn;Yt[0]?(Yt[0]<0&&(wn=Zt[0],Zt[0]=Zt[1],Zt[1]=wn),Zt[0]*=Yt[0],Zt[1]*=Yt[0],Yt[3]<0&&(wn=Zt[2],Zt[2]=Zt[3],Zt[3]=wn),Zt[2]*=Yt[3],Zt[3]*=Yt[3]):(wn=Zt[0],Zt[0]=Zt[2],Zt[2]=wn,wn=Zt[1],Zt[1]=Zt[3],Zt[3]=wn,Yt[1]<0&&(wn=Zt[2],Zt[2]=Zt[3],Zt[3]=wn),Zt[2]*=Yt[1],Zt[3]*=Yt[1],Yt[2]<0&&(wn=Zt[0],Zt[0]=Zt[1],Zt[1]=wn),Zt[0]*=Yt[2],Zt[1]*=Yt[2]),Zt[0]+=Yt[4],Zt[1]+=Yt[4],Zt[2]+=Yt[5],Zt[3]+=Yt[5]}static transform(Yt,Zt){return[Yt[0]*Zt[0]+Yt[2]*Zt[1],Yt[1]*Zt[0]+Yt[3]*Zt[1],Yt[0]*Zt[2]+Yt[2]*Zt[3],Yt[1]*Zt[2]+Yt[3]*Zt[3],Yt[0]*Zt[4]+Yt[2]*Zt[5]+Yt[4],Yt[1]*Zt[4]+Yt[3]*Zt[5]+Yt[5]]}static applyTransform(Yt,Zt){const wn=Yt[0]*Zt[0]+Yt[1]*Zt[2]+Zt[4],jn=Yt[0]*Zt[1]+Yt[1]*Zt[3]+Zt[5];return[wn,jn]}static applyInverseTransform(Yt,Zt){const wn=Zt[0]*Zt[3]-Zt[1]*Zt[2],jn=(Yt[0]*Zt[3]-Yt[1]*Zt[2]+Zt[2]*Zt[5]-Zt[4]*Zt[3])/wn,Nn=(-Yt[0]*Zt[1]+Yt[1]*Zt[0]+Zt[4]*Zt[1]-Zt[5]*Zt[0])/wn;return[jn,Nn]}static getAxialAlignedBoundingBox(Yt,Zt){const wn=this.applyTransform(Yt,Zt),jn=this.applyTransform(Yt.slice(2,4),Zt),Nn=this.applyTransform([Yt[0],Yt[3]],Zt),Ot=this.applyTransform([Yt[2],Yt[1]],Zt);return[Math.min(wn[0],jn[0],Nn[0],Ot[0]),Math.min(wn[1],jn[1],Nn[1],Ot[1]),Math.max(wn[0],jn[0],Nn[0],Ot[0]),Math.max(wn[1],jn[1],Nn[1],Ot[1])]}static inverseTransform(Yt){const Zt=Yt[0]*Yt[3]-Yt[1]*Yt[2];return[Yt[3]/Zt,-Yt[1]/Zt,-Yt[2]/Zt,Yt[0]/Zt,(Yt[2]*Yt[5]-Yt[4]*Yt[3])/Zt,(Yt[4]*Yt[1]-Yt[5]*Yt[0])/Zt]}static singularValueDecompose2dScale(Yt){const Zt=[Yt[0],Yt[2],Yt[1],Yt[3]],wn=Yt[0]*Zt[0]+Yt[1]*Zt[2],jn=Yt[0]*Zt[1]+Yt[1]*Zt[3],Nn=Yt[2]*Zt[0]+Yt[3]*Zt[2],Ot=Yt[2]*Zt[1]+Yt[3]*Zt[3],un=(wn+Ot)/2,yn=Math.sqrt((wn+Ot)**2-4*(wn*Ot-Nn*jn))/2,Cn=un+yn||1,Ln=un-yn||1;return[Math.sqrt(Cn),Math.sqrt(Ln)]}static normalizeRect(Yt){const Zt=Yt.slice(0);return Yt[0]>Yt[2]&&(Zt[0]=Yt[2],Zt[2]=Yt[0]),Yt[1]>Yt[3]&&(Zt[1]=Yt[3],Zt[3]=Yt[1]),Zt}static intersect(Yt,Zt){const wn=Math.max(Math.min(Yt[0],Yt[2]),Math.min(Zt[0],Zt[2])),jn=Math.min(Math.max(Yt[0],Yt[2]),Math.max(Zt[0],Zt[2]));if(wn>jn)return null;const Nn=Math.max(Math.min(Yt[1],Yt[3]),Math.min(Zt[1],Zt[3])),Ot=Math.min(Math.max(Yt[1],Yt[3]),Math.max(Zt[1],Zt[3]));return Nn>Ot?null:[wn,Nn,jn,Ot]}static bezierBoundingBox(Yt,Zt,wn,jn,Nn,Ot,un,yn){const Cn=[],Ln=[[],[]];let xn,Mt,Tt,Ut,rn,on,pn,mn;for(let In=0;In<2;++In){if(In===0?(Mt=6*Yt-12*wn+6*Nn,xn=-3*Yt+9*wn-9*Nn+3*un,Tt=3*wn-3*Yt):(Mt=6*Zt-12*jn+6*Ot,xn=-3*Zt+9*jn-9*Ot+3*yn,Tt=3*jn-3*Zt),Math.abs(xn)<1e-12){if(Math.abs(Mt)<1e-12)continue;Ut=-Tt/Mt,0<Ut&&Ut<1&&Cn.push(Ut);continue}pn=Mt*Mt-4*Tt*xn,mn=Math.sqrt(pn),!(pn<0)&&(rn=(-Mt+mn)/(2*xn),0<rn&&rn<1&&Cn.push(rn),on=(-Mt-mn)/(2*xn),0<on&&on<1&&Cn.push(on))}let Tn=Cn.length,_n;const kn=Tn;for(;Tn--;)Ut=Cn[Tn],_n=1-Ut,Ln[0][Tn]=_n*_n*_n*Yt+3*_n*_n*Ut*wn+3*_n*Ut*Ut*Nn+Ut*Ut*Ut*un,Ln[1][Tn]=_n*_n*_n*Zt+3*_n*_n*Ut*jn+3*_n*Ut*Ut*Ot+Ut*Ut*Ut*yn;return Ln[0][kn]=Yt,Ln[1][kn]=Zt,Ln[0][kn+1]=un,Ln[1][kn+1]=yn,Ln[0].length=Ln[1].length=kn+2,[Math.min(...Ln[0]),Math.min(...Ln[1]),Math.max(...Ln[0]),Math.max(...Ln[1])]}}i.Util=Wt;const Qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function an(hn){if(hn[0]>="ï"){let Zt;if(hn[0]==="þ"&&hn[1]==="ÿ"?Zt="utf-16be":hn[0]==="ÿ"&&hn[1]==="þ"?Zt="utf-16le":hn[0]==="ï"&&hn[1]==="»"&&hn[2]==="¿"&&(Zt="utf-8"),Zt)try{const wn=new TextDecoder(Zt,{fatal:!0}),jn=sn(hn);return wn.decode(jn)}catch(wn){Dt(`stringToPDFString: "${wn}".`)}}const Yt=[];for(let Zt=0,wn=hn.length;Zt<wn;Zt++){const jn=Qt[hn.charCodeAt(Zt)];Yt.push(jn?String.fromCharCode(jn):hn.charAt(Zt))}return Yt.join("")}function gn(hn){return decodeURIComponent(escape(hn))}function fn(hn){return unescape(encodeURIComponent(hn))}function qt(hn){return typeof hn=="object"&&(hn==null?void 0:hn.byteLength)!==void 0}function Ht(hn,Yt){if(hn.length!==Yt.length)return!1;for(let Zt=0,wn=hn.length;Zt<wn;Zt++)if(hn[Zt]!==Yt[Zt])return!1;return!0}function Jt(hn=new Date){return[hn.getUTCFullYear().toString(),(hn.getUTCMonth()+1).toString().padStart(2,"0"),hn.getUTCDate().toString().padStart(2,"0"),hn.getUTCHours().toString().padStart(2,"0"),hn.getUTCMinutes().toString().padStart(2,"0"),hn.getUTCSeconds().toString().padStart(2,"0")].join("")}class vn{constructor(){en(this,Dn,!1);this.promise=new Promise((Yt,Zt)=>{this.resolve=wn=>{tn(this,Dn,!0),Yt(wn)},this.reject=wn=>{tn(this,Dn,!0),Zt(wn)}})}get settled(){return at(this,Dn)}}Dn=new WeakMap,i.PromiseCapability=vn;let bn=null,Pn=null;function Sn(hn){return bn||(bn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Pn=new Map([["ﬅ","ſt"]])),hn.replaceAll(bn,(Yt,Zt,wn)=>Zt?Zt.normalize("NFKC"):Pn.get(wn))}function En(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const hn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(hn);else for(let Yt=0;Yt<32;Yt++)hn[Yt]=Math.floor(Math.random()*255);return nn(hn)}const Fn="pdfjs_internal_id_";i.AnnotationPrefix=Fn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,o,a,Kn,ur,b,g,j,_e,et,st,tt,ot,ft,cr,rt,it,Er,mt,ut;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ct){if(typeof ct=="string"||ct instanceof URL?ct={url:ct}:(0,_util.isArrayBuffer)(ct)&&(ct={data:ct}),typeof ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ct.url&&!ct.data&&!ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const gt=new PDFDocumentLoadingTask,{docId:bt}=gt,kt=ct.url?getUrlProp(ct.url):null,ht=ct.data?getDataProp(ct.data):null,St=ct.httpHeaders||null,At=ct.withCredentials===!0,zt=ct.password??null,Pt=ct.range instanceof PDFDataRangeTransport?ct.range:null,$t=Number.isInteger(ct.rangeChunkSize)&&ct.rangeChunkSize>0?ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Dt=ct.worker instanceof PDFWorker?ct.worker:null;const Nt=ct.verbosity,Et=typeof ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ct.docBaseUrl)?ct.docBaseUrl:null,vt=typeof ct.cMapUrl=="string"?ct.cMapUrl:null,jt=ct.cMapPacked!==!1,xt=ct.CMapReaderFactory||DefaultCMapReaderFactory,nt=typeof ct.standardFontDataUrl=="string"?ct.standardFontDataUrl:null,pt=ct.StandardFontDataFactory||DefaultStandardFontDataFactory,wt=ct.stopAtErrors!==!0,Ct=Number.isInteger(ct.maxImageSize)&&ct.maxImageSize>-1?ct.maxImageSize:-1,Rt=ct.isEvalSupported!==!1,Lt=typeof ct.isOffscreenCanvasSupported=="boolean"?ct.isOffscreenCanvasSupported:!_util.isNodeJS,Bt=Number.isInteger(ct.canvasMaxAreaInBytes)?ct.canvasMaxAreaInBytes:-1,Kt=typeof ct.disableFontFace=="boolean"?ct.disableFontFace:_util.isNodeJS,nn=ct.fontExtraProperties===!0,sn=ct.enableXfa===!0,cn=ct.ownerDocument||globalThis.document,ln=ct.disableRange===!0,dn=ct.disableStream===!0,Vt=ct.disableAutoFetch===!0,Xt=ct.pdfBug===!0,_t=Pt?Pt.length:ct.length??NaN,It=typeof ct.useSystemFonts=="boolean"?ct.useSystemFonts:!_util.isNodeJS&&!Kt,Wt=typeof ct.useWorkerFetch=="boolean"?ct.useWorkerFetch:xt===_display_utils.DOMCMapReaderFactory&&pt===_display_utils.DOMStandardFontDataFactory&&vt&&nt&&(0,_display_utils.isValidFetchUrl)(vt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(nt,document.baseURI),Qt=ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:cn}),an=ct.filterFactory||new DefaultFilterFactory({docId:bt,ownerDocument:cn}),gn=null;(0,_util.setVerbosityLevel)(Nt);const fn={canvasFactory:Qt,filterFactory:an};if(Wt||(fn.cMapReaderFactory=new xt({baseUrl:vt,isCompressed:jt}),fn.standardFontDataFactory=new pt({baseUrl:nt})),!Dt){const Jt={verbosity:Nt,port:_worker_options.GlobalWorkerOptions.workerPort};Dt=Jt.port?PDFWorker.fromPort(Jt):new PDFWorker(Jt),gt._worker=Dt}const qt={docId:bt,apiVersion:"3.11.174",data:ht,password:zt,disableAutoFetch:Vt,rangeChunkSize:$t,length:_t,docBaseUrl:Et,enableXfa:sn,evaluatorOptions:{maxImageSize:Ct,disableFontFace:Kt,ignoreErrors:wt,isEvalSupported:Rt,isOffscreenCanvasSupported:Lt,canvasMaxAreaInBytes:Bt,fontExtraProperties:nn,useSystemFonts:It,cMapUrl:Wt?vt:null,standardFontDataUrl:Wt?nt:null}},Ht={ignoreErrors:wt,isEvalSupported:Rt,disableFontFace:Kt,fontExtraProperties:nn,enableXfa:sn,ownerDocument:cn,disableAutoFetch:Vt,pdfBug:Xt,styleElement:gn};return Dt.promise.then(function(){if(gt.destroyed)throw new Error("Loading aborted");const Jt=_fetchDocument(Dt,qt),vn=new Promise(function(bn){let Pn;Pt?Pn=new _transport_stream.PDFDataTransportStream({length:_t,initialData:Pt.initialData,progressiveDone:Pt.progressiveDone,contentDispositionFilename:Pt.contentDispositionFilename,disableRange:ln,disableStream:dn},Pt):ht||(Pn=(En=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(En):(0,_display_utils.isValidFetchUrl)(En.url)?new _displayFetch_stream.PDFFetchStream(En):new _displayNetwork.PDFNetworkStream(En))({url:kt,length:_t,httpHeaders:St,withCredentials:At,rangeChunkSize:$t,disableRange:ln,disableStream:dn})),bn(Pn)});return Promise.all([Jt,vn]).then(function([bn,Pn]){if(gt.destroyed)throw new Error("Loading aborted");const Sn=new _message_handler.MessageHandler(bt,bn,Dt.port),En=new WorkerTransport(Sn,gt,Pn,Ht,fn);gt._transport=En,Sn.send("Ready",null)})}).catch(gt._capability.reject),gt}async function _fetchDocument(ct,gt){if(ct.destroyed)throw new Error("Worker was destroyed");const bt=await ct.messageHandler.sendWithPromise("GetDocRequest",gt,gt.data?[gt.data.buffer]:null);if(ct.destroyed)throw new Error("Worker was destroyed");return bt}function getUrlProp(ct){if(ct instanceof URL)return ct.href;try{return new URL(ct,window.location).href}catch{if(_util.isNodeJS&&typeof ct=="string")return ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ct){if(_util.isNodeJS&&typeof Buffer<"u"&&ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ct instanceof Uint8Array&&ct.byteLength===ct.buffer.byteLength)return ct;if(typeof ct=="string")return(0,_util.stringToBytes)(ct);if(typeof ct=="object"&&!isNaN(ct==null?void 0:ct.length)||(0,_util.isArrayBuffer)(ct))return new Uint8Array(ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${tr(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var gt,bt,kt;this.destroyed=!0;try{(gt=this._worker)!=null&&gt.port&&(this._worker._pendingDestroy=!0),await((bt=this._transport)==null?void 0:bt.destroy())}catch(ht){throw(kt=this._worker)!=null&&kt.port&&delete this._worker._pendingDestroy,ht}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,en(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(gt,bt,kt=!1,ht=null){this.length=gt,this.initialData=bt,this.progressiveDone=kt,this.contentDispositionFilename=ht,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(gt){this._rangeListeners.push(gt)}addProgressListener(gt){this._progressListeners.push(gt)}addProgressiveReadListener(gt){this._progressiveReadListeners.push(gt)}addProgressiveDoneListener(gt){this._progressiveDoneListeners.push(gt)}onDataRange(gt,bt){for(const kt of this._rangeListeners)kt(gt,bt)}onDataProgress(gt,bt){this._readyCapability.promise.then(()=>{for(const kt of this._progressListeners)kt(gt,bt)})}onDataProgressiveRead(gt){this._readyCapability.promise.then(()=>{for(const bt of this._progressiveReadListeners)bt(gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const gt of this._progressiveDoneListeners)gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(gt,bt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(gt,bt){this._pdfInfo=gt,this._transport=bt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(kt=>{if(!kt)return kt;const ht=[];for(const St in kt)ht.push(...kt[St]);return ht}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(gt){return this._transport.getPage(gt)}getPageIndex(gt){return this._transport.getPageIndex(gt)}getDestinations(){return this._transport.getDestinations()}getDestination(gt){return this._transport.getDestination(gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(gt=!1){return this._transport.startCleanup(gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(gt,bt,kt,ht=!1){en(this,a);en(this,s,null);en(this,o,!1);this._pageIndex=gt,this._pageInfo=bt,this._transport=kt,this._stats=ht?new _display_utils.StatTimer:null,this._pdfBug=ht,this.commonObjs=kt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:gt,rotation:bt=this.rotate,offsetX:kt=0,offsetY:ht=0,dontFlip:St=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:gt,rotation:bt,offsetX:kt,offsetY:ht,dontFlip:St})}getAnnotations({intent:gt="display"}={}){const bt=this._transport.getRenderingIntent(gt);return this._transport.getAnnotations(this._pageIndex,bt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var gt;return((gt=this._transport._htmlForXfa)==null?void 0:gt.children[this._pageIndex])||null}render({canvasContext:gt,viewport:bt,intent:kt="display",annotationMode:ht=_util.AnnotationMode.ENABLE,transform:St=null,background:At=null,optionalContentConfigPromise:zt=null,annotationCanvasMap:Pt=null,pageColors:$t=null,printAnnotationStorage:Dt=null}){var pt,wt;(pt=this._stats)==null||pt.time("Overall");const Nt=this._transport.getRenderingIntent(kt,ht,Dt);tn(this,o,!1),Gt(this,a,ur).call(this),zt||(zt=this._transport.getOptionalContentConfig());let Et=this._intentStates.get(Nt.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(Nt.cacheKey,Et)),Et.streamReaderCancelTimeout&&(clearTimeout(Et.streamReaderCancelTimeout),Et.streamReaderCancelTimeout=null);const vt=!!(Nt.renderingIntent&_util.RenderingIntentFlag.PRINT);Et.displayReadyCapability||(Et.displayReadyCapability=new _util.PromiseCapability,Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(wt=this._stats)==null||wt.time("Page Request"),this._pumpOperatorList(Nt));const jt=Ct=>{var Rt,Lt;Et.renderTasks.delete(xt),(this._maybeCleanupAfterRender||vt)&&tn(this,o,!0),Gt(this,a,Kn).call(this,!vt),Ct?(xt.capability.reject(Ct),this._abortOperatorList({intentState:Et,reason:Ct instanceof Error?Ct:new Error(Ct)})):xt.capability.resolve(),(Rt=this._stats)==null||Rt.timeEnd("Rendering"),(Lt=this._stats)==null||Lt.timeEnd("Overall")},xt=new InternalRenderTask({callback:jt,params:{canvasContext:gt,viewport:bt,transform:St,background:At},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Pt,operatorList:Et.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!vt,pdfBug:this._pdfBug,pageColors:$t});(Et.renderTasks||(Et.renderTasks=new Set)).add(xt);const nt=xt.task;return Promise.all([Et.displayReadyCapability.promise,zt]).then(([Ct,Rt])=>{var Lt;if(this.destroyed){jt();return}(Lt=this._stats)==null||Lt.time("Rendering"),xt.initializeGraphics({transparency:Ct,optionalContentConfig:Rt}),xt.operatorListChanged()}).catch(jt),nt}getOperatorList({intent:gt="display",annotationMode:bt=_util.AnnotationMode.ENABLE,printAnnotationStorage:kt=null}={}){var Pt;function ht(){At.operatorList.lastChunk&&(At.opListReadCapability.resolve(At.operatorList),At.renderTasks.delete(zt))}const St=this._transport.getRenderingIntent(gt,bt,kt,!0);let At=this._intentStates.get(St.cacheKey);At||(At=Object.create(null),this._intentStates.set(St.cacheKey,At));let zt;return At.opListReadCapability||(zt=Object.create(null),zt.operatorListChanged=ht,At.opListReadCapability=new _util.PromiseCapability,(At.renderTasks||(At.renderTasks=new Set)).add(zt),At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pt=this._stats)==null||Pt.time("Page Request"),this._pumpOperatorList(St)),At.opListReadCapability.promise}streamTextContent({includeMarkedContent:gt=!1,disableNormalization:bt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:gt===!0,disableNormalization:bt===!0},{highWaterMark:100,size(ht){return ht.items.length}})}getTextContent(gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(kt=>_xfa_text.XfaText.textContent(kt));const bt=this.streamTextContent(gt);return new Promise(function(kt,ht){function St(){At.read().then(function({value:Pt,done:$t}){if($t){kt(zt);return}Object.assign(zt.styles,Pt.styles),zt.items.push(...Pt.items),St()},ht)}const At=bt.getReader(),zt={items:[],styles:Object.create(null)};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const gt=[];for(const bt of this._intentStates.values())if(this._abortOperatorList({intentState:bt,reason:new Error("Page was destroyed."),force:!0}),!bt.opListReadCapability)for(const kt of bt.renderTasks)gt.push(kt.completed),kt.cancel();return this.objs.clear(),tn(this,o,!1),Gt(this,a,ur).call(this),Promise.all(gt)}cleanup(gt=!1){tn(this,o,!0);const bt=Gt(this,a,Kn).call(this,!1);return gt&&bt&&this._stats&&(this._stats=new _display_utils.StatTimer),bt}_startRenderPage(gt,bt){var ht,St;const kt=this._intentStates.get(bt);kt&&((ht=this._stats)==null||ht.timeEnd("Page Request"),(St=kt.displayReadyCapability)==null||St.resolve(gt))}_renderPageChunk(gt,bt){for(let kt=0,ht=gt.length;kt<ht;kt++)bt.operatorList.fnArray.push(gt.fnArray[kt]),bt.operatorList.argsArray.push(gt.argsArray[kt]);bt.operatorList.lastChunk=gt.lastChunk,bt.operatorList.separateAnnots=gt.separateAnnots;for(const kt of bt.renderTasks)kt.operatorListChanged();gt.lastChunk&&Gt(this,a,Kn).call(this,!0)}_pumpOperatorList({renderingIntent:gt,cacheKey:bt,annotationStorageSerializable:kt}){const{map:ht,transfers:St}=kt,zt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:gt,cacheKey:bt,annotationStorage:ht},St).getReader(),Pt=this._intentStates.get(bt);Pt.streamReader=zt;const $t=()=>{zt.read().then(({value:Dt,done:Nt})=>{if(Nt){Pt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Dt,Pt),$t())},Dt=>{if(Pt.streamReader=null,!this._transport.destroyed){if(Pt.operatorList){Pt.operatorList.lastChunk=!0;for(const Nt of Pt.renderTasks)Nt.operatorListChanged();Gt(this,a,Kn).call(this,!0)}if(Pt.displayReadyCapability)Pt.displayReadyCapability.reject(Dt);else if(Pt.opListReadCapability)Pt.opListReadCapability.reject(Dt);else throw Dt}})};$t()}_abortOperatorList({intentState:gt,reason:bt,force:kt=!1}){if(gt.streamReader){if(gt.streamReaderCancelTimeout&&(clearTimeout(gt.streamReaderCancelTimeout),gt.streamReaderCancelTimeout=null),!kt){if(gt.renderTasks.size>0)return;if(bt instanceof _display_utils.RenderingCancelledException){let ht=RENDERING_CANCELLED_TIMEOUT;bt.extraDelay>0&&bt.extraDelay<1e3&&(ht+=bt.extraDelay),gt.streamReaderCancelTimeout=setTimeout(()=>{gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:gt,reason:bt,force:!0})},ht);return}}if(gt.streamReader.cancel(new _util.AbortException(bt.message)).catch(()=>{}),gt.streamReader=null,!this._transport.destroyed){for(const[ht,St]of this._intentStates)if(St===gt){this._intentStates.delete(ht);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,a=new WeakSet,Kn=function(gt=!1){if(Gt(this,a,ur).call(this),!at(this,o)||this.destroyed)return!1;if(gt)return tn(this,s,setTimeout(()=>{tn(this,s,null),Gt(this,a,Kn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:bt,operatorList:kt}of this._intentStates.values())if(bt.size>0||!kt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),tn(this,o,!1),!0},ur=function(){at(this,s)&&(clearTimeout(at(this,s)),tn(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){en(this,b,new Set);en(this,g,Promise.resolve())}postMessage(gt,bt){const kt={data:structuredClone(gt,bt?{transfer:bt}:null)};at(this,g).then(()=>{for(const ht of at(this,b))ht.call(this,kt)})}addEventListener(gt,bt){at(this,b).add(bt)}removeEventListener(gt,bt){at(this,b).delete(bt)}terminate(){at(this,b).clear()}}b=new WeakMap,g=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ct=(j=document==null?void 0:document.currentScript)==null?void 0:j.src;ct&&(PDFWorkerUtil.fallbackWorkerSrc=ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ct,gt){let bt;try{if(bt=new URL(ct),!bt.origin||bt.origin==="null")return!1}catch{return!1}const kt=new URL(gt,bt);return bt.origin===kt.origin},PDFWorkerUtil.createCDNWrapper=function(ct){const gt=`importScripts("${ct}");`;return URL.createObjectURL(new Blob([gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:ct=null,port:gt=null,verbosity:bt=(0,_util.getVerbosityLevel)()}={}){var kt;if(this.name=ct,this.destroyed=!1,this.verbosity=bt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,gt){if((kt=at(_PDFWorker,_e))!=null&&kt.has(gt))throw new Error("Cannot use more than one PDFWorker per port.");(at(_PDFWorker,_e)||tn(_PDFWorker,_e,new WeakMap)).set(gt,this),this._initializeFromPort(gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ct){this._port=ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ct)||(ct=PDFWorkerUtil.createCDNWrapper(new URL(ct,window.location).href));const gt=new Worker(ct),bt=new _message_handler.MessageHandler("main","worker",gt),kt=()=>{gt.removeEventListener("error",ht),bt.destroy(),gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ht=()=>{this._webWorker||kt()};gt.addEventListener("error",ht),bt.on("test",At=>{if(gt.removeEventListener("error",ht),this.destroyed){kt();return}At?(this._messageHandler=bt,this._port=gt,this._webWorker=gt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),bt.destroy(),gt.terminate())}),bt.on("ready",At=>{if(gt.removeEventListener("error",ht),this.destroyed){kt();return}try{St()}catch{this._setupFakeWorker()}});const St=()=>{const At=new Uint8Array;bt.send("test",At,[At.buffer])};St();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const gt=new LoopbackPort;this._port=gt;const bt=`fake${PDFWorkerUtil.fakeWorkerId++}`,kt=new _message_handler.MessageHandler(bt+"_worker",bt,gt);ct.setup(kt,gt);const ht=new _message_handler.MessageHandler(bt,bt+"_worker",gt);this._messageHandler=ht,this._readyCapability.resolve(),ht.send("configure",{verbosity:this.verbosity})}).catch(ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ct.message}".`))})}destroy(){var ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ct=at(_PDFWorker,_e))==null||ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ct){var bt;if(!(ct!=null&&ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const gt=(bt=at(this,_e))==null?void 0:bt.get(ct.port);if(gt){if(gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return gt}return new _PDFWorker(ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ct;try{return((ct=globalThis.pdfjsWorker)==null?void 0:ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_e=new WeakMap,en(_PDFWorker,_e);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(gt,bt,kt,ht,St){en(this,ft);en(this,et,new Map);en(this,st,new Map);en(this,tt,new Map);en(this,ot,null);this.messageHandler=gt,this.loadingTask=bt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ht.ownerDocument,styleElement:ht.styleElement}),this._params=ht,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=kt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(gt,bt=_util.AnnotationMode.ENABLE,kt=null,ht=!1){let St=_util.RenderingIntentFlag.DISPLAY,At=_annotation_storage.SerializableEmpty;switch(gt){case"any":St=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":St=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${gt}`)}switch(bt){case _util.AnnotationMode.DISABLE:St+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:St+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:St+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,At=(St&_util.RenderingIntentFlag.PRINT&&kt instanceof _annotation_storage.PrintAnnotationStorage?kt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${bt}`)}return ht&&(St+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${At.hash}`,annotationStorageSerializable:At}}destroy(){var kt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(kt=at(this,ot))==null||kt.reject(new Error("Worker was destroyed during onPassword callback"));const gt=[];for(const ht of at(this,st).values())gt.push(ht._destroy());at(this,st).clear(),at(this,tt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const bt=this.messageHandler.sendWithPromise("Terminate",null);return gt.push(bt),Promise.all(gt).then(()=>{var ht;this.commonObjs.clear(),this.fontLoader.clear(),at(this,et).clear(),this.filterFactory.destroy(),(ht=this._networkStream)==null||ht.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:gt,loadingTask:bt}=this;gt.on("GetReader",(kt,ht)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},ht.onPull=()=>{this._fullReader.read().then(function({value:St,done:At}){if(At){ht.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ht.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{ht.error(St)})},ht.onCancel=St=>{this._fullReader.cancel(St),ht.ready.catch(At=>{if(!this.destroyed)throw At})}}),gt.on("ReaderHeadersReady",kt=>{const ht=new _util.PromiseCapability,St=this._fullReader;return St.headersReady.then(()=>{var At;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((At=bt.onProgress)==null||At.call(bt,this._lastProgress)),St.onProgress=zt=>{var Pt;(Pt=bt.onProgress)==null||Pt.call(bt,{loaded:zt.loaded,total:zt.total})}),ht.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},ht.reject),ht.promise}),gt.on("GetRangeReader",(kt,ht)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(kt.begin,kt.end);if(!St){ht.close();return}ht.onPull=()=>{St.read().then(function({value:At,done:zt}){if(zt){ht.close();return}(0,_util.assert)(At instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ht.enqueue(new Uint8Array(At),1,[At])}).catch(At=>{ht.error(At)})},ht.onCancel=At=>{St.cancel(At),ht.ready.catch(zt=>{if(!this.destroyed)throw zt})}}),gt.on("GetDoc",({pdfInfo:kt})=>{this._numPages=kt.numPages,this._htmlForXfa=kt.htmlForXfa,delete kt.htmlForXfa,bt._capability.resolve(new PDFDocumentProxy(kt,this))}),gt.on("DocException",function(kt){let ht;switch(kt.name){case"PasswordException":ht=new _util.PasswordException(kt.message,kt.code);break;case"InvalidPDFException":ht=new _util.InvalidPDFException(kt.message);break;case"MissingPDFException":ht=new _util.MissingPDFException(kt.message);break;case"UnexpectedResponseException":ht=new _util.UnexpectedResponseException(kt.message,kt.status);break;case"UnknownErrorException":ht=new _util.UnknownErrorException(kt.message,kt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}bt._capability.reject(ht)}),gt.on("PasswordRequest",kt=>{if(tn(this,ot,new _util.PromiseCapability),bt.onPassword){const ht=St=>{St instanceof Error?at(this,ot).reject(St):at(this,ot).resolve({password:St})};try{bt.onPassword(ht,kt.code)}catch(St){at(this,ot).reject(St)}}else at(this,ot).reject(new _util.PasswordException(kt.message,kt.code));return at(this,ot).promise}),gt.on("DataLoaded",kt=>{var ht;(ht=bt.onProgress)==null||ht.call(bt,{loaded:kt.length,total:kt.length}),this.downloadInfoCapability.resolve(kt)}),gt.on("StartRenderPage",kt=>{if(this.destroyed)return;at(this,st).get(kt.pageIndex)._startRenderPage(kt.transparency,kt.cacheKey)}),gt.on("commonobj",([kt,ht,St])=>{var At;if(!this.destroyed&&!this.commonObjs.has(kt))switch(ht){case"Font":const zt=this._params;if("error"in St){const Dt=St.error;(0,_util.warn)(`Error during font loading: ${Dt}`),this.commonObjs.resolve(kt,Dt);break}const Pt=zt.pdfBug&&((At=globalThis.FontInspector)!=null&&At.enabled)?(Dt,Nt)=>globalThis.FontInspector.fontAdded(Dt,Nt):null,$t=new _font_loader.FontFaceObject(St,{isEvalSupported:zt.isEvalSupported,disableFontFace:zt.disableFontFace,ignoreErrors:zt.ignoreErrors,inspectFont:Pt});this.fontLoader.bind($t).catch(Dt=>gt.sendWithPromise("FontFallback",{id:kt})).finally(()=>{!zt.fontExtraProperties&&$t.data&&($t.data=null),this.commonObjs.resolve(kt,$t)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(kt,St);break;default:throw new Error(`Got unknown common object type ${ht}`)}}),gt.on("obj",([kt,ht,St,At])=>{var Pt;if(this.destroyed)return;const zt=at(this,st).get(ht);if(!zt.objs.has(kt))switch(St){case"Image":if(zt.objs.resolve(kt,At),At){let $t;if(At.bitmap){const{width:Dt,height:Nt}=At;$t=Dt*Nt*4}else $t=((Pt=At.data)==null?void 0:Pt.length)||0;$t>_util.MAX_IMAGE_SIZE_TO_CACHE&&(zt._maybeCleanupAfterRender=!0)}break;case"Pattern":zt.objs.resolve(kt,At);break;default:throw new Error(`Got unknown object type ${St}`)}}),gt.on("DocProgress",kt=>{var ht;this.destroyed||(ht=bt.onProgress)==null||ht.call(bt,{loaded:kt.loaded,total:kt.total})}),gt.on("FetchBuiltInCMap",kt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(kt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),gt.on("FetchStandardFontData",kt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(kt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var kt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:gt,transfers:bt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:gt,filename:((kt=this._fullReader)==null?void 0:kt.filename)??null},bt).finally(()=>{this.annotationStorage.resetModified()})}getPage(gt){if(!Number.isInteger(gt)||gt<=0||gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const bt=gt-1,kt=at(this,tt).get(bt);if(kt)return kt;const ht=this.messageHandler.sendWithPromise("GetPage",{pageIndex:bt}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");const At=new PDFPageProxy(bt,St,this,this._params.pdfBug);return at(this,st).set(bt,At),At});return at(this,tt).set(bt,ht),ht}getPageIndex(gt){return typeof gt!="object"||gt===null||!Number.isInteger(gt.num)||gt.num<0||!Number.isInteger(gt.gen)||gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:gt.num,gen:gt.gen})}getAnnotations(gt,bt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:gt,intent:bt})}getFieldObjects(){return Gt(this,ft,cr).call(this,"GetFieldObjects")}hasJSActions(){return Gt(this,ft,cr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(gt){return typeof gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Gt(this,ft,cr).call(this,"GetDocJSActions")}getPageJSActions(gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:gt})}getStructTree(gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(gt=>new _optional_content_config.OptionalContentConfig(gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const gt="GetMetadata",bt=at(this,et).get(gt);if(bt)return bt;const kt=this.messageHandler.sendWithPromise(gt,null).then(ht=>{var St,At;return{info:ht[0],metadata:ht[1]?new _metadata.Metadata(ht[1]):null,contentDispositionFilename:((St=this._fullReader)==null?void 0:St.filename)??null,contentLength:((At=this._fullReader)==null?void 0:At.contentLength)??null}});return at(this,et).set(gt,kt),kt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const bt of at(this,st).values())if(!bt.cleanup())throw new Error(`startCleanup: Page ${bt.pageNumber} is currently rendering.`);this.commonObjs.clear(),gt||this.fontLoader.clear(),at(this,et).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:gt,enableXfa:bt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:gt,enableXfa:bt})}}et=new WeakMap,st=new WeakMap,tt=new WeakMap,ot=new WeakMap,ft=new WeakSet,cr=function(gt,bt=null){const kt=at(this,et).get(gt);if(kt)return kt;const ht=this.messageHandler.sendWithPromise(gt,bt);return at(this,et).set(gt,ht),ht};class PDFObjects{constructor(){en(this,it);en(this,rt,Object.create(null))}get(gt,bt=null){if(bt){const ht=Gt(this,it,Er).call(this,gt);return ht.capability.promise.then(()=>bt(ht.data)),null}const kt=at(this,rt)[gt];if(!(kt!=null&&kt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${gt}.`);return kt.data}has(gt){const bt=at(this,rt)[gt];return(bt==null?void 0:bt.capability.settled)||!1}resolve(gt,bt=null){const kt=Gt(this,it,Er).call(this,gt);kt.data=bt,kt.capability.resolve()}clear(){var gt;for(const bt in at(this,rt)){const{data:kt}=at(this,rt)[bt];(gt=kt==null?void 0:kt.bitmap)==null||gt.close()}tn(this,rt,Object.create(null))}}rt=new WeakMap,it=new WeakSet,Er=function(gt){var bt;return(bt=at(this,rt))[gt]||(bt[gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(gt){en(this,mt,null);tn(this,mt,gt),this.onContinue=null}get promise(){return at(this,mt).capability.promise}cancel(gt=0){at(this,mt).cancel(null,gt)}get separateAnnots(){const{separateAnnots:gt}=at(this,mt).operatorList;if(!gt)return!1;const{annotationCanvasMap:bt}=at(this,mt);return gt.form||gt.canvas&&(bt==null?void 0:bt.size)>0}}mt=new WeakMap,exports.RenderTask=RenderTask;const lt=class lt{constructor({callback:gt,params:bt,objs:kt,commonObjs:ht,annotationCanvasMap:St,operatorList:At,pageIndex:zt,canvasFactory:Pt,filterFactory:$t,useRequestAnimationFrame:Dt=!1,pdfBug:Nt=!1,pageColors:Et=null}){this.callback=gt,this.params=bt,this.objs=kt,this.commonObjs=ht,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=At,this._pageIndex=zt,this.canvasFactory=Pt,this.filterFactory=$t,this._pdfBug=Nt,this.pageColors=Et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Dt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=bt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:gt=!1,optionalContentConfig:bt}){var zt,Pt;if(this.cancelled)return;if(this._canvas){if(at(lt,ut).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");at(lt,ut).add(this._canvas)}this._pdfBug&&((zt=globalThis.StepperManager)!=null&&zt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:kt,viewport:ht,transform:St,background:At}=this.params;this.gfx=new _canvas.CanvasGraphics(kt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:bt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:St,viewport:ht,transparency:gt,background:At}),this.operatorListIdx=0,this.graphicsReady=!0,(Pt=this.graphicsReadyCallback)==null||Pt.call(this)}cancel(gt=null,bt=0){var kt;this.running=!1,this.cancelled=!0,(kt=this.gfx)==null||kt.endDrawing(),at(lt,ut).delete(this._canvas),this.callback(gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,bt))}operatorListChanged(){var gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(gt=this.stepper)==null||gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),at(lt,ut).delete(this._canvas),this.callback())))}};ut=new WeakMap,en(lt,ut,new WeakSet);let InternalRenderTask=lt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,s)=>{var j,_e,et,ss,tt;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),a=s(4),c=s(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class b{constructor(){en(this,et);en(this,j,!1);en(this,_e,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ft,yt){const rt=at(this,_e).get(ft);return rt===void 0?yt:Object.assign(yt,rt)}getRawValue(ft){return at(this,_e).get(ft)}remove(ft){if(at(this,_e).delete(ft),at(this,_e).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const yt of at(this,_e).values())if(yt instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ft,yt){const rt=at(this,_e).get(ft);let it=!1;if(rt!==void 0)for(const[dt,mt]of Object.entries(yt))rt[dt]!==mt&&(it=!0,rt[dt]=mt);else it=!0,at(this,_e).set(ft,yt);it&&Gt(this,et,ss).call(this),yt instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(yt.constructor._type)}has(ft){return at(this,_e).has(ft)}getAll(){return at(this,_e).size>0?(0,o.objectFromMap)(at(this,_e)):null}setAll(ft){for(const[yt,rt]of Object.entries(ft))this.setValue(yt,rt)}get size(){return at(this,_e).size}resetModified(){at(this,j)&&(tn(this,j,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new g(this)}get serializable(){if(at(this,_e).size===0)return d;const ft=new Map,yt=new c.MurmurHash3_64,rt=[],it=Object.create(null);let dt=!1;for(const[mt,ut]of at(this,_e)){const lt=ut instanceof a.AnnotationEditor?ut.serialize(!1,it):ut;lt&&(ft.set(mt,lt),yt.update(`${mt}:${JSON.stringify(lt)}`),dt||(dt=!!lt.bitmap))}if(dt)for(const mt of ft.values())mt.bitmap&&rt.push(mt.bitmap);return ft.size>0?{map:ft,hash:yt.hexdigest(),transfers:rt}:d}}j=new WeakMap,_e=new WeakMap,et=new WeakSet,ss=function(){at(this,j)||(tn(this,j,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=b;class g extends b{constructor(yt){super();en(this,tt);const{map:rt,hash:it,transfers:dt}=yt.serializable,mt=structuredClone(rt,dt?{transfer:dt}:null);tn(this,tt,{map:mt,hash:it,transfers:dt})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return at(this,tt)}}tt=new WeakMap,i.PrintAnnotationStorage=g},(e,i,s)=>{var g,j,_e,et,st,tt,ot,ft,yt,rt,it,dt,mt,ut,lt,_r,Ar,bt,Cr,Tr,os,as,ls,Pr,us;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),a=s(1),c=s(6);const Dt=class Dt{constructor(Et){en(this,lt);en(this,g,"");en(this,j,!1);en(this,_e,null);en(this,et,null);en(this,st,null);en(this,tt,!1);en(this,ot,null);en(this,ft,this.focusin.bind(this));en(this,yt,this.focusout.bind(this));en(this,rt,!1);en(this,it,!1);en(this,dt,!1);Bn(this,"_initialOptions",Object.create(null));Bn(this,"_uiManager",null);Bn(this,"_focusEventsAllowed",!0);Bn(this,"_l10nPromise",null);en(this,mt,!1);en(this,ut,Dt._zIndex++);this.constructor===Dt&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Et.parent,this.id=Et.id,this.width=this.height=null,this.pageIndex=Et.parent.pageIndex,this.name=Et.name,this.div=null,this._uiManager=Et.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Et.isCentered,this._structTreeParentId=null;const{rotation:vt,rawDims:{pageWidth:jt,pageHeight:xt,pageX:nt,pageY:pt}}=this.parent.viewport;this.rotation=vt,this.pageRotation=(360+vt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[jt,xt],this.pageTranslation=[nt,pt];const[wt,Ct]=this.parentDimensions;this.x=Et.x/wt,this.y=Et.y/Ct,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Et){const vt=new b({id:Et.parent.getNextId(),parent:Et.parent,uiManager:Et._uiManager});vt.annotationElementId=Et.annotationElementId,vt.deleted=!0,vt._uiManager.addToAnnotationStorage(vt)}static initialize(Et,vt=null){if(Dt._l10nPromise||(Dt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(xt=>[xt,Et.get(xt)]))),vt!=null&&vt.strings)for(const xt of vt.strings)Dt._l10nPromise.set(xt,Et.get(xt));if(Dt._borderLineWidth!==-1)return;const jt=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(jt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Et,vt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Et){return!1}static paste(Et,vt){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return at(this,mt)}set _isDraggable(Et){var vt;tn(this,mt,Et),(vt=this.div)==null||vt.classList.toggle("draggable",Et)}center(){const[Et,vt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*vt/(Et*2),this.y+=this.width*Et/(vt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*vt/(Et*2),this.y-=this.width*Et/(vt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Et){this._uiManager.addCommands(Et)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=at(this,ut)}setParent(Et){Et!==null&&(this.pageIndex=Et.pageIndex,this.pageDimensions=Et.pageDimensions),this.parent=Et}focusin(Et){this._focusEventsAllowed&&(at(this,rt)?tn(this,rt,!1):this.parent.setSelected(this))}focusout(Et){var jt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const vt=Et.relatedTarget;vt!=null&&vt.closest(`#${this.id}`)||(Et.preventDefault(),(jt=this.parent)!=null&&jt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Et,vt,jt,xt){const[nt,pt]=this.parentDimensions;[jt,xt]=this.screenToPageTranslation(jt,xt),this.x=(Et+jt)/nt,this.y=(vt+xt)/pt,this.fixAndSetPosition()}translate(Et,vt){Gt(this,lt,_r).call(this,this.parentDimensions,Et,vt)}translateInPage(Et,vt){Gt(this,lt,_r).call(this,this.pageDimensions,Et,vt),this.div.scrollIntoView({block:"nearest"})}drag(Et,vt){const[jt,xt]=this.parentDimensions;if(this.x+=Et/jt,this.y+=vt/xt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Rt,y:Lt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Rt,Lt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:nt,y:pt}=this;const[wt,Ct]=Gt(this,lt,Ar).call(this);nt+=wt,pt+=Ct,this.div.style.left=`${(100*nt).toFixed(2)}%`,this.div.style.top=`${(100*pt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Et,vt]=this.pageDimensions;let{x:jt,y:xt,width:nt,height:pt}=this;switch(nt*=Et,pt*=vt,jt*=Et,xt*=vt,this.rotation){case 0:jt=Math.max(0,Math.min(Et-nt,jt)),xt=Math.max(0,Math.min(vt-pt,xt));break;case 90:jt=Math.max(0,Math.min(Et-pt,jt)),xt=Math.min(vt,Math.max(nt,xt));break;case 180:jt=Math.min(Et,Math.max(nt,jt)),xt=Math.min(vt,Math.max(pt,xt));break;case 270:jt=Math.min(Et,Math.max(pt,jt)),xt=Math.max(0,Math.min(vt-nt,xt));break}this.x=jt/=Et,this.y=xt/=vt;const[wt,Ct]=Gt(this,lt,Ar).call(this);jt+=wt,xt+=Ct;const{style:Rt}=this.div;Rt.left=`${(100*jt).toFixed(2)}%`,Rt.top=`${(100*xt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Et,vt){var jt;return Gt(jt=Dt,bt,Cr).call(jt,Et,vt,this.parentRotation)}pageTranslationToScreen(Et,vt){var jt;return Gt(jt=Dt,bt,Cr).call(jt,Et,vt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Et,pageDimensions:[vt,jt]}=this,xt=vt*Et,nt=jt*Et;return a.FeatureTest.isCSSRoundSupported?[Math.round(xt),Math.round(nt)]:[xt,nt]}setDims(Et,vt){var nt;const[jt,xt]=this.parentDimensions;this.div.style.width=`${(100*Et/jt).toFixed(2)}%`,at(this,tt)||(this.div.style.height=`${(100*vt/xt).toFixed(2)}%`),(nt=at(this,_e))==null||nt.classList.toggle("small",Et<Dt.SMALL_EDITOR_SIZE||vt<Dt.SMALL_EDITOR_SIZE)}fixDims(){const{style:Et}=this.div,{height:vt,width:jt}=Et,xt=jt.endsWith("%"),nt=!at(this,tt)&&vt.endsWith("%");if(xt&&nt)return;const[pt,wt]=this.parentDimensions;xt||(Et.width=`${(100*parseFloat(jt)/pt).toFixed(2)}%`),!at(this,tt)&&!nt&&(Et.height=`${(100*parseFloat(vt)/wt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(at(this,_e))return;const Et=tn(this,_e,document.createElement("button"));Et.className="altText";const vt=await Dt._l10nPromise.get("editor_alt_text_button_label");Et.textContent=vt,Et.setAttribute("aria-label",vt),Et.tabIndex="0",Et.addEventListener("contextmenu",c.noContextMenu),Et.addEventListener("pointerdown",jt=>jt.stopPropagation()),Et.addEventListener("click",jt=>{jt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Et.addEventListener("keydown",jt=>{jt.target===Et&&jt.key==="Enter"&&(jt.preventDefault(),this._uiManager.editAltText(this))}),Gt(this,lt,Pr).call(this),this.div.append(Et),Dt.SMALL_EDITOR_SIZE||(Dt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Et.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:at(this,g),decorative:at(this,j)}}set altTextData({altText:Et,decorative:vt}){at(this,g)===Et&&at(this,j)===vt||(tn(this,g,Et),tn(this,j,vt),Gt(this,lt,Pr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",at(this,ft)),this.div.addEventListener("focusout",at(this,yt));const[Et,vt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*vt/Et).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Et/vt).toFixed(2)}%`);const[jt,xt]=this.getInitialTranslation();return this.translate(jt,xt),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Et){const{isMac:vt}=a.FeatureTest.platform;if(Et.button!==0||Et.ctrlKey&&vt){Et.preventDefault();return}tn(this,rt,!0),Gt(this,lt,us).call(this,Et)}moveInDOM(){var Et;(Et=this.parent)==null||Et.moveEditorInDOM(this)}_setParentAndPosition(Et,vt,jt){Et.changeParent(this),this.x=vt,this.y=jt,this.fixAndSetPosition()}getRect(Et,vt){const jt=this.parentScale,[xt,nt]=this.pageDimensions,[pt,wt]=this.pageTranslation,Ct=Et/jt,Rt=vt/jt,Lt=this.x*xt,Bt=this.y*nt,Kt=this.width*xt,nn=this.height*nt;switch(this.rotation){case 0:return[Lt+Ct+pt,nt-Bt-Rt-nn+wt,Lt+Ct+Kt+pt,nt-Bt-Rt+wt];case 90:return[Lt+Rt+pt,nt-Bt+Ct+wt,Lt+Rt+nn+pt,nt-Bt+Ct+Kt+wt];case 180:return[Lt-Ct-Kt+pt,nt-Bt+Rt+wt,Lt-Ct+pt,nt-Bt+Rt+nn+wt];case 270:return[Lt-Rt-nn+pt,nt-Bt-Ct-Kt+wt,Lt-Rt+pt,nt-Bt-Ct+wt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Et,vt){const[jt,xt,nt,pt]=Et,wt=nt-jt,Ct=pt-xt;switch(this.rotation){case 0:return[jt,vt-pt,wt,Ct];case 90:return[jt,vt-xt,Ct,wt];case 180:return[nt,vt-xt,wt,Ct];case 270:return[nt,vt-pt,Ct,wt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){tn(this,dt,!0)}disableEditMode(){tn(this,dt,!1)}isInEditMode(){return at(this,dt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Et,vt;(Et=this.div)==null||Et.addEventListener("focusin",at(this,ft)),(vt=this.div)==null||vt.addEventListener("focusout",at(this,yt))}serialize(Et=!1,vt=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(Et,vt,jt){const xt=new this.prototype.constructor({parent:vt,id:vt.getNextId(),uiManager:jt});xt.rotation=Et.rotation;const[nt,pt]=xt.pageDimensions,[wt,Ct,Rt,Lt]=xt.getRectInCurrentCoords(Et.rect,pt);return xt.x=wt/nt,xt.y=Ct/pt,xt.width=Rt/nt,xt.height=Lt/pt,xt}remove(){var Et;this.div.removeEventListener("focusin",at(this,ft)),this.div.removeEventListener("focusout",at(this,yt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Et=at(this,_e))==null||Et.remove(),tn(this,_e,null),tn(this,et,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Gt(this,lt,os).call(this),at(this,ot).classList.remove("hidden"))}select(){var Et;this.makeResizable(),(Et=this.div)==null||Et.classList.add("selectedEditor")}unselect(){var Et,vt,jt;(Et=at(this,ot))==null||Et.classList.add("hidden"),(vt=this.div)==null||vt.classList.remove("selectedEditor"),(jt=this.div)!=null&&jt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Et,vt){}disableEditing(){at(this,_e)&&(at(this,_e).hidden=!0)}enableEditing(){at(this,_e)&&(at(this,_e).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return at(this,it)}set isEditing(Et){tn(this,it,Et),this.parent&&(Et?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Et,vt){tn(this,tt,!0);const jt=Et/vt,{style:xt}=this.div;xt.aspectRatio=jt,xt.height="auto"}static get MIN_SIZE(){return 16}};g=new WeakMap,j=new WeakMap,_e=new WeakMap,et=new WeakMap,st=new WeakMap,tt=new WeakMap,ot=new WeakMap,ft=new WeakMap,yt=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,mt=new WeakMap,ut=new WeakMap,lt=new WeakSet,_r=function([Et,vt],jt,xt){[jt,xt]=this.screenToPageTranslation(jt,xt),this.x+=jt/Et,this.y+=xt/vt,this.fixAndSetPosition()},Ar=function(){const[Et,vt]=this.parentDimensions,{_borderLineWidth:jt}=Dt,xt=jt/Et,nt=jt/vt;switch(this.rotation){case 90:return[-xt,nt];case 180:return[xt,nt];case 270:return[xt,-nt];default:return[-xt,-nt]}},bt=new WeakSet,Cr=function(Et,vt,jt){switch(jt){case 90:return[vt,-Et];case 180:return[-Et,-vt];case 270:return[-vt,Et];default:return[Et,vt]}},Tr=function(Et){switch(Et){case 90:{const[vt,jt]=this.pageDimensions;return[0,-vt/jt,jt/vt,0]}case 180:return[-1,0,0,-1];case 270:{const[vt,jt]=this.pageDimensions;return[0,vt/jt,-jt/vt,0]}default:return[1,0,0,1]}},os=function(){if(at(this,ot))return;tn(this,ot,document.createElement("div")),at(this,ot).classList.add("resizers");const Et=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Et.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const vt of Et){const jt=document.createElement("div");at(this,ot).append(jt),jt.classList.add("resizer",vt),jt.addEventListener("pointerdown",Gt(this,lt,as).bind(this,vt)),jt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(at(this,ot))},as=function(Et,vt){vt.preventDefault();const{isMac:jt}=a.FeatureTest.platform;if(vt.button!==0||vt.ctrlKey&&jt)return;const xt=Gt(this,lt,ls).bind(this,Et),nt=this._isDraggable;this._isDraggable=!1;const pt={passive:!0,capture:!0};window.addEventListener("pointermove",xt,pt);const wt=this.x,Ct=this.y,Rt=this.width,Lt=this.height,Bt=this.parent.div.style.cursor,Kt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(vt.target).cursor;const nn=()=>{this._isDraggable=nt,window.removeEventListener("pointerup",nn),window.removeEventListener("blur",nn),window.removeEventListener("pointermove",xt,pt),this.parent.div.style.cursor=Bt,this.div.style.cursor=Kt;const sn=this.x,cn=this.y,ln=this.width,dn=this.height;sn===wt&&cn===Ct&&ln===Rt&&dn===Lt||this.addCommands({cmd:()=>{this.width=ln,this.height=dn,this.x=sn,this.y=cn;const[Vt,Xt]=this.parentDimensions;this.setDims(Vt*ln,Xt*dn),this.fixAndSetPosition()},undo:()=>{this.width=Rt,this.height=Lt,this.x=wt,this.y=Ct;const[Vt,Xt]=this.parentDimensions;this.setDims(Vt*Rt,Xt*Lt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",nn),window.addEventListener("blur",nn)},ls=function(Et,vt){const[jt,xt]=this.parentDimensions,nt=this.x,pt=this.y,wt=this.width,Ct=this.height,Rt=Dt.MIN_SIZE/jt,Lt=Dt.MIN_SIZE/xt,Bt=Sn=>Math.round(Sn*1e4)/1e4,Kt=Gt(this,lt,Tr).call(this,this.rotation),nn=(Sn,En)=>[Kt[0]*Sn+Kt[2]*En,Kt[1]*Sn+Kt[3]*En],sn=Gt(this,lt,Tr).call(this,360-this.rotation),cn=(Sn,En)=>[sn[0]*Sn+sn[2]*En,sn[1]*Sn+sn[3]*En];let ln,dn,Vt=!1,Xt=!1;switch(Et){case"topLeft":Vt=!0,ln=(Sn,En)=>[0,0],dn=(Sn,En)=>[Sn,En];break;case"topMiddle":ln=(Sn,En)=>[Sn/2,0],dn=(Sn,En)=>[Sn/2,En];break;case"topRight":Vt=!0,ln=(Sn,En)=>[Sn,0],dn=(Sn,En)=>[0,En];break;case"middleRight":Xt=!0,ln=(Sn,En)=>[Sn,En/2],dn=(Sn,En)=>[0,En/2];break;case"bottomRight":Vt=!0,ln=(Sn,En)=>[Sn,En],dn=(Sn,En)=>[0,0];break;case"bottomMiddle":ln=(Sn,En)=>[Sn/2,En],dn=(Sn,En)=>[Sn/2,0];break;case"bottomLeft":Vt=!0,ln=(Sn,En)=>[0,En],dn=(Sn,En)=>[Sn,0];break;case"middleLeft":Xt=!0,ln=(Sn,En)=>[0,En/2],dn=(Sn,En)=>[Sn,En/2];break}const _t=ln(wt,Ct),It=dn(wt,Ct);let Wt=nn(...It);const Qt=Bt(nt+Wt[0]),an=Bt(pt+Wt[1]);let gn=1,fn=1,[qt,Ht]=this.screenToPageTranslation(vt.movementX,vt.movementY);if([qt,Ht]=cn(qt/jt,Ht/xt),Vt){const Sn=Math.hypot(wt,Ct);gn=fn=Math.max(Math.min(Math.hypot(It[0]-_t[0]-qt,It[1]-_t[1]-Ht)/Sn,1/wt,1/Ct),Rt/wt,Lt/Ct)}else Xt?gn=Math.max(Rt,Math.min(1,Math.abs(It[0]-_t[0]-qt)))/wt:fn=Math.max(Lt,Math.min(1,Math.abs(It[1]-_t[1]-Ht)))/Ct;const Jt=Bt(wt*gn),vn=Bt(Ct*fn);Wt=nn(...dn(Jt,vn));const bn=Qt-Wt[0],Pn=an-Wt[1];this.width=Jt,this.height=vn,this.x=bn,this.y=Pn,this.setDims(jt*Jt,xt*vn),this.fixAndSetPosition()},Pr=async function(){var jt;const Et=at(this,_e);if(!Et)return;if(!at(this,g)&&!at(this,j)){Et.classList.remove("done"),(jt=at(this,et))==null||jt.remove();return}Dt._l10nPromise.get("editor_alt_text_edit_button_label").then(xt=>{Et.setAttribute("aria-label",xt)});let vt=at(this,et);if(!vt){tn(this,et,vt=document.createElement("span")),vt.className="tooltip",vt.setAttribute("role","tooltip");const xt=vt.id=`alt-text-tooltip-${this.id}`;Et.setAttribute("aria-describedby",xt);const nt=100;Et.addEventListener("mouseenter",()=>{tn(this,st,setTimeout(()=>{tn(this,st,null),at(this,et).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},nt))}),Et.addEventListener("mouseleave",()=>{var pt;clearTimeout(at(this,st)),tn(this,st,null),(pt=at(this,et))==null||pt.classList.remove("show")})}Et.classList.add("done"),vt.innerText=at(this,j)?await Dt._l10nPromise.get("editor_alt_text_decorative_tooltip"):at(this,g),vt.parentNode||Et.append(vt)},us=function(Et){if(!this._isDraggable)return;const vt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let jt,xt;vt&&(jt={passive:!0,capture:!0},xt=pt=>{const[wt,Ct]=this.screenToPageTranslation(pt.movementX,pt.movementY);this._uiManager.dragSelectedEditors(wt,Ct)},window.addEventListener("pointermove",xt,jt));const nt=()=>{if(window.removeEventListener("pointerup",nt),window.removeEventListener("blur",nt),vt&&window.removeEventListener("pointermove",xt,jt),tn(this,rt,!1),!this._uiManager.endDragSession()){const{isMac:pt}=a.FeatureTest.platform;Et.ctrlKey&&!pt||Et.shiftKey||Et.metaKey&&pt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",nt),window.addEventListener("blur",nt)},en(Dt,bt),Bn(Dt,"_borderLineWidth",-1),Bn(Dt,"_colorManager",new o.ColorManager),Bn(Dt,"_zIndex",1),Bn(Dt,"SMALL_EDITOR_SIZE",0);let d=Dt;i.AnnotationEditor=d;class b extends d{constructor(Et){super(Et),this.annotationElementId=Et.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,s)=>{var tt,ot,ft,yt,rt,Rr,mt,ut,lt,ct,gt,cs,ht,St,At,zt,Pt,$t,Dt,Nt,Et,vt,jt,xt,nt,pt,wt,Ct,Rt,Lt,Bt,Kt,nn,sn,cn,ln,dn,Vt,Xt,_t,It,Wt,Qt,an,gn,fn,qt,ds,Lr,Fr,dr,Mr,Ir,Wn,nr,hs,fs,Dr,rr,Or;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=c,i.opacityToHex=d;var o=s(1),a=s(6);function c(Nn,Ot,un){for(const yn of un)Ot.addEventListener(yn,Nn[yn].bind(Nn))}function d(Nn){return Math.round(Math.min(255,Math.max(1,255*Nn))).toString(16).padStart(2,"0")}class b{constructor(){en(this,tt,0)}getId(){return`${o.AnnotationEditorPrefix}${tr(this,tt)._++}`}}tt=new WeakMap;const dt=class dt{constructor(){en(this,rt);en(this,ot,(0,o.getUuid)());en(this,ft,0);en(this,yt,null)}static get _isSVGFittingCanvas(){const Ot='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',yn=new OffscreenCanvas(1,3).getContext("2d"),Cn=new Image;Cn.src=Ot;const Ln=Cn.decode().then(()=>(yn.drawImage(Cn,0,0,1,1,0,0,1,3),new Uint32Array(yn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Ln)}async getFromFile(Ot){const{lastModified:un,name:yn,size:Cn,type:Ln}=Ot;return Gt(this,rt,Rr).call(this,`${un}_${yn}_${Cn}_${Ln}`,Ot)}async getFromUrl(Ot){return Gt(this,rt,Rr).call(this,Ot,Ot)}async getFromId(Ot){at(this,yt)||tn(this,yt,new Map);const un=at(this,yt).get(Ot);return un?un.bitmap?(un.refCounter+=1,un):un.file?this.getFromFile(un.file):this.getFromUrl(un.url):null}getSvgUrl(Ot){const un=at(this,yt).get(Ot);return un!=null&&un.isSvg?un.svgUrl:null}deleteId(Ot){at(this,yt)||tn(this,yt,new Map);const un=at(this,yt).get(Ot);un&&(un.refCounter-=1,un.refCounter===0&&(un.bitmap=null))}isValidId(Ot){return Ot.startsWith(`image_${at(this,ot)}_`)}};ot=new WeakMap,ft=new WeakMap,yt=new WeakMap,rt=new WeakSet,Rr=async function(Ot,un){at(this,yt)||tn(this,yt,new Map);let yn=at(this,yt).get(Ot);if(yn===null)return null;if(yn!=null&&yn.bitmap)return yn.refCounter+=1,yn;try{yn||(yn={bitmap:null,id:`image_${at(this,ot)}_${tr(this,ft)._++}`,refCounter:0,isSvg:!1});let Cn;if(typeof un=="string"){yn.url=un;const Ln=await fetch(un);if(!Ln.ok)throw new Error(Ln.statusText);Cn=await Ln.blob()}else Cn=yn.file=un;if(Cn.type==="image/svg+xml"){const Ln=dt._isSVGFittingCanvas,xn=new FileReader,Mt=new Image,Tt=new Promise((Ut,rn)=>{Mt.onload=()=>{yn.bitmap=Mt,yn.isSvg=!0,Ut()},xn.onload=async()=>{const on=yn.svgUrl=xn.result;Mt.src=await Ln?`${on}#svgView(preserveAspectRatio(none))`:on},Mt.onerror=xn.onerror=rn});xn.readAsDataURL(Cn),await Tt}else yn.bitmap=await createImageBitmap(Cn);yn.refCounter=1}catch(Cn){console.error(Cn),yn=null}return at(this,yt).set(Ot,yn),yn&&at(this,yt).set(yn.id,yn),yn};let g=dt;class j{constructor(Ot=128){en(this,mt,[]);en(this,ut,!1);en(this,lt);en(this,ct,-1);tn(this,lt,Ot)}add({cmd:Ot,undo:un,mustExec:yn,type:Cn=NaN,overwriteIfSameType:Ln=!1,keepUndo:xn=!1}){if(yn&&Ot(),at(this,ut))return;const Mt={cmd:Ot,undo:un,type:Cn};if(at(this,ct)===-1){at(this,mt).length>0&&(at(this,mt).length=0),tn(this,ct,0),at(this,mt).push(Mt);return}if(Ln&&at(this,mt)[at(this,ct)].type===Cn){xn&&(Mt.undo=at(this,mt)[at(this,ct)].undo),at(this,mt)[at(this,ct)]=Mt;return}const Tt=at(this,ct)+1;Tt===at(this,lt)?at(this,mt).splice(0,1):(tn(this,ct,Tt),Tt<at(this,mt).length&&at(this,mt).splice(Tt)),at(this,mt).push(Mt)}undo(){at(this,ct)!==-1&&(tn(this,ut,!0),at(this,mt)[at(this,ct)].undo(),tn(this,ut,!1),tn(this,ct,at(this,ct)-1))}redo(){at(this,ct)<at(this,mt).length-1&&(tn(this,ct,at(this,ct)+1),tn(this,ut,!0),at(this,mt)[at(this,ct)].cmd(),tn(this,ut,!1))}hasSomethingToUndo(){return at(this,ct)!==-1}hasSomethingToRedo(){return at(this,ct)<at(this,mt).length-1}destroy(){tn(this,mt,null)}}mt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ct=new WeakMap,i.CommandManager=j;class _e{constructor(Ot){en(this,gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:un}=o.FeatureTest.platform;for(const[yn,Cn,Ln={}]of Ot)for(const xn of yn){const Mt=xn.startsWith("mac+");un&&Mt?(this.callbacks.set(xn.slice(4),{callback:Cn,options:Ln}),this.allKeys.add(xn.split("+").at(-1))):!un&&!Mt&&(this.callbacks.set(xn,{callback:Cn,options:Ln}),this.allKeys.add(xn.split("+").at(-1)))}}exec(Ot,un){if(!this.allKeys.has(un.key))return;const yn=this.callbacks.get(Gt(this,gt,cs).call(this,un));if(!yn)return;const{callback:Cn,options:{bubbles:Ln=!1,args:xn=[],checker:Mt=null}}=yn;Mt&&!Mt(Ot,un)||(Cn.bind(Ot,...xn)(),Ln||(un.stopPropagation(),un.preventDefault()))}}gt=new WeakSet,cs=function(Ot){Ot.altKey&&this.buffer.push("alt"),Ot.ctrlKey&&this.buffer.push("ctrl"),Ot.metaKey&&this.buffer.push("meta"),Ot.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ot.key);const un=this.buffer.join("+");return this.buffer.length=0,un},i.KeyboardManager=_e;const kt=class kt{get _colors(){const Ot=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Ot),(0,o.shadow)(this,"_colors",Ot)}convert(Ot){const un=(0,a.getRGB)(Ot);if(!window.matchMedia("(forced-colors: active)").matches)return un;for(const[yn,Cn]of this._colors)if(Cn.every((Ln,xn)=>Ln===un[xn]))return kt._colorsMapping.get(yn);return un}getHexCode(Ot){const un=this._colors.get(Ot);return un?o.Util.makeHexColor(...un):Ot}};Bn(kt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let et=kt;i.ColorManager=et;const jn=class jn{constructor(Ot,un,yn,Cn,Ln,xn){en(this,qt);en(this,ht,null);en(this,St,new Map);en(this,At,new Map);en(this,zt,null);en(this,Pt,null);en(this,$t,new j);en(this,Dt,0);en(this,Nt,new Set);en(this,Et,null);en(this,vt,null);en(this,jt,new Set);en(this,xt,null);en(this,nt,new b);en(this,pt,!1);en(this,wt,!1);en(this,Ct,null);en(this,Rt,o.AnnotationEditorType.NONE);en(this,Lt,new Set);en(this,Bt,null);en(this,Kt,this.blur.bind(this));en(this,nn,this.focus.bind(this));en(this,sn,this.copy.bind(this));en(this,cn,this.cut.bind(this));en(this,ln,this.paste.bind(this));en(this,dn,this.keydown.bind(this));en(this,Vt,this.onEditingAction.bind(this));en(this,Xt,this.onPageChanging.bind(this));en(this,_t,this.onScaleChanging.bind(this));en(this,It,this.onRotationChanging.bind(this));en(this,Wt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});en(this,Qt,[0,0]);en(this,an,null);en(this,gn,null);en(this,fn,null);tn(this,gn,Ot),tn(this,fn,un),tn(this,zt,yn),this._eventBus=Cn,this._eventBus._on("editingaction",at(this,Vt)),this._eventBus._on("pagechanging",at(this,Xt)),this._eventBus._on("scalechanging",at(this,_t)),this._eventBus._on("rotationchanging",at(this,It)),tn(this,Pt,Ln.annotationStorage),tn(this,xt,Ln.filterFactory),tn(this,Bt,xn),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Ot=jn.prototype,un=Ln=>{const{activeElement:xn}=document;return xn&&at(Ln,gn).contains(xn)&&Ln.hasSomethingToControl()},yn=this.TRANSLATE_SMALL,Cn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new _e([[["ctrl+a","mac+meta+a"],Ot.selectAll],[["ctrl+z","mac+meta+z"],Ot.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Ot.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Ot.delete],[["Escape","mac+Escape"],Ot.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Ot.translateSelectedEditors,{args:[-yn,0],checker:un}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ot.translateSelectedEditors,{args:[-Cn,0],checker:un}],[["ArrowRight","mac+ArrowRight"],Ot.translateSelectedEditors,{args:[yn,0],checker:un}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ot.translateSelectedEditors,{args:[Cn,0],checker:un}],[["ArrowUp","mac+ArrowUp"],Ot.translateSelectedEditors,{args:[0,-yn],checker:un}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ot.translateSelectedEditors,{args:[0,-Cn],checker:un}],[["ArrowDown","mac+ArrowDown"],Ot.translateSelectedEditors,{args:[0,yn],checker:un}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ot.translateSelectedEditors,{args:[0,Cn],checker:un}]]))}destroy(){Gt(this,qt,dr).call(this),Gt(this,qt,Lr).call(this),this._eventBus._off("editingaction",at(this,Vt)),this._eventBus._off("pagechanging",at(this,Xt)),this._eventBus._off("scalechanging",at(this,_t)),this._eventBus._off("rotationchanging",at(this,It));for(const Ot of at(this,At).values())Ot.destroy();at(this,At).clear(),at(this,St).clear(),at(this,jt).clear(),tn(this,ht,null),at(this,Lt).clear(),at(this,$t).destroy(),at(this,zt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",at(this,Bt)?at(this,xt).addHCMFilter(at(this,Bt).foreground,at(this,Bt).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(at(this,gn)).direction)}editAltText(Ot){var un;(un=at(this,zt))==null||un.editAltText(this,Ot)}onPageChanging({pageNumber:Ot}){tn(this,Dt,Ot-1)}focusMainContainer(){at(this,gn).focus()}findParent(Ot,un){for(const yn of at(this,At).values()){const{x:Cn,y:Ln,width:xn,height:Mt}=yn.div.getBoundingClientRect();if(Ot>=Cn&&Ot<=Cn+xn&&un>=Ln&&un<=Ln+Mt)return yn}return null}disableUserSelect(Ot=!1){at(this,fn).classList.toggle("noUserSelect",Ot)}addShouldRescale(Ot){at(this,jt).add(Ot)}removeShouldRescale(Ot){at(this,jt).delete(Ot)}onScaleChanging({scale:Ot}){this.commitOrRemove(),this.viewParameters.realScale=Ot*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const un of at(this,jt))un.onScaleChanging()}onRotationChanging({pagesRotation:Ot}){this.commitOrRemove(),this.viewParameters.rotation=Ot}addToAnnotationStorage(Ot){!Ot.isEmpty()&&at(this,Pt)&&!at(this,Pt).has(Ot.id)&&at(this,Pt).setValue(Ot.id,Ot)}blur(){if(!this.hasSelection)return;const{activeElement:Ot}=document;for(const un of at(this,Lt))if(un.div.contains(Ot)){tn(this,Ct,[un,Ot]),un._focusEventsAllowed=!1;break}}focus(){if(!at(this,Ct))return;const[Ot,un]=at(this,Ct);tn(this,Ct,null),un.addEventListener("focusin",()=>{Ot._focusEventsAllowed=!0},{once:!0}),un.focus()}addEditListeners(){Gt(this,qt,Fr).call(this),Gt(this,qt,Mr).call(this)}removeEditListeners(){Gt(this,qt,dr).call(this),Gt(this,qt,Ir).call(this)}copy(Ot){var yn;if(Ot.preventDefault(),(yn=at(this,ht))==null||yn.commitOrRemove(),!this.hasSelection)return;const un=[];for(const Cn of at(this,Lt)){const Ln=Cn.serialize(!0);Ln&&un.push(Ln)}un.length!==0&&Ot.clipboardData.setData("application/pdfjs",JSON.stringify(un))}cut(Ot){this.copy(Ot),this.delete()}paste(Ot){Ot.preventDefault();const{clipboardData:un}=Ot;for(const Ln of un.items)for(const xn of at(this,vt))if(xn.isHandlingMimeForPasting(Ln.type)){xn.paste(Ln,this.currentLayer);return}let yn=un.getData("application/pdfjs");if(!yn)return;try{yn=JSON.parse(yn)}catch(Ln){(0,o.warn)(`paste: "${Ln.message}".`);return}if(!Array.isArray(yn))return;this.unselectAll();const Cn=this.currentLayer;try{const Ln=[];for(const Tt of yn){const Ut=Cn.deserialize(Tt);if(!Ut)return;Ln.push(Ut)}const xn=()=>{for(const Tt of Ln)Gt(this,qt,Dr).call(this,Tt);Gt(this,qt,Or).call(this,Ln)},Mt=()=>{for(const Tt of Ln)Tt.remove()};this.addCommands({cmd:xn,undo:Mt,mustExec:!0})}catch(Ln){(0,o.warn)(`paste: "${Ln.message}".`)}}keydown(Ot){var un;(un=this.getActive())!=null&&un.shouldGetKeyboardEvents()||jn._keyboardManager.exec(this,Ot)}onEditingAction(Ot){["undo","redo","delete","selectAll"].includes(Ot.name)&&this[Ot.name]()}setEditingState(Ot){Ot?(Gt(this,qt,ds).call(this),Gt(this,qt,Fr).call(this),Gt(this,qt,Mr).call(this),Gt(this,qt,Wn).call(this,{isEditing:at(this,Rt)!==o.AnnotationEditorType.NONE,isEmpty:Gt(this,qt,rr).call(this),hasSomethingToUndo:at(this,$t).hasSomethingToUndo(),hasSomethingToRedo:at(this,$t).hasSomethingToRedo(),hasSelectedEditor:!1})):(Gt(this,qt,Lr).call(this),Gt(this,qt,dr).call(this),Gt(this,qt,Ir).call(this),Gt(this,qt,Wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Ot){if(!at(this,vt)){tn(this,vt,Ot);for(const un of at(this,vt))Gt(this,qt,nr).call(this,un.defaultPropertiesToUpdate)}}getId(){return at(this,nt).getId()}get currentLayer(){return at(this,At).get(at(this,Dt))}getLayer(Ot){return at(this,At).get(Ot)}get currentPageIndex(){return at(this,Dt)}addLayer(Ot){at(this,At).set(Ot.pageIndex,Ot),at(this,pt)?Ot.enable():Ot.disable()}removeLayer(Ot){at(this,At).delete(Ot.pageIndex)}updateMode(Ot,un=null){if(at(this,Rt)!==Ot){if(tn(this,Rt,Ot),Ot===o.AnnotationEditorType.NONE){this.setEditingState(!1),Gt(this,qt,fs).call(this);return}this.setEditingState(!0),Gt(this,qt,hs).call(this),this.unselectAll();for(const yn of at(this,At).values())yn.updateMode(Ot);if(un){for(const yn of at(this,St).values())if(yn.annotationElementId===un){this.setSelected(yn),yn.enterInEditMode();break}}}}updateToolbar(Ot){Ot!==at(this,Rt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Ot})}updateParams(Ot,un){if(at(this,vt)){if(Ot===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Ot);return}for(const yn of at(this,Lt))yn.updateParams(Ot,un);for(const yn of at(this,vt))yn.updateDefaultParams(Ot,un)}}enableWaiting(Ot=!1){if(at(this,wt)!==Ot){tn(this,wt,Ot);for(const un of at(this,At).values())Ot?un.disableClick():un.enableClick(),un.div.classList.toggle("waiting",Ot)}}getEditors(Ot){const un=[];for(const yn of at(this,St).values())yn.pageIndex===Ot&&un.push(yn);return un}getEditor(Ot){return at(this,St).get(Ot)}addEditor(Ot){at(this,St).set(Ot.id,Ot)}removeEditor(Ot){var un;at(this,St).delete(Ot.id),this.unselect(Ot),(!Ot.annotationElementId||!at(this,Nt).has(Ot.annotationElementId))&&((un=at(this,Pt))==null||un.remove(Ot.id))}addDeletedAnnotationElement(Ot){at(this,Nt).add(Ot.annotationElementId),Ot.deleted=!0}isDeletedAnnotationElement(Ot){return at(this,Nt).has(Ot)}removeDeletedAnnotationElement(Ot){at(this,Nt).delete(Ot.annotationElementId),Ot.deleted=!1}setActiveEditor(Ot){at(this,ht)!==Ot&&(tn(this,ht,Ot),Ot&&Gt(this,qt,nr).call(this,Ot.propertiesToUpdate))}toggleSelected(Ot){if(at(this,Lt).has(Ot)){at(this,Lt).delete(Ot),Ot.unselect(),Gt(this,qt,Wn).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,Lt).add(Ot),Ot.select(),Gt(this,qt,nr).call(this,Ot.propertiesToUpdate),Gt(this,qt,Wn).call(this,{hasSelectedEditor:!0})}setSelected(Ot){for(const un of at(this,Lt))un!==Ot&&un.unselect();at(this,Lt).clear(),at(this,Lt).add(Ot),Ot.select(),Gt(this,qt,nr).call(this,Ot.propertiesToUpdate),Gt(this,qt,Wn).call(this,{hasSelectedEditor:!0})}isSelected(Ot){return at(this,Lt).has(Ot)}unselect(Ot){Ot.unselect(),at(this,Lt).delete(Ot),Gt(this,qt,Wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,Lt).size!==0}undo(){at(this,$t).undo(),Gt(this,qt,Wn).call(this,{hasSomethingToUndo:at(this,$t).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Gt(this,qt,rr).call(this)})}redo(){at(this,$t).redo(),Gt(this,qt,Wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,$t).hasSomethingToRedo(),isEmpty:Gt(this,qt,rr).call(this)})}addCommands(Ot){at(this,$t).add(Ot),Gt(this,qt,Wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Gt(this,qt,rr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ot=[...at(this,Lt)],un=()=>{for(const Cn of Ot)Cn.remove()},yn=()=>{for(const Cn of Ot)Gt(this,qt,Dr).call(this,Cn)};this.addCommands({cmd:un,undo:yn,mustExec:!0})}commitOrRemove(){var Ot;(Ot=at(this,ht))==null||Ot.commitOrRemove()}hasSomethingToControl(){return at(this,ht)||this.hasSelection}selectAll(){for(const Ot of at(this,Lt))Ot.commit();Gt(this,qt,Or).call(this,at(this,St).values())}unselectAll(){if(at(this,ht)){at(this,ht).commitOrRemove();return}if(this.hasSelection){for(const Ot of at(this,Lt))Ot.unselect();at(this,Lt).clear(),Gt(this,qt,Wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Ot,un,yn=!1){if(yn||this.commitOrRemove(),!this.hasSelection)return;at(this,Qt)[0]+=Ot,at(this,Qt)[1]+=un;const[Cn,Ln]=at(this,Qt),xn=[...at(this,Lt)],Mt=1e3;at(this,an)&&clearTimeout(at(this,an)),tn(this,an,setTimeout(()=>{tn(this,an,null),at(this,Qt)[0]=at(this,Qt)[1]=0,this.addCommands({cmd:()=>{for(const Tt of xn)at(this,St).has(Tt.id)&&Tt.translateInPage(Cn,Ln)},undo:()=>{for(const Tt of xn)at(this,St).has(Tt.id)&&Tt.translateInPage(-Cn,-Ln)},mustExec:!1})},Mt));for(const Tt of xn)Tt.translateInPage(Ot,un)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),tn(this,Et,new Map);for(const Ot of at(this,Lt))at(this,Et).set(Ot,{savedX:Ot.x,savedY:Ot.y,savedPageIndex:Ot.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!at(this,Et))return!1;this.disableUserSelect(!1);const Ot=at(this,Et);tn(this,Et,null);let un=!1;for(const[{x:Cn,y:Ln,pageIndex:xn},Mt]of Ot)Mt.newX=Cn,Mt.newY=Ln,Mt.newPageIndex=xn,un||(un=Cn!==Mt.savedX||Ln!==Mt.savedY||xn!==Mt.savedPageIndex);if(!un)return!1;const yn=(Cn,Ln,xn,Mt)=>{if(at(this,St).has(Cn.id)){const Tt=at(this,At).get(Mt);Tt?Cn._setParentAndPosition(Tt,Ln,xn):(Cn.pageIndex=Mt,Cn.x=Ln,Cn.y=xn)}};return this.addCommands({cmd:()=>{for(const[Cn,{newX:Ln,newY:xn,newPageIndex:Mt}]of Ot)yn(Cn,Ln,xn,Mt)},undo:()=>{for(const[Cn,{savedX:Ln,savedY:xn,savedPageIndex:Mt}]of Ot)yn(Cn,Ln,xn,Mt)},mustExec:!0}),!0}dragSelectedEditors(Ot,un){if(at(this,Et))for(const yn of at(this,Et).keys())yn.drag(Ot,un)}rebuild(Ot){if(Ot.parent===null){const un=this.getLayer(Ot.pageIndex);un?(un.changeParent(Ot),un.addOrRebuild(Ot)):(this.addEditor(Ot),this.addToAnnotationStorage(Ot),Ot.rebuild())}else Ot.parent.addOrRebuild(Ot)}isActive(Ot){return at(this,ht)===Ot}getActive(){return at(this,ht)}getMode(){return at(this,Rt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new g)}};ht=new WeakMap,St=new WeakMap,At=new WeakMap,zt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,Et=new WeakMap,vt=new WeakMap,jt=new WeakMap,xt=new WeakMap,nt=new WeakMap,pt=new WeakMap,wt=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,Bt=new WeakMap,Kt=new WeakMap,nn=new WeakMap,sn=new WeakMap,cn=new WeakMap,ln=new WeakMap,dn=new WeakMap,Vt=new WeakMap,Xt=new WeakMap,_t=new WeakMap,It=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,an=new WeakMap,gn=new WeakMap,fn=new WeakMap,qt=new WeakSet,ds=function(){window.addEventListener("focus",at(this,nn)),window.addEventListener("blur",at(this,Kt))},Lr=function(){window.removeEventListener("focus",at(this,nn)),window.removeEventListener("blur",at(this,Kt))},Fr=function(){window.addEventListener("keydown",at(this,dn),{capture:!0})},dr=function(){window.removeEventListener("keydown",at(this,dn),{capture:!0})},Mr=function(){document.addEventListener("copy",at(this,sn)),document.addEventListener("cut",at(this,cn)),document.addEventListener("paste",at(this,ln))},Ir=function(){document.removeEventListener("copy",at(this,sn)),document.removeEventListener("cut",at(this,cn)),document.removeEventListener("paste",at(this,ln))},Wn=function(Ot){Object.entries(Ot).some(([yn,Cn])=>at(this,Wt)[yn]!==Cn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,Wt),Ot)})},nr=function(Ot){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ot})},hs=function(){if(!at(this,pt)){tn(this,pt,!0);for(const Ot of at(this,At).values())Ot.enable()}},fs=function(){if(this.unselectAll(),at(this,pt)){tn(this,pt,!1);for(const Ot of at(this,At).values())Ot.disable()}},Dr=function(Ot){const un=at(this,At).get(Ot.pageIndex);un?un.addOrRebuild(Ot):this.addEditor(Ot)},rr=function(){if(at(this,St).size===0)return!0;if(at(this,St).size===1)for(const Ot of at(this,St).values())return Ot.isEmpty();return!1},Or=function(Ot){at(this,Lt).clear();for(const un of Ot)un.isEmpty()||(at(this,Lt).add(un),un.select());Gt(this,qt,Wn).call(this,{hasSelectedEditor:!0})},Bn(jn,"TRANSLATE_SMALL",1),Bn(jn,"TRANSLATE_BIG",10);let st=jn;i.AnnotationEditorUIManager=st},(e,i,s)=>{var Dt,Nt,Et,vt,jt,xt,nt,pt,wt,Ct,Rt,Lt,Qn,Jn,Nr,hr,fr,ir,sr;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=ct,i.getColorValues=St,i.getCurrentTransform=At,i.getCurrentTransformInverse=zt,i.getFilenameFromUrl=rt,i.getPdfFilenameFromUrl=it,i.getRGB=ht,i.getXfaPageViewport=kt,i.isDataScheme=ft,i.isPdfFile=yt,i.isValidFetchUrl=mt,i.loadScript=lt,i.noContextMenu=ut,i.setLayerDimensions=Pt;var o=s(7),a=s(1);const c="http://www.w3.org/2000/svg",$t=class $t{};Bn($t,"CSS",96),Bn($t,"PDF",72),Bn($t,"PDF_TO_CSS_UNITS",$t.CSS/$t.PDF);let d=$t;i.PixelsPerInch=d;class b extends o.BaseFilterFactory{constructor({docId:_t,ownerDocument:It=globalThis.document}={}){super();en(this,Lt);en(this,Dt);en(this,Nt);en(this,Et);en(this,vt);en(this,jt);en(this,xt);en(this,nt);en(this,pt);en(this,wt);en(this,Ct);en(this,Rt,0);tn(this,Et,_t),tn(this,vt,It)}addFilter(_t){if(!_t)return"none";let It=at(this,Lt,Qn).get(_t);if(It)return It;let Wt,Qt,an,gn;if(_t.length===1){const Jt=_t[0],vn=new Array(256);for(let bn=0;bn<256;bn++)vn[bn]=Jt[bn]/255;gn=Wt=Qt=an=vn.join(",")}else{const[Jt,vn,bn]=_t,Pn=new Array(256),Sn=new Array(256),En=new Array(256);for(let Fn=0;Fn<256;Fn++)Pn[Fn]=Jt[Fn]/255,Sn[Fn]=vn[Fn]/255,En[Fn]=bn[Fn]/255;Wt=Pn.join(","),Qt=Sn.join(","),an=En.join(","),gn=`${Wt}${Qt}${an}`}if(It=at(this,Lt,Qn).get(gn),It)return at(this,Lt,Qn).set(_t,It),It;const fn=`g_${at(this,Et)}_transfer_map_${tr(this,Rt)._++}`,qt=`url(#${fn})`;at(this,Lt,Qn).set(_t,qt),at(this,Lt,Qn).set(gn,qt);const Ht=Gt(this,Lt,hr).call(this,fn);return Gt(this,Lt,ir).call(this,Wt,Qt,an,Ht),qt}addHCMFilter(_t,It){var vn;const Wt=`${_t}-${It}`;if(at(this,xt)===Wt)return at(this,nt);if(tn(this,xt,Wt),tn(this,nt,"none"),(vn=at(this,jt))==null||vn.remove(),!_t||!It)return at(this,nt);const Qt=Gt(this,Lt,sr).call(this,_t);_t=a.Util.makeHexColor(...Qt);const an=Gt(this,Lt,sr).call(this,It);if(It=a.Util.makeHexColor(...an),at(this,Lt,Jn).style.color="",_t==="#000000"&&It==="#ffffff"||_t===It)return at(this,nt);const gn=new Array(256);for(let bn=0;bn<=255;bn++){const Pn=bn/255;gn[bn]=Pn<=.03928?Pn/12.92:((Pn+.055)/1.055)**2.4}const fn=gn.join(","),qt=`g_${at(this,Et)}_hcm_filter`,Ht=tn(this,pt,Gt(this,Lt,hr).call(this,qt));Gt(this,Lt,ir).call(this,fn,fn,fn,Ht),Gt(this,Lt,Nr).call(this,Ht);const Jt=(bn,Pn)=>{const Sn=Qt[bn]/255,En=an[bn]/255,Fn=new Array(Pn+1);for(let Dn=0;Dn<=Pn;Dn++)Fn[Dn]=Sn+Dn/Pn*(En-Sn);return Fn.join(",")};return Gt(this,Lt,ir).call(this,Jt(0,5),Jt(1,5),Jt(2,5),Ht),tn(this,nt,`url(#${qt})`),at(this,nt)}addHighlightHCMFilter(_t,It,Wt,Qt){var En;const an=`${_t}-${It}-${Wt}-${Qt}`;if(at(this,wt)===an)return at(this,Ct);if(tn(this,wt,an),tn(this,Ct,"none"),(En=at(this,pt))==null||En.remove(),!_t||!It)return at(this,Ct);const[gn,fn]=[_t,It].map(Gt(this,Lt,sr).bind(this));let qt=Math.round(.2126*gn[0]+.7152*gn[1]+.0722*gn[2]),Ht=Math.round(.2126*fn[0]+.7152*fn[1]+.0722*fn[2]),[Jt,vn]=[Wt,Qt].map(Gt(this,Lt,sr).bind(this));Ht<qt&&([qt,Ht,Jt,vn]=[Ht,qt,vn,Jt]),at(this,Lt,Jn).style.color="";const bn=(Fn,Dn,hn)=>{const Yt=new Array(256),Zt=(Ht-qt)/hn,wn=Fn/255,jn=(Dn-Fn)/(255*hn);let Nn=0;for(let Ot=0;Ot<=hn;Ot++){const un=Math.round(qt+Ot*Zt),yn=wn+Ot*jn;for(let Cn=Nn;Cn<=un;Cn++)Yt[Cn]=yn;Nn=un+1}for(let Ot=Nn;Ot<256;Ot++)Yt[Ot]=Yt[Nn-1];return Yt.join(",")},Pn=`g_${at(this,Et)}_hcm_highlight_filter`,Sn=tn(this,pt,Gt(this,Lt,hr).call(this,Pn));return Gt(this,Lt,Nr).call(this,Sn),Gt(this,Lt,ir).call(this,bn(Jt[0],vn[0],5),bn(Jt[1],vn[1],5),bn(Jt[2],vn[2],5),Sn),tn(this,Ct,`url(#${Pn})`),at(this,Ct)}destroy(_t=!1){_t&&(at(this,nt)||at(this,Ct))||(at(this,Nt)&&(at(this,Nt).parentNode.parentNode.remove(),tn(this,Nt,null)),at(this,Dt)&&(at(this,Dt).clear(),tn(this,Dt,null)),tn(this,Rt,0))}}Dt=new WeakMap,Nt=new WeakMap,Et=new WeakMap,vt=new WeakMap,jt=new WeakMap,xt=new WeakMap,nt=new WeakMap,pt=new WeakMap,wt=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,Lt=new WeakSet,Qn=function(){return at(this,Dt)||tn(this,Dt,new Map)},Jn=function(){if(!at(this,Nt)){const _t=at(this,vt).createElement("div"),{style:It}=_t;It.visibility="hidden",It.contain="strict",It.width=It.height=0,It.position="absolute",It.top=It.left=0,It.zIndex=-1;const Wt=at(this,vt).createElementNS(c,"svg");Wt.setAttribute("width",0),Wt.setAttribute("height",0),tn(this,Nt,at(this,vt).createElementNS(c,"defs")),_t.append(Wt),Wt.append(at(this,Nt)),at(this,vt).body.append(_t)}return at(this,Nt)},Nr=function(_t){const It=at(this,vt).createElementNS(c,"feColorMatrix");It.setAttribute("type","matrix"),It.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_t.append(It)},hr=function(_t){const It=at(this,vt).createElementNS(c,"filter");return It.setAttribute("color-interpolation-filters","sRGB"),It.setAttribute("id",_t),at(this,Lt,Jn).append(It),It},fr=function(_t,It,Wt){const Qt=at(this,vt).createElementNS(c,It);Qt.setAttribute("type","discrete"),Qt.setAttribute("tableValues",Wt),_t.append(Qt)},ir=function(_t,It,Wt,Qt){const an=at(this,vt).createElementNS(c,"feComponentTransfer");Qt.append(an),Gt(this,Lt,fr).call(this,an,"feFuncR",_t),Gt(this,Lt,fr).call(this,an,"feFuncG",It),Gt(this,Lt,fr).call(this,an,"feFuncB",Wt)},sr=function(_t){return at(this,Lt,Jn).style.color=_t,ht(getComputedStyle(at(this,Lt,Jn)).getPropertyValue("color"))},i.DOMFilterFactory=b;class g extends o.BaseCanvasFactory{constructor({ownerDocument:Xt=globalThis.document}={}){super(),this._document=Xt}_createCanvas(Xt,_t){const It=this._document.createElement("canvas");return It.width=Xt,It.height=_t,It}}i.DOMCanvasFactory=g;async function j(Vt,Xt=!1){if(mt(Vt,document.baseURI)){const _t=await fetch(Vt);if(!_t.ok)throw new Error(_t.statusText);return Xt?new Uint8Array(await _t.arrayBuffer()):(0,a.stringToBytes)(await _t.text())}return new Promise((_t,It)=>{const Wt=new XMLHttpRequest;Wt.open("GET",Vt,!0),Xt&&(Wt.responseType="arraybuffer"),Wt.onreadystatechange=()=>{if(Wt.readyState===XMLHttpRequest.DONE){if(Wt.status===200||Wt.status===0){let Qt;if(Xt&&Wt.response?Qt=new Uint8Array(Wt.response):!Xt&&Wt.responseText&&(Qt=(0,a.stringToBytes)(Wt.responseText)),Qt){_t(Qt);return}}It(new Error(Wt.statusText))}},Wt.send(null)})}class _e extends o.BaseCMapReaderFactory{_fetchData(Xt,_t){return j(Xt,this.isCompressed).then(It=>({cMapData:It,compressionType:_t}))}}i.DOMCMapReaderFactory=_e;class et extends o.BaseStandardFontDataFactory{_fetchData(Xt){return j(Xt,!0)}}i.DOMStandardFontDataFactory=et;class st extends o.BaseSVGFactory{_createSVG(Xt){return document.createElementNS(c,Xt)}}i.DOMSVGFactory=st;class tt{constructor({viewBox:Xt,scale:_t,rotation:It,offsetX:Wt=0,offsetY:Qt=0,dontFlip:an=!1}){this.viewBox=Xt,this.scale=_t,this.rotation=It,this.offsetX=Wt,this.offsetY=Qt;const gn=(Xt[2]+Xt[0])/2,fn=(Xt[3]+Xt[1])/2;let qt,Ht,Jt,vn;switch(It%=360,It<0&&(It+=360),It){case 180:qt=-1,Ht=0,Jt=0,vn=1;break;case 90:qt=0,Ht=1,Jt=1,vn=0;break;case 270:qt=0,Ht=-1,Jt=-1,vn=0;break;case 0:qt=1,Ht=0,Jt=0,vn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}an&&(Jt=-Jt,vn=-vn);let bn,Pn,Sn,En;qt===0?(bn=Math.abs(fn-Xt[1])*_t+Wt,Pn=Math.abs(gn-Xt[0])*_t+Qt,Sn=(Xt[3]-Xt[1])*_t,En=(Xt[2]-Xt[0])*_t):(bn=Math.abs(gn-Xt[0])*_t+Wt,Pn=Math.abs(fn-Xt[1])*_t+Qt,Sn=(Xt[2]-Xt[0])*_t,En=(Xt[3]-Xt[1])*_t),this.transform=[qt*_t,Ht*_t,Jt*_t,vn*_t,bn-qt*_t*gn-Jt*_t*fn,Pn-Ht*_t*gn-vn*_t*fn],this.width=Sn,this.height=En}get rawDims(){const{viewBox:Xt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Xt[2]-Xt[0],pageHeight:Xt[3]-Xt[1],pageX:Xt[0],pageY:Xt[1]})}clone({scale:Xt=this.scale,rotation:_t=this.rotation,offsetX:It=this.offsetX,offsetY:Wt=this.offsetY,dontFlip:Qt=!1}={}){return new tt({viewBox:this.viewBox.slice(),scale:Xt,rotation:_t,offsetX:It,offsetY:Wt,dontFlip:Qt})}convertToViewportPoint(Xt,_t){return a.Util.applyTransform([Xt,_t],this.transform)}convertToViewportRectangle(Xt){const _t=a.Util.applyTransform([Xt[0],Xt[1]],this.transform),It=a.Util.applyTransform([Xt[2],Xt[3]],this.transform);return[_t[0],_t[1],It[0],It[1]]}convertToPdfPoint(Xt,_t){return a.Util.applyInverseTransform([Xt,_t],this.transform)}}i.PageViewport=tt;class ot extends a.BaseException{constructor(Xt,_t=0){super(Xt,"RenderingCancelledException"),this.extraDelay=_t}}i.RenderingCancelledException=ot;function ft(Vt){const Xt=Vt.length;let _t=0;for(;_t<Xt&&Vt[_t].trim()==="";)_t++;return Vt.substring(_t,_t+5).toLowerCase()==="data:"}function yt(Vt){return typeof Vt=="string"&&/\.pdf$/i.test(Vt)}function rt(Vt,Xt=!1){return Xt||([Vt]=Vt.split(/[#?]/,1)),Vt.substring(Vt.lastIndexOf("/")+1)}function it(Vt,Xt="document.pdf"){if(typeof Vt!="string")return Xt;if(ft(Vt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Xt;const _t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,It=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Wt=_t.exec(Vt);let Qt=It.exec(Wt[1])||It.exec(Wt[2])||It.exec(Wt[3]);if(Qt&&(Qt=Qt[0],Qt.includes("%")))try{Qt=It.exec(decodeURIComponent(Qt))[0]}catch{}return Qt||Xt}class dt{constructor(){Bn(this,"started",Object.create(null));Bn(this,"times",[])}time(Xt){Xt in this.started&&(0,a.warn)(`Timer is already running for ${Xt}`),this.started[Xt]=Date.now()}timeEnd(Xt){Xt in this.started||(0,a.warn)(`Timer has not been started for ${Xt}`),this.times.push({name:Xt,start:this.started[Xt],end:Date.now()}),delete this.started[Xt]}toString(){const Xt=[];let _t=0;for(const{name:It}of this.times)_t=Math.max(It.length,_t);for(const{name:It,start:Wt,end:Qt}of this.times)Xt.push(`${It.padEnd(_t)} ${Qt-Wt}ms
`);return Xt.join("")}}i.StatTimer=dt;function mt(Vt,Xt){try{const{protocol:_t}=Xt?new URL(Vt,Xt):new URL(Vt);return _t==="http:"||_t==="https:"}catch{return!1}}function ut(Vt){Vt.preventDefault()}function lt(Vt,Xt=!1){return new Promise((_t,It)=>{const Wt=document.createElement("script");Wt.src=Vt,Wt.onload=function(Qt){Xt&&Wt.remove(),_t(Qt)},Wt.onerror=function(){It(new Error(`Cannot load script at: ${Wt.src}`))},(document.head||document.documentElement).append(Wt)})}function ct(Vt){console.log("Deprecated API usage: "+Vt)}let gt;class bt{static toDateObject(Xt){if(!Xt||typeof Xt!="string")return null;gt||(gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _t=gt.exec(Xt);if(!_t)return null;const It=parseInt(_t[1],10);let Wt=parseInt(_t[2],10);Wt=Wt>=1&&Wt<=12?Wt-1:0;let Qt=parseInt(_t[3],10);Qt=Qt>=1&&Qt<=31?Qt:1;let an=parseInt(_t[4],10);an=an>=0&&an<=23?an:0;let gn=parseInt(_t[5],10);gn=gn>=0&&gn<=59?gn:0;let fn=parseInt(_t[6],10);fn=fn>=0&&fn<=59?fn:0;const qt=_t[7]||"Z";let Ht=parseInt(_t[8],10);Ht=Ht>=0&&Ht<=23?Ht:0;let Jt=parseInt(_t[9],10)||0;return Jt=Jt>=0&&Jt<=59?Jt:0,qt==="-"?(an+=Ht,gn+=Jt):qt==="+"&&(an-=Ht,gn-=Jt),new Date(Date.UTC(It,Wt,Qt,an,gn,fn))}}i.PDFDateString=bt;function kt(Vt,{scale:Xt=1,rotation:_t=0}){const{width:It,height:Wt}=Vt.attributes.style,Qt=[0,0,parseInt(It),parseInt(Wt)];return new tt({viewBox:Qt,scale:Xt,rotation:_t})}function ht(Vt){if(Vt.startsWith("#")){const Xt=parseInt(Vt.slice(1),16);return[(Xt&16711680)>>16,(Xt&65280)>>8,Xt&255]}return Vt.startsWith("rgb(")?Vt.slice(4,-1).split(",").map(Xt=>parseInt(Xt)):Vt.startsWith("rgba(")?Vt.slice(5,-1).split(",").map(Xt=>parseInt(Xt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${Vt}"`),[0,0,0])}function St(Vt){const Xt=document.createElement("span");Xt.style.visibility="hidden",document.body.append(Xt);for(const _t of Vt.keys()){Xt.style.color=_t;const It=window.getComputedStyle(Xt).color;Vt.set(_t,ht(It))}Xt.remove()}function At(Vt){const{a:Xt,b:_t,c:It,d:Wt,e:Qt,f:an}=Vt.getTransform();return[Xt,_t,It,Wt,Qt,an]}function zt(Vt){const{a:Xt,b:_t,c:It,d:Wt,e:Qt,f:an}=Vt.getTransform().invertSelf();return[Xt,_t,It,Wt,Qt,an]}function Pt(Vt,Xt,_t=!1,It=!0){if(Xt instanceof tt){const{pageWidth:Wt,pageHeight:Qt}=Xt.rawDims,{style:an}=Vt,gn=a.FeatureTest.isCSSRoundSupported,fn=`var(--scale-factor) * ${Wt}px`,qt=`var(--scale-factor) * ${Qt}px`,Ht=gn?`round(${fn}, 1px)`:`calc(${fn})`,Jt=gn?`round(${qt}, 1px)`:`calc(${qt})`;!_t||Xt.rotation%180===0?(an.width=Ht,an.height=Jt):(an.width=Jt,an.height=Ht)}It&&Vt.setAttribute("data-main-rotation",Xt.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_e){return"none"}addHCMFilter(_e,et){return"none"}addHighlightHCMFilter(_e,et,st,tt){return"none"}destroy(_e=!1){}}i.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_e,et){if(_e<=0||et<=0)throw new Error("Invalid canvas size");const st=this._createCanvas(_e,et);return{canvas:st,context:st.getContext("2d")}}reset(_e,et,st){if(!_e.canvas)throw new Error("Canvas is not specified");if(et<=0||st<=0)throw new Error("Invalid canvas size");_e.canvas.width=et,_e.canvas.height=st}destroy(_e){if(!_e.canvas)throw new Error("Canvas is not specified");_e.canvas.width=0,_e.canvas.height=0,_e.canvas=null,_e.context=null}_createCanvas(_e,et){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=c;class d{constructor({baseUrl:_e=null,isCompressed:et=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=et}async fetch({name:_e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const et=this.baseUrl+_e+(this.isCompressed?".bcmap":""),st=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(et,st).catch(tt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${et}`)})}_fetchData(_e,et){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class b{constructor({baseUrl:_e=null}){this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch({filename:_e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const et=`${this.baseUrl}${_e}`;return this._fetchData(et).catch(st=>{throw new Error(`Unable to load font data at: ${et}`)})}_fetchData(_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=b;class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_e,et,st=!1){if(_e<=0||et<=0)throw new Error("Invalid SVG dimensions");const tt=this._createSVG("svg:svg");return tt.setAttribute("version","1.1"),st||(tt.setAttribute("width",`${_e}px`),tt.setAttribute("height",`${et}px`)),tt.setAttribute("preserveAspectRatio","none"),tt.setAttribute("viewBox",`0 0 ${_e} ${et}`),tt}createElement(_e){if(typeof _e!="string")throw new Error("Invalid SVG element type");return this._createSVG(_e)}_createSVG(_e){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class b{constructor(j){this.h1=j?j&4294967295:a,this.h2=j?j&4294967295:a}update(j){let _e,et;if(typeof j=="string"){_e=new Uint8Array(j.length*2),et=0;for(let ct=0,gt=j.length;ct<gt;ct++){const bt=j.charCodeAt(ct);bt<=255?_e[et++]=bt:(_e[et++]=bt>>>8,_e[et++]=bt&255)}}else if((0,o.isArrayBuffer)(j))_e=j.slice(),et=_e.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const st=et>>2,tt=et-st*4,ot=new Uint32Array(_e.buffer,0,st);let ft=0,yt=0,rt=this.h1,it=this.h2;const dt=3432918353,mt=461845907,ut=dt&d,lt=mt&d;for(let ct=0;ct<st;ct++)ct&1?(ft=ot[ct],ft=ft*dt&c|ft*ut&d,ft=ft<<15|ft>>>17,ft=ft*mt&c|ft*lt&d,rt^=ft,rt=rt<<13|rt>>>19,rt=rt*5+3864292196):(yt=ot[ct],yt=yt*dt&c|yt*ut&d,yt=yt<<15|yt>>>17,yt=yt*mt&c|yt*lt&d,it^=yt,it=it<<13|it>>>19,it=it*5+3864292196);switch(ft=0,tt){case 3:ft^=_e[st*4+2]<<16;case 2:ft^=_e[st*4+1]<<8;case 1:ft^=_e[st*4],ft=ft*dt&c|ft*ut&d,ft=ft<<15|ft>>>17,ft=ft*mt&c|ft*lt&d,st&1?rt^=ft:it^=ft}this.h1=rt,this.h2=it}hexdigest(){let j=this.h1,_e=this.h2;return j^=_e>>>1,j=j*3981806797&c|j*36045&d,_e=_e*4283543511&c|((_e<<16|j>>>16)*2950163797&c)>>>16,j^=_e>>>1,j=j*444984403&c|j*60499&d,_e=_e*3301882366&c|((_e<<16|j>>>16)*3120437893&c)>>>16,j^=_e>>>1,(j>>>0).toString(16).padStart(8,"0")+(_e>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=b},(e,i,s)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1);class a{constructor({ownerDocument:g=globalThis.document,styleElement:j=null}){en(this,d,new Set);this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const j=this.styleElement.sheet;j.insertRule(g,j.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),at(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(g){if(!(!g||at(this,d).has(g.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:j,src:_e,style:et}=g,st=new FontFace(j,_e,et);this.addNativeFontFace(st);try{await st.load(),at(this,d).add(j)}catch{(0,o.warn)(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(st)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _e=g.createNativeFontFace();if(_e){this.addNativeFontFace(_e);try{await _e.loaded}catch(et){throw(0,o.warn)(`Failed to load font '${_e.family}': '${et}'.`),g.disableFontFace=!0,et}}return}const j=g.createFontFaceRule();if(j){if(this.insertRule(j),this.isSyncFontLoadingSupported)return;await new Promise(_e=>{const et=this._queueLoadingCallback(_e);this._prepareFontLoadEvent(g,et)})}}get isFontLoadingAPISupported(){var j;const g=!!((j=this._document)!=null&&j.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){let g=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(g=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function j(){for((0,o.assert)(!et.done,"completeRequest() cannot be called twice."),et.done=!0;_e.length>0&&_e[0].done;){const st=_e.shift();setTimeout(st.callback,0)}}const{loadingRequests:_e}=this,et={done:!1,complete:j,callback:g};return _e.push(et),et}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,j){function _e(ht,St){return ht.charCodeAt(St)<<24|ht.charCodeAt(St+1)<<16|ht.charCodeAt(St+2)<<8|ht.charCodeAt(St+3)&255}function et(ht,St,At,zt){const Pt=ht.substring(0,St),$t=ht.substring(St+At);return Pt+zt+$t}let st,tt;const ot=this._document.createElement("canvas");ot.width=1,ot.height=1;const ft=ot.getContext("2d");let yt=0;function rt(ht,St){if(++yt>30){(0,o.warn)("Load test font never loaded."),St();return}if(ft.font="30px "+ht,ft.fillText(".",0,20),ft.getImageData(0,0,1,1).data[3]>0){St();return}setTimeout(rt.bind(null,ht,St))}const it=`lt${Date.now()}${this.loadTestFontId++}`;let dt=this._loadTestFont;dt=et(dt,976,it.length,it);const ut=16,lt=1482184792;let ct=_e(dt,ut);for(st=0,tt=it.length-3;st<tt;st+=4)ct=ct-lt+_e(it,st)|0;st<it.length&&(ct=ct-lt+_e(it+"XXX",st)|0),dt=et(dt,ut,4,(0,o.string32)(ct));const gt=`url(data:font/opentype;base64,${btoa(dt)});`,bt=`@font-face {font-family:"${it}";src:${gt}}`;this.insertRule(bt);const kt=this._document.createElement("div");kt.style.visibility="hidden",kt.style.width=kt.style.height="10px",kt.style.position="absolute",kt.style.top=kt.style.left="0px";for(const ht of[g.loadedName,it]){const St=this._document.createElement("span");St.textContent="Hi",St.style.fontFamily=ht,kt.append(St)}this._document.body.append(kt),rt(it,()=>{kt.remove(),j.complete()})}}d=new WeakMap,i.FontLoader=a;class c{constructor(g,{isEvalSupported:j=!0,disableFontFace:_e=!1,ignoreErrors:et=!1,inspectFont:st=null}){this.compiledGlyphs=Object.create(null);for(const tt in g)this[tt]=g[tt];this.isEvalSupported=j!==!1,this.disableFontFace=_e===!0,this.ignoreErrors=et===!0,this._inspectFont=st}createNativeFontFace(){var j;if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const _e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,_e)}return(j=this._inspectFont)==null||j.call(this,this),g}createFontFaceRule(){var et;if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),j=`url(data:${this.mimetype};base64,${btoa(g)});`;let _e;if(!this.cssFontInfo)_e=`@font-face {font-family:"${this.loadedName}";src:${j}}`;else{let st=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(st+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${st}src:${j}}`}return(et=this._inspectFont)==null||et.call(this,this,j),_e}getPathGenerator(g,j){if(this.compiledGlyphs[j]!==void 0)return this.compiledGlyphs[j];let _e;try{_e=g.get(this.loadedName+"_path_"+j)}catch(et){if(!this.ignoreErrors)throw et;return(0,o.warn)(`getPathGenerator - ignoring character: "${et}".`),this.compiledGlyphs[j]=function(st,tt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const et=[];for(const st of _e){const tt=st.args!==void 0?st.args.join(","):"";et.push("c.",st.cmd,"(",tt,`);
`)}return this.compiledGlyphs[j]=new Function("c","size",et.join(""))}return this.compiledGlyphs[j]=function(et,st){for(const tt of _e)tt.cmd==="scale"&&(tt.args=[st,-st]),et[tt.cmd].apply(et,tt.args)}}}i.FontFaceObject=c},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const a=function(j){return new Promise((_e,et)=>{require$$5.readFile(j,(tt,ot)=>{if(tt||!ot){et(new Error(tt));return}_e(new Uint8Array(ot))})})};class c extends o.BaseFilterFactory{}i.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(_e,et){return require$$5.createCanvas(_e,et)}}i.NodeCanvasFactory=d;class b extends o.BaseCMapReaderFactory{_fetchData(_e,et){return a(_e).then(st=>({cMapData:st,compressionType:et}))}}i.NodeCMapReaderFactory=b;class g extends o.BaseStandardFontDataFactory{_fetchData(_e){return a(_e)}}i.NodeStandardFontDataFactory=g},(e,i,s)=>{var Nt,jr,$r;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),a=s(6),c=s(12),d=s(13);const b=16,g=100,j=4096,_e=15,et=10,st=1e3,tt=16;function ot(xt,nt){if(xt._removeMirroring)throw new Error("Context is already forwarding operations.");xt.__originalSave=xt.save,xt.__originalRestore=xt.restore,xt.__originalRotate=xt.rotate,xt.__originalScale=xt.scale,xt.__originalTranslate=xt.translate,xt.__originalTransform=xt.transform,xt.__originalSetTransform=xt.setTransform,xt.__originalResetTransform=xt.resetTransform,xt.__originalClip=xt.clip,xt.__originalMoveTo=xt.moveTo,xt.__originalLineTo=xt.lineTo,xt.__originalBezierCurveTo=xt.bezierCurveTo,xt.__originalRect=xt.rect,xt.__originalClosePath=xt.closePath,xt.__originalBeginPath=xt.beginPath,xt._removeMirroring=()=>{xt.save=xt.__originalSave,xt.restore=xt.__originalRestore,xt.rotate=xt.__originalRotate,xt.scale=xt.__originalScale,xt.translate=xt.__originalTranslate,xt.transform=xt.__originalTransform,xt.setTransform=xt.__originalSetTransform,xt.resetTransform=xt.__originalResetTransform,xt.clip=xt.__originalClip,xt.moveTo=xt.__originalMoveTo,xt.lineTo=xt.__originalLineTo,xt.bezierCurveTo=xt.__originalBezierCurveTo,xt.rect=xt.__originalRect,xt.closePath=xt.__originalClosePath,xt.beginPath=xt.__originalBeginPath,delete xt._removeMirroring},xt.save=function(){nt.save(),this.__originalSave()},xt.restore=function(){nt.restore(),this.__originalRestore()},xt.translate=function(wt,Ct){nt.translate(wt,Ct),this.__originalTranslate(wt,Ct)},xt.scale=function(wt,Ct){nt.scale(wt,Ct),this.__originalScale(wt,Ct)},xt.transform=function(wt,Ct,Rt,Lt,Bt,Kt){nt.transform(wt,Ct,Rt,Lt,Bt,Kt),this.__originalTransform(wt,Ct,Rt,Lt,Bt,Kt)},xt.setTransform=function(wt,Ct,Rt,Lt,Bt,Kt){nt.setTransform(wt,Ct,Rt,Lt,Bt,Kt),this.__originalSetTransform(wt,Ct,Rt,Lt,Bt,Kt)},xt.resetTransform=function(){nt.resetTransform(),this.__originalResetTransform()},xt.rotate=function(wt){nt.rotate(wt),this.__originalRotate(wt)},xt.clip=function(wt){nt.clip(wt),this.__originalClip(wt)},xt.moveTo=function(pt,wt){nt.moveTo(pt,wt),this.__originalMoveTo(pt,wt)},xt.lineTo=function(pt,wt){nt.lineTo(pt,wt),this.__originalLineTo(pt,wt)},xt.bezierCurveTo=function(pt,wt,Ct,Rt,Lt,Bt){nt.bezierCurveTo(pt,wt,Ct,Rt,Lt,Bt),this.__originalBezierCurveTo(pt,wt,Ct,Rt,Lt,Bt)},xt.rect=function(pt,wt,Ct,Rt){nt.rect(pt,wt,Ct,Rt),this.__originalRect(pt,wt,Ct,Rt)},xt.closePath=function(){nt.closePath(),this.__originalClosePath()},xt.beginPath=function(){nt.beginPath(),this.__originalBeginPath()}}class ft{constructor(nt){this.canvasFactory=nt,this.cache=Object.create(null)}getCanvas(nt,pt,wt){let Ct;return this.cache[nt]!==void 0?(Ct=this.cache[nt],this.canvasFactory.reset(Ct,pt,wt)):(Ct=this.canvasFactory.create(pt,wt),this.cache[nt]=Ct),Ct}delete(nt){delete this.cache[nt]}clear(){for(const nt in this.cache){const pt=this.cache[nt];this.canvasFactory.destroy(pt),delete this.cache[nt]}}}function yt(xt,nt,pt,wt,Ct,Rt,Lt,Bt,Kt,nn){const[sn,cn,ln,dn,Vt,Xt]=(0,a.getCurrentTransform)(xt);if(cn===0&&ln===0){const Wt=Lt*sn+Vt,Qt=Math.round(Wt),an=Bt*dn+Xt,gn=Math.round(an),fn=(Lt+Kt)*sn+Vt,qt=Math.abs(Math.round(fn)-Qt)||1,Ht=(Bt+nn)*dn+Xt,Jt=Math.abs(Math.round(Ht)-gn)||1;return xt.setTransform(Math.sign(sn),0,0,Math.sign(dn),Qt,gn),xt.drawImage(nt,pt,wt,Ct,Rt,0,0,qt,Jt),xt.setTransform(sn,cn,ln,dn,Vt,Xt),[qt,Jt]}if(sn===0&&dn===0){const Wt=Bt*ln+Vt,Qt=Math.round(Wt),an=Lt*cn+Xt,gn=Math.round(an),fn=(Bt+nn)*ln+Vt,qt=Math.abs(Math.round(fn)-Qt)||1,Ht=(Lt+Kt)*cn+Xt,Jt=Math.abs(Math.round(Ht)-gn)||1;return xt.setTransform(0,Math.sign(cn),Math.sign(ln),0,Qt,gn),xt.drawImage(nt,pt,wt,Ct,Rt,0,0,Jt,qt),xt.setTransform(sn,cn,ln,dn,Vt,Xt),[Jt,qt]}xt.drawImage(nt,pt,wt,Ct,Rt,Lt,Bt,Kt,nn);const _t=Math.hypot(sn,cn),It=Math.hypot(ln,dn);return[_t*Kt,It*nn]}function rt(xt){const{width:nt,height:pt}=xt;if(nt>st||pt>st)return null;const wt=1e3,Ct=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Rt=nt+1;let Lt=new Uint8Array(Rt*(pt+1)),Bt,Kt,nn;const sn=nt+7&-8;let cn=new Uint8Array(sn*pt),ln=0;for(const It of xt.data){let Wt=128;for(;Wt>0;)cn[ln++]=It&Wt?0:255,Wt>>=1}let dn=0;for(ln=0,cn[ln]!==0&&(Lt[0]=1,++dn),Kt=1;Kt<nt;Kt++)cn[ln]!==cn[ln+1]&&(Lt[Kt]=cn[ln]?2:1,++dn),ln++;for(cn[ln]!==0&&(Lt[Kt]=2,++dn),Bt=1;Bt<pt;Bt++){ln=Bt*sn,nn=Bt*Rt,cn[ln-sn]!==cn[ln]&&(Lt[nn]=cn[ln]?1:8,++dn);let It=(cn[ln]?4:0)+(cn[ln-sn]?8:0);for(Kt=1;Kt<nt;Kt++)It=(It>>2)+(cn[ln+1]?4:0)+(cn[ln-sn+1]?8:0),Ct[It]&&(Lt[nn+Kt]=Ct[It],++dn),ln++;if(cn[ln-sn]!==cn[ln]&&(Lt[nn+Kt]=cn[ln]?2:4,++dn),dn>wt)return null}for(ln=sn*(pt-1),nn=Bt*Rt,cn[ln]!==0&&(Lt[nn]=8,++dn),Kt=1;Kt<nt;Kt++)cn[ln]!==cn[ln+1]&&(Lt[nn+Kt]=cn[ln]?4:8,++dn),ln++;if(cn[ln]!==0&&(Lt[nn+Kt]=4,++dn),dn>wt)return null;const Vt=new Int32Array([0,Rt,-1,0,-Rt,0,0,0,1]),Xt=new Path2D;for(Bt=0;dn&&Bt<=pt;Bt++){let It=Bt*Rt;const Wt=It+nt;for(;It<Wt&&!Lt[It];)It++;if(It===Wt)continue;Xt.moveTo(It%Rt,Bt);const Qt=It;let an=Lt[It];do{const gn=Vt[an];do It+=gn;while(!Lt[It]);const fn=Lt[It];fn!==5&&fn!==10?(an=fn,Lt[It]=0):(an=fn&51*an>>4,Lt[It]&=an>>2|an<<2),Xt.lineTo(It%Rt,It/Rt|0),Lt[It]||--dn}while(Qt!==It);--Bt}return cn=null,Lt=null,function(It){It.save(),It.scale(1/nt,-1/pt),It.translate(0,-pt),It.fill(Xt),It.beginPath(),It.restore()}}class it{constructor(nt,pt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,nt,pt])}clone(){const nt=Object.create(this);return nt.clipBox=this.clipBox.slice(),nt}setCurrentPoint(nt,pt){this.x=nt,this.y=pt}updatePathMinMax(nt,pt,wt){[pt,wt]=o.Util.applyTransform([pt,wt],nt),this.minX=Math.min(this.minX,pt),this.minY=Math.min(this.minY,wt),this.maxX=Math.max(this.maxX,pt),this.maxY=Math.max(this.maxY,wt)}updateRectMinMax(nt,pt){const wt=o.Util.applyTransform(pt,nt),Ct=o.Util.applyTransform(pt.slice(2),nt);this.minX=Math.min(this.minX,wt[0],Ct[0]),this.minY=Math.min(this.minY,wt[1],Ct[1]),this.maxX=Math.max(this.maxX,wt[0],Ct[0]),this.maxY=Math.max(this.maxY,wt[1],Ct[1])}updateScalingPathMinMax(nt,pt){o.Util.scaleMinMax(nt,pt),this.minX=Math.min(this.minX,pt[0]),this.maxX=Math.max(this.maxX,pt[1]),this.minY=Math.min(this.minY,pt[2]),this.maxY=Math.max(this.maxY,pt[3])}updateCurvePathMinMax(nt,pt,wt,Ct,Rt,Lt,Bt,Kt,nn,sn){const cn=o.Util.bezierBoundingBox(pt,wt,Ct,Rt,Lt,Bt,Kt,nn);if(sn){sn[0]=Math.min(sn[0],cn[0],cn[2]),sn[1]=Math.max(sn[1],cn[0],cn[2]),sn[2]=Math.min(sn[2],cn[1],cn[3]),sn[3]=Math.max(sn[3],cn[1],cn[3]);return}this.updateRectMinMax(nt,cn)}getPathBoundingBox(nt=c.PathType.FILL,pt=null){const wt=[this.minX,this.minY,this.maxX,this.maxY];if(nt===c.PathType.STROKE){pt||(0,o.unreachable)("Stroke bounding box must include transform.");const Ct=o.Util.singularValueDecompose2dScale(pt),Rt=Ct[0]*this.lineWidth/2,Lt=Ct[1]*this.lineWidth/2;wt[0]-=Rt,wt[1]-=Lt,wt[2]+=Rt,wt[3]+=Lt}return wt}updateClipFromPath(){const nt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(nt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(nt){this.clipBox=nt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(nt=c.PathType.FILL,pt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(nt,pt))}}function dt(xt,nt){if(typeof ImageData<"u"&&nt instanceof ImageData){xt.putImageData(nt,0,0);return}const pt=nt.height,wt=nt.width,Ct=pt%tt,Rt=(pt-Ct)/tt,Lt=Ct===0?Rt:Rt+1,Bt=xt.createImageData(wt,tt);let Kt=0,nn;const sn=nt.data,cn=Bt.data;let ln,dn,Vt,Xt;if(nt.kind===o.ImageKind.GRAYSCALE_1BPP){const _t=sn.byteLength,It=new Uint32Array(cn.buffer,0,cn.byteLength>>2),Wt=It.length,Qt=wt+7>>3,an=4294967295,gn=o.FeatureTest.isLittleEndian?4278190080:255;for(ln=0;ln<Lt;ln++){for(Vt=ln<Rt?tt:Ct,nn=0,dn=0;dn<Vt;dn++){const fn=_t-Kt;let qt=0;const Ht=fn>Qt?wt:fn*8-7,Jt=Ht&-8;let vn=0,bn=0;for(;qt<Jt;qt+=8)bn=sn[Kt++],It[nn++]=bn&128?an:gn,It[nn++]=bn&64?an:gn,It[nn++]=bn&32?an:gn,It[nn++]=bn&16?an:gn,It[nn++]=bn&8?an:gn,It[nn++]=bn&4?an:gn,It[nn++]=bn&2?an:gn,It[nn++]=bn&1?an:gn;for(;qt<Ht;qt++)vn===0&&(bn=sn[Kt++],vn=128),It[nn++]=bn&vn?an:gn,vn>>=1}for(;nn<Wt;)It[nn++]=0;xt.putImageData(Bt,0,ln*tt)}}else if(nt.kind===o.ImageKind.RGBA_32BPP){for(dn=0,Xt=wt*tt*4,ln=0;ln<Rt;ln++)cn.set(sn.subarray(Kt,Kt+Xt)),Kt+=Xt,xt.putImageData(Bt,0,dn),dn+=tt;ln<Lt&&(Xt=wt*Ct*4,cn.set(sn.subarray(Kt,Kt+Xt)),xt.putImageData(Bt,0,dn))}else if(nt.kind===o.ImageKind.RGB_24BPP)for(Vt=tt,Xt=wt*Vt,ln=0;ln<Lt;ln++){for(ln>=Rt&&(Vt=Ct,Xt=wt*Vt),nn=0,dn=Xt;dn--;)cn[nn++]=sn[Kt++],cn[nn++]=sn[Kt++],cn[nn++]=sn[Kt++],cn[nn++]=255;xt.putImageData(Bt,0,ln*tt)}else throw new Error(`bad image kind: ${nt.kind}`)}function mt(xt,nt){if(nt.bitmap){xt.drawImage(nt.bitmap,0,0);return}const pt=nt.height,wt=nt.width,Ct=pt%tt,Rt=(pt-Ct)/tt,Lt=Ct===0?Rt:Rt+1,Bt=xt.createImageData(wt,tt);let Kt=0;const nn=nt.data,sn=Bt.data;for(let cn=0;cn<Lt;cn++){const ln=cn<Rt?tt:Ct;({srcPos:Kt}=(0,d.convertBlackAndWhiteToRGBA)({src:nn,srcPos:Kt,dest:sn,width:wt,height:ln,nonBlackColor:0})),xt.putImageData(Bt,0,cn*tt)}}function ut(xt,nt){const pt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const wt of pt)xt[wt]!==void 0&&(nt[wt]=xt[wt]);xt.setLineDash!==void 0&&(nt.setLineDash(xt.getLineDash()),nt.lineDashOffset=xt.lineDashOffset)}function lt(xt){if(xt.strokeStyle=xt.fillStyle="#000000",xt.fillRule="nonzero",xt.globalAlpha=1,xt.lineWidth=1,xt.lineCap="butt",xt.lineJoin="miter",xt.miterLimit=10,xt.globalCompositeOperation="source-over",xt.font="10px sans-serif",xt.setLineDash!==void 0&&(xt.setLineDash([]),xt.lineDashOffset=0),!o.isNodeJS){const{filter:nt}=xt;nt!=="none"&&nt!==""&&(xt.filter="none")}}function ct(xt,nt,pt,wt){const Ct=xt.length;for(let Rt=3;Rt<Ct;Rt+=4){const Lt=xt[Rt];if(Lt===0)xt[Rt-3]=nt,xt[Rt-2]=pt,xt[Rt-1]=wt;else if(Lt<255){const Bt=255-Lt;xt[Rt-3]=xt[Rt-3]*Lt+nt*Bt>>8,xt[Rt-2]=xt[Rt-2]*Lt+pt*Bt>>8,xt[Rt-1]=xt[Rt-1]*Lt+wt*Bt>>8}}}function gt(xt,nt,pt){const wt=xt.length,Ct=1/255;for(let Rt=3;Rt<wt;Rt+=4){const Lt=pt?pt[xt[Rt]]:xt[Rt];nt[Rt]=nt[Rt]*Lt*Ct|0}}function bt(xt,nt,pt){const wt=xt.length;for(let Ct=3;Ct<wt;Ct+=4){const Rt=xt[Ct-3]*77+xt[Ct-2]*152+xt[Ct-1]*28;nt[Ct]=pt?nt[Ct]*pt[Rt>>8]>>8:nt[Ct]*Rt>>16}}function kt(xt,nt,pt,wt,Ct,Rt,Lt,Bt,Kt,nn,sn){const cn=!!Rt,ln=cn?Rt[0]:0,dn=cn?Rt[1]:0,Vt=cn?Rt[2]:0,Xt=Ct==="Luminosity"?bt:gt,It=Math.min(wt,Math.ceil(1048576/pt));for(let Wt=0;Wt<wt;Wt+=It){const Qt=Math.min(It,wt-Wt),an=xt.getImageData(Bt-nn,Wt+(Kt-sn),pt,Qt),gn=nt.getImageData(Bt,Wt+Kt,pt,Qt);cn&&ct(an.data,ln,dn,Vt),Xt(an.data,gn.data,Lt),nt.putImageData(gn,Bt,Wt+Kt)}}function ht(xt,nt,pt,wt){const Ct=wt[0],Rt=wt[1],Lt=wt[2]-Ct,Bt=wt[3]-Rt;Lt===0||Bt===0||(kt(nt.context,pt,Lt,Bt,nt.subtype,nt.backdrop,nt.transferMap,Ct,Rt,nt.offsetX,nt.offsetY),xt.save(),xt.globalAlpha=1,xt.globalCompositeOperation="source-over",xt.setTransform(1,0,0,1,0,0),xt.drawImage(pt.canvas,0,0),xt.restore())}function St(xt,nt){const pt=o.Util.singularValueDecompose2dScale(xt);pt[0]=Math.fround(pt[0]),pt[1]=Math.fround(pt[1]);const wt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return nt!==void 0?nt:pt[0]<=wt||pt[1]<=wt}const At=["butt","round","square"],zt=["miter","round","bevel"],Pt={},$t={},jt=class jt{constructor(nt,pt,wt,Ct,Rt,{optionalContentConfig:Lt,markedContentStack:Bt=null},Kt,nn){en(this,Nt);this.ctx=nt,this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=pt,this.objs=wt,this.canvasFactory=Ct,this.filterFactory=Rt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Bt||[],this.optionalContentConfig=Lt,this.cachedCanvases=new ft(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Kt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=nn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(nt,pt=null){return typeof nt=="string"?nt.startsWith("g_")?this.commonObjs.get(nt):this.objs.get(nt):pt}beginDrawing({transform:nt,viewport:pt,transparency:wt=!1,background:Ct=null}){const Rt=this.ctx.canvas.width,Lt=this.ctx.canvas.height,Bt=this.ctx.fillStyle;if(this.ctx.fillStyle=Ct||"#ffffff",this.ctx.fillRect(0,0,Rt,Lt),this.ctx.fillStyle=Bt,wt){const Kt=this.cachedCanvases.getCanvas("transparent",Rt,Lt);this.compositeCtx=this.ctx,this.transparentCanvas=Kt.canvas,this.ctx=Kt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),lt(this.ctx),nt&&(this.ctx.transform(...nt),this.outputScaleX=nt[0],this.outputScaleY=nt[0]),this.ctx.transform(...pt.transform),this.viewportScale=pt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(nt,pt,wt,Ct){const Rt=nt.argsArray,Lt=nt.fnArray;let Bt=pt||0;const Kt=Rt.length;if(Kt===Bt)return Bt;const nn=Kt-Bt>et&&typeof wt=="function",sn=nn?Date.now()+_e:0;let cn=0;const ln=this.commonObjs,dn=this.objs;let Vt;for(;;){if(Ct!==void 0&&Bt===Ct.nextBreakPoint)return Ct.breakIt(Bt,wt),Bt;if(Vt=Lt[Bt],Vt!==o.OPS.dependency)this[Vt].apply(this,Rt[Bt]);else for(const Xt of Rt[Bt]){const _t=Xt.startsWith("g_")?ln:dn;if(!_t.has(Xt))return _t.get(Xt,wt),Bt}if(Bt++,Bt===Kt)return Bt;if(nn&&++cn>et){if(Date.now()>sn)return wt(),Bt;cn=0}}}endDrawing(){Gt(this,Nt,jr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const nt of this._cachedBitmapsMap.values()){for(const pt of nt.values())typeof HTMLCanvasElement<"u"&&pt instanceof HTMLCanvasElement&&(pt.width=pt.height=0);nt.clear()}this._cachedBitmapsMap.clear(),Gt(this,Nt,$r).call(this)}_scaleImage(nt,pt){const wt=nt.width,Ct=nt.height;let Rt=Math.max(Math.hypot(pt[0],pt[1]),1),Lt=Math.max(Math.hypot(pt[2],pt[3]),1),Bt=wt,Kt=Ct,nn="prescale1",sn,cn;for(;Rt>2&&Bt>1||Lt>2&&Kt>1;){let ln=Bt,dn=Kt;Rt>2&&Bt>1&&(ln=Bt>=16384?Math.floor(Bt/2)-1||1:Math.ceil(Bt/2),Rt/=Bt/ln),Lt>2&&Kt>1&&(dn=Kt>=16384?Math.floor(Kt/2)-1||1:Math.ceil(Kt)/2,Lt/=Kt/dn),sn=this.cachedCanvases.getCanvas(nn,ln,dn),cn=sn.context,cn.clearRect(0,0,ln,dn),cn.drawImage(nt,0,0,Bt,Kt,0,0,ln,dn),nt=sn.canvas,Bt=ln,Kt=dn,nn=nn==="prescale1"?"prescale2":"prescale1"}return{img:nt,paintWidth:Bt,paintHeight:Kt}}_createMaskCanvas(nt){const pt=this.ctx,{width:wt,height:Ct}=nt,Rt=this.current.fillColor,Lt=this.current.patternFill,Bt=(0,a.getCurrentTransform)(pt);let Kt,nn,sn,cn;if((nt.bitmap||nt.data)&&nt.count>1){const qt=nt.bitmap||nt.data.buffer;nn=JSON.stringify(Lt?Bt:[Bt.slice(0,4),Rt]),Kt=this._cachedBitmapsMap.get(qt),Kt||(Kt=new Map,this._cachedBitmapsMap.set(qt,Kt));const Ht=Kt.get(nn);if(Ht&&!Lt){const Jt=Math.round(Math.min(Bt[0],Bt[2])+Bt[4]),vn=Math.round(Math.min(Bt[1],Bt[3])+Bt[5]);return{canvas:Ht,offsetX:Jt,offsetY:vn}}sn=Ht}sn||(cn=this.cachedCanvases.getCanvas("maskCanvas",wt,Ct),mt(cn.context,nt));let ln=o.Util.transform(Bt,[1/wt,0,0,-1/Ct,0,0]);ln=o.Util.transform(ln,[1,0,0,1,0,-Ct]);const dn=o.Util.applyTransform([0,0],ln),Vt=o.Util.applyTransform([wt,Ct],ln),Xt=o.Util.normalizeRect([dn[0],dn[1],Vt[0],Vt[1]]),_t=Math.round(Xt[2]-Xt[0])||1,It=Math.round(Xt[3]-Xt[1])||1,Wt=this.cachedCanvases.getCanvas("fillCanvas",_t,It),Qt=Wt.context,an=Math.min(dn[0],Vt[0]),gn=Math.min(dn[1],Vt[1]);Qt.translate(-an,-gn),Qt.transform(...ln),sn||(sn=this._scaleImage(cn.canvas,(0,a.getCurrentTransformInverse)(Qt)),sn=sn.img,Kt&&Lt&&Kt.set(nn,sn)),Qt.imageSmoothingEnabled=St((0,a.getCurrentTransform)(Qt),nt.interpolate),yt(Qt,sn,0,0,sn.width,sn.height,0,0,wt,Ct),Qt.globalCompositeOperation="source-in";const fn=o.Util.transform((0,a.getCurrentTransformInverse)(Qt),[1,0,0,1,-an,-gn]);return Qt.fillStyle=Lt?Rt.getPattern(pt,this,fn,c.PathType.FILL):Rt,Qt.fillRect(0,0,wt,Ct),Kt&&!Lt&&(this.cachedCanvases.delete("fillCanvas"),Kt.set(nn,Wt.canvas)),{canvas:Wt.canvas,offsetX:Math.round(an),offsetY:Math.round(gn)}}setLineWidth(nt){nt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=nt,this.ctx.lineWidth=nt}setLineCap(nt){this.ctx.lineCap=At[nt]}setLineJoin(nt){this.ctx.lineJoin=zt[nt]}setMiterLimit(nt){this.ctx.miterLimit=nt}setDash(nt,pt){const wt=this.ctx;wt.setLineDash!==void 0&&(wt.setLineDash(nt),wt.lineDashOffset=pt)}setRenderingIntent(nt){}setFlatness(nt){}setGState(nt){for(const[pt,wt]of nt)switch(pt){case"LW":this.setLineWidth(wt);break;case"LC":this.setLineCap(wt);break;case"LJ":this.setLineJoin(wt);break;case"ML":this.setMiterLimit(wt);break;case"D":this.setDash(wt[0],wt[1]);break;case"RI":this.setRenderingIntent(wt);break;case"FL":this.setFlatness(wt);break;case"Font":this.setFont(wt[0],wt[1]);break;case"CA":this.current.strokeAlpha=wt;break;case"ca":this.current.fillAlpha=wt,this.ctx.globalAlpha=wt;break;case"BM":this.ctx.globalCompositeOperation=wt;break;case"SMask":this.current.activeSMask=wt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(wt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const nt=this.inSMaskMode;this.current.activeSMask&&!nt?this.beginSMaskMode():!this.current.activeSMask&&nt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const nt=this.ctx.canvas.width,pt=this.ctx.canvas.height,wt="smaskGroupAt"+this.groupLevel,Ct=this.cachedCanvases.getCanvas(wt,nt,pt);this.suspendedCtx=this.ctx,this.ctx=Ct.context;const Rt=this.ctx;Rt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),ut(this.suspendedCtx,Rt),ot(Rt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ut(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(nt){if(!this.current.activeSMask)return;nt?(nt[0]=Math.floor(nt[0]),nt[1]=Math.floor(nt[1]),nt[2]=Math.ceil(nt[2]),nt[3]=Math.ceil(nt[3])):nt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const pt=this.current.activeSMask,wt=this.suspendedCtx;ht(wt,pt,this.ctx,nt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ut(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const nt=this.current;this.stateStack.push(nt),this.current=nt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ut(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(nt,pt,wt,Ct,Rt,Lt){this.ctx.transform(nt,pt,wt,Ct,Rt,Lt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(nt,pt,wt){const Ct=this.ctx,Rt=this.current;let Lt=Rt.x,Bt=Rt.y,Kt,nn;const sn=(0,a.getCurrentTransform)(Ct),cn=sn[0]===0&&sn[3]===0||sn[1]===0&&sn[2]===0,ln=cn?wt.slice(0):null;for(let dn=0,Vt=0,Xt=nt.length;dn<Xt;dn++)switch(nt[dn]|0){case o.OPS.rectangle:Lt=pt[Vt++],Bt=pt[Vt++];const _t=pt[Vt++],It=pt[Vt++],Wt=Lt+_t,Qt=Bt+It;Ct.moveTo(Lt,Bt),_t===0||It===0?Ct.lineTo(Wt,Qt):(Ct.lineTo(Wt,Bt),Ct.lineTo(Wt,Qt),Ct.lineTo(Lt,Qt)),cn||Rt.updateRectMinMax(sn,[Lt,Bt,Wt,Qt]),Ct.closePath();break;case o.OPS.moveTo:Lt=pt[Vt++],Bt=pt[Vt++],Ct.moveTo(Lt,Bt),cn||Rt.updatePathMinMax(sn,Lt,Bt);break;case o.OPS.lineTo:Lt=pt[Vt++],Bt=pt[Vt++],Ct.lineTo(Lt,Bt),cn||Rt.updatePathMinMax(sn,Lt,Bt);break;case o.OPS.curveTo:Kt=Lt,nn=Bt,Lt=pt[Vt+4],Bt=pt[Vt+5],Ct.bezierCurveTo(pt[Vt],pt[Vt+1],pt[Vt+2],pt[Vt+3],Lt,Bt),Rt.updateCurvePathMinMax(sn,Kt,nn,pt[Vt],pt[Vt+1],pt[Vt+2],pt[Vt+3],Lt,Bt,ln),Vt+=6;break;case o.OPS.curveTo2:Kt=Lt,nn=Bt,Ct.bezierCurveTo(Lt,Bt,pt[Vt],pt[Vt+1],pt[Vt+2],pt[Vt+3]),Rt.updateCurvePathMinMax(sn,Kt,nn,Lt,Bt,pt[Vt],pt[Vt+1],pt[Vt+2],pt[Vt+3],ln),Lt=pt[Vt+2],Bt=pt[Vt+3],Vt+=4;break;case o.OPS.curveTo3:Kt=Lt,nn=Bt,Lt=pt[Vt+2],Bt=pt[Vt+3],Ct.bezierCurveTo(pt[Vt],pt[Vt+1],Lt,Bt,Lt,Bt),Rt.updateCurvePathMinMax(sn,Kt,nn,pt[Vt],pt[Vt+1],Lt,Bt,Lt,Bt,ln),Vt+=4;break;case o.OPS.closePath:Ct.closePath();break}cn&&Rt.updateScalingPathMinMax(sn,ln),Rt.setCurrentPoint(Lt,Bt)}closePath(){this.ctx.closePath()}stroke(nt=!0){const pt=this.ctx,wt=this.current.strokeColor;pt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof wt=="object"&&(wt!=null&&wt.getPattern)?(pt.save(),pt.strokeStyle=wt.getPattern(pt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.STROKE),this.rescaleAndStroke(!1),pt.restore()):this.rescaleAndStroke(!0)),nt&&this.consumePath(this.current.getClippedPathBoundingBox()),pt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(nt=!0){const pt=this.ctx,wt=this.current.fillColor,Ct=this.current.patternFill;let Rt=!1;Ct&&(pt.save(),pt.fillStyle=wt.getPattern(pt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.FILL),Rt=!0);const Lt=this.current.getClippedPathBoundingBox();this.contentVisible&&Lt!==null&&(this.pendingEOFill?(pt.fill("evenodd"),this.pendingEOFill=!1):pt.fill()),Rt&&pt.restore(),nt&&this.consumePath(Lt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pt}eoClip(){this.pendingClip=$t}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const nt=this.pendingTextPaths,pt=this.ctx;if(nt===void 0){pt.beginPath();return}pt.save(),pt.beginPath();for(const wt of nt)pt.setTransform(...wt.transform),pt.translate(wt.x,wt.y),wt.addToPath(pt,wt.fontSize);pt.restore(),pt.clip(),pt.beginPath(),delete this.pendingTextPaths}setCharSpacing(nt){this.current.charSpacing=nt}setWordSpacing(nt){this.current.wordSpacing=nt}setHScale(nt){this.current.textHScale=nt/100}setLeading(nt){this.current.leading=-nt}setFont(nt,pt){var sn;const wt=this.commonObjs.get(nt),Ct=this.current;if(!wt)throw new Error(`Can't find font for ${nt}`);if(Ct.fontMatrix=wt.fontMatrix||o.FONT_IDENTITY_MATRIX,(Ct.fontMatrix[0]===0||Ct.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+nt),pt<0?(pt=-pt,Ct.fontDirection=-1):Ct.fontDirection=1,this.current.font=wt,this.current.fontSize=pt,wt.isType3Font)return;const Rt=wt.loadedName||"sans-serif",Lt=((sn=wt.systemFontInfo)==null?void 0:sn.css)||`"${Rt}", ${wt.fallbackName}`;let Bt="normal";wt.black?Bt="900":wt.bold&&(Bt="bold");const Kt=wt.italic?"italic":"normal";let nn=pt;pt<b?nn=b:pt>g&&(nn=g),this.current.fontSizeScale=pt/nn,this.ctx.font=`${Kt} ${Bt} ${nn}px ${Lt}`}setTextRenderingMode(nt){this.current.textRenderingMode=nt}setTextRise(nt){this.current.textRise=nt}moveText(nt,pt){this.current.x=this.current.lineX+=nt,this.current.y=this.current.lineY+=pt}setLeadingMoveText(nt,pt){this.setLeading(-pt),this.moveText(nt,pt)}setTextMatrix(nt,pt,wt,Ct,Rt,Lt){this.current.textMatrix=[nt,pt,wt,Ct,Rt,Lt],this.current.textMatrixScale=Math.hypot(nt,pt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(nt,pt,wt,Ct){const Rt=this.ctx,Lt=this.current,Bt=Lt.font,Kt=Lt.textRenderingMode,nn=Lt.fontSize/Lt.fontSizeScale,sn=Kt&o.TextRenderingMode.FILL_STROKE_MASK,cn=!!(Kt&o.TextRenderingMode.ADD_TO_PATH_FLAG),ln=Lt.patternFill&&!Bt.missingFile;let dn;(Bt.disableFontFace||cn||ln)&&(dn=Bt.getPathGenerator(this.commonObjs,nt)),Bt.disableFontFace||ln?(Rt.save(),Rt.translate(pt,wt),Rt.beginPath(),dn(Rt,nn),Ct&&Rt.setTransform(...Ct),(sn===o.TextRenderingMode.FILL||sn===o.TextRenderingMode.FILL_STROKE)&&Rt.fill(),(sn===o.TextRenderingMode.STROKE||sn===o.TextRenderingMode.FILL_STROKE)&&Rt.stroke(),Rt.restore()):((sn===o.TextRenderingMode.FILL||sn===o.TextRenderingMode.FILL_STROKE)&&Rt.fillText(nt,pt,wt),(sn===o.TextRenderingMode.STROKE||sn===o.TextRenderingMode.FILL_STROKE)&&Rt.strokeText(nt,pt,wt)),cn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(Rt),x:pt,y:wt,fontSize:nn,addToPath:dn})}get isFontSubpixelAAEnabled(){const{context:nt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);nt.scale(1.5,1),nt.fillText("I",0,10);const pt=nt.getImageData(0,0,10,10).data;let wt=!1;for(let Ct=3;Ct<pt.length;Ct+=4)if(pt[Ct]>0&&pt[Ct]<255){wt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",wt)}showText(nt){const pt=this.current,wt=pt.font;if(wt.isType3Font)return this.showType3Text(nt);const Ct=pt.fontSize;if(Ct===0)return;const Rt=this.ctx,Lt=pt.fontSizeScale,Bt=pt.charSpacing,Kt=pt.wordSpacing,nn=pt.fontDirection,sn=pt.textHScale*nn,cn=nt.length,ln=wt.vertical,dn=ln?1:-1,Vt=wt.defaultVMetrics,Xt=Ct*pt.fontMatrix[0],_t=pt.textRenderingMode===o.TextRenderingMode.FILL&&!wt.disableFontFace&&!pt.patternFill;Rt.save(),Rt.transform(...pt.textMatrix),Rt.translate(pt.x,pt.y+pt.textRise),nn>0?Rt.scale(sn,-1):Rt.scale(sn,1);let It;if(pt.patternFill){Rt.save();const fn=pt.fillColor.getPattern(Rt,this,(0,a.getCurrentTransformInverse)(Rt),c.PathType.FILL);It=(0,a.getCurrentTransform)(Rt),Rt.restore(),Rt.fillStyle=fn}let Wt=pt.lineWidth;const Qt=pt.textMatrixScale;if(Qt===0||Wt===0){const fn=pt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(fn===o.TextRenderingMode.STROKE||fn===o.TextRenderingMode.FILL_STROKE)&&(Wt=this.getSinglePixelWidth())}else Wt/=Qt;if(Lt!==1&&(Rt.scale(Lt,Lt),Wt/=Lt),Rt.lineWidth=Wt,wt.isInvalidPDFjsFont){const fn=[];let qt=0;for(const Ht of nt)fn.push(Ht.unicode),qt+=Ht.width;Rt.fillText(fn.join(""),0,0),pt.x+=qt*Xt*sn,Rt.restore(),this.compose();return}let an=0,gn;for(gn=0;gn<cn;++gn){const fn=nt[gn];if(typeof fn=="number"){an+=dn*fn*Ct/1e3;continue}let qt=!1;const Ht=(fn.isSpace?Kt:0)+Bt,Jt=fn.fontChar,vn=fn.accent;let bn,Pn,Sn=fn.width;if(ln){const Fn=fn.vmetric||Vt,Dn=-(fn.vmetric?Fn[1]:Sn*.5)*Xt,hn=Fn[2]*Xt;Sn=Fn?-Fn[0]:Sn,bn=Dn/Lt,Pn=(an+hn)/Lt}else bn=an/Lt,Pn=0;if(wt.remeasure&&Sn>0){const Fn=Rt.measureText(Jt).width*1e3/Ct*Lt;if(Sn<Fn&&this.isFontSubpixelAAEnabled){const Dn=Sn/Fn;qt=!0,Rt.save(),Rt.scale(Dn,1),bn/=Dn}else Sn!==Fn&&(bn+=(Sn-Fn)/2e3*Ct/Lt)}if(this.contentVisible&&(fn.isInFont||wt.missingFile)){if(_t&&!vn)Rt.fillText(Jt,bn,Pn);else if(this.paintChar(Jt,bn,Pn,It),vn){const Fn=bn+Ct*vn.offset.x/Lt,Dn=Pn-Ct*vn.offset.y/Lt;this.paintChar(vn.fontChar,Fn,Dn,It)}}const En=ln?Sn*Xt-Ht*nn:Sn*Xt+Ht*nn;an+=En,qt&&Rt.restore()}ln?pt.y-=an:pt.x+=an*sn,Rt.restore(),this.compose()}showType3Text(nt){const pt=this.ctx,wt=this.current,Ct=wt.font,Rt=wt.fontSize,Lt=wt.fontDirection,Bt=Ct.vertical?1:-1,Kt=wt.charSpacing,nn=wt.wordSpacing,sn=wt.textHScale*Lt,cn=wt.fontMatrix||o.FONT_IDENTITY_MATRIX,ln=nt.length,dn=wt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Vt,Xt,_t,It;if(!(dn||Rt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,pt.save(),pt.transform(...wt.textMatrix),pt.translate(wt.x,wt.y),pt.scale(sn,Lt),Vt=0;Vt<ln;++Vt){if(Xt=nt[Vt],typeof Xt=="number"){It=Bt*Xt*Rt/1e3,this.ctx.translate(It,0),wt.x+=It*sn;continue}const Wt=(Xt.isSpace?nn:0)+Kt,Qt=Ct.charProcOperatorList[Xt.operatorListId];if(!Qt){(0,o.warn)(`Type3 character "${Xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xt,this.save(),pt.scale(Rt,Rt),pt.transform(...cn),this.executeOperatorList(Qt),this.restore()),_t=o.Util.applyTransform([Xt.width,0],cn)[0]*Rt+Wt,pt.translate(_t,0),wt.x+=_t*sn}pt.restore(),this.processingType3=null}}setCharWidth(nt,pt){}setCharWidthAndBounds(nt,pt,wt,Ct,Rt,Lt){this.ctx.rect(wt,Ct,Rt-wt,Lt-Ct),this.ctx.clip(),this.endPath()}getColorN_Pattern(nt){let pt;if(nt[0]==="TilingPattern"){const wt=nt[1],Ct=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),Rt={createCanvasGraphics:Lt=>new jt(Lt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};pt=new c.TilingPattern(nt,wt,this.ctx,Rt,Ct)}else pt=this._getPattern(nt[1],nt[2]);return pt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(nt,pt,wt){const Ct=o.Util.makeHexColor(nt,pt,wt);this.ctx.strokeStyle=Ct,this.current.strokeColor=Ct}setFillRGBColor(nt,pt,wt){const Ct=o.Util.makeHexColor(nt,pt,wt);this.ctx.fillStyle=Ct,this.current.fillColor=Ct,this.current.patternFill=!1}_getPattern(nt,pt=null){let wt;return this.cachedPatterns.has(nt)?wt=this.cachedPatterns.get(nt):(wt=(0,c.getShadingPattern)(this.getObject(nt)),this.cachedPatterns.set(nt,wt)),pt&&(wt.matrix=pt),wt}shadingFill(nt){if(!this.contentVisible)return;const pt=this.ctx;this.save();const wt=this._getPattern(nt);pt.fillStyle=wt.getPattern(pt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.SHADING);const Ct=(0,a.getCurrentTransformInverse)(pt);if(Ct){const{width:Rt,height:Lt}=pt.canvas,[Bt,Kt,nn,sn]=o.Util.getAxialAlignedBoundingBox([0,0,Rt,Lt],Ct);this.ctx.fillRect(Bt,Kt,nn-Bt,sn-Kt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(nt,pt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(nt)&&nt.length===6&&this.transform(...nt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),pt)){const wt=pt[2]-pt[0],Ct=pt[3]-pt[1];this.ctx.rect(pt[0],pt[1],wt,Ct),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),pt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(nt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const pt=this.ctx;nt.isolated||(0,o.info)("TODO: Support non-isolated groups."),nt.knockout&&(0,o.warn)("Knockout groups not supported.");const wt=(0,a.getCurrentTransform)(pt);if(nt.matrix&&pt.transform(...nt.matrix),!nt.bbox)throw new Error("Bounding box is required.");let Ct=o.Util.getAxialAlignedBoundingBox(nt.bbox,(0,a.getCurrentTransform)(pt));const Rt=[0,0,pt.canvas.width,pt.canvas.height];Ct=o.Util.intersect(Ct,Rt)||[0,0,0,0];const Lt=Math.floor(Ct[0]),Bt=Math.floor(Ct[1]);let Kt=Math.max(Math.ceil(Ct[2])-Lt,1),nn=Math.max(Math.ceil(Ct[3])-Bt,1),sn=1,cn=1;Kt>j&&(sn=Kt/j,Kt=j),nn>j&&(cn=nn/j,nn=j),this.current.startNewPathAndClipBox([0,0,Kt,nn]);let ln="groupAt"+this.groupLevel;nt.smask&&(ln+="_smask_"+this.smaskCounter++%2);const dn=this.cachedCanvases.getCanvas(ln,Kt,nn),Vt=dn.context;Vt.scale(1/sn,1/cn),Vt.translate(-Lt,-Bt),Vt.transform(...wt),nt.smask?this.smaskStack.push({canvas:dn.canvas,context:Vt,offsetX:Lt,offsetY:Bt,scaleX:sn,scaleY:cn,subtype:nt.smask.subtype,backdrop:nt.smask.backdrop,transferMap:nt.smask.transferMap||null,startTransformInverse:null}):(pt.setTransform(1,0,0,1,0,0),pt.translate(Lt,Bt),pt.scale(sn,cn),pt.save()),ut(pt,Vt),this.ctx=Vt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(pt),this.groupLevel++}endGroup(nt){if(!this.contentVisible)return;this.groupLevel--;const pt=this.ctx,wt=this.groupStack.pop();if(this.ctx=wt,this.ctx.imageSmoothingEnabled=!1,nt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ct=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ct);const Rt=o.Util.getAxialAlignedBoundingBox([0,0,pt.canvas.width,pt.canvas.height],Ct);this.ctx.drawImage(pt.canvas,0,0),this.ctx.restore(),this.compose(Rt)}}beginAnnotation(nt,pt,wt,Ct,Rt){if(Gt(this,Nt,jr).call(this),lt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(pt)&&pt.length===4){const Lt=pt[2]-pt[0],Bt=pt[3]-pt[1];if(Rt&&this.annotationCanvasMap){wt=wt.slice(),wt[4]-=pt[0],wt[5]-=pt[1],pt=pt.slice(),pt[0]=pt[1]=0,pt[2]=Lt,pt[3]=Bt;const[Kt,nn]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:sn}=this,cn=Math.ceil(Lt*this.outputScaleX*sn),ln=Math.ceil(Bt*this.outputScaleY*sn);this.annotationCanvas=this.canvasFactory.create(cn,ln);const{canvas:dn,context:Vt}=this.annotationCanvas;this.annotationCanvasMap.set(nt,dn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Vt,this.ctx.save(),this.ctx.setTransform(Kt,0,0,-nn,0,Bt*nn),lt(this.ctx)}else lt(this.ctx),this.ctx.rect(pt[0],pt[1],Lt,Bt),this.ctx.clip(),this.endPath()}this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...wt),this.transform(...Ct)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Gt(this,Nt,$r).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(nt){if(!this.contentVisible)return;const pt=nt.count;nt=this.getObject(nt.data,nt),nt.count=pt;const wt=this.ctx,Ct=this.processingType3;if(Ct&&(Ct.compiled===void 0&&(Ct.compiled=rt(nt)),Ct.compiled)){Ct.compiled(wt);return}const Rt=this._createMaskCanvas(nt),Lt=Rt.canvas;wt.save(),wt.setTransform(1,0,0,1,0,0),wt.drawImage(Lt,Rt.offsetX,Rt.offsetY),wt.restore(),this.compose()}paintImageMaskXObjectRepeat(nt,pt,wt=0,Ct=0,Rt,Lt){if(!this.contentVisible)return;nt=this.getObject(nt.data,nt);const Bt=this.ctx;Bt.save();const Kt=(0,a.getCurrentTransform)(Bt);Bt.transform(pt,wt,Ct,Rt,0,0);const nn=this._createMaskCanvas(nt);Bt.setTransform(1,0,0,1,nn.offsetX-Kt[4],nn.offsetY-Kt[5]);for(let sn=0,cn=Lt.length;sn<cn;sn+=2){const ln=o.Util.transform(Kt,[pt,wt,Ct,Rt,Lt[sn],Lt[sn+1]]),[dn,Vt]=o.Util.applyTransform([0,0],ln);Bt.drawImage(nn.canvas,dn,Vt)}Bt.restore(),this.compose()}paintImageMaskXObjectGroup(nt){if(!this.contentVisible)return;const pt=this.ctx,wt=this.current.fillColor,Ct=this.current.patternFill;for(const Rt of nt){const{data:Lt,width:Bt,height:Kt,transform:nn}=Rt,sn=this.cachedCanvases.getCanvas("maskCanvas",Bt,Kt),cn=sn.context;cn.save();const ln=this.getObject(Lt,Rt);mt(cn,ln),cn.globalCompositeOperation="source-in",cn.fillStyle=Ct?wt.getPattern(cn,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.FILL):wt,cn.fillRect(0,0,Bt,Kt),cn.restore(),pt.save(),pt.transform(...nn),pt.scale(1,-1),yt(pt,sn.canvas,0,0,Bt,Kt,0,-1,1,1),pt.restore()}this.compose()}paintImageXObject(nt){if(!this.contentVisible)return;const pt=this.getObject(nt);if(!pt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(pt)}paintImageXObjectRepeat(nt,pt,wt,Ct){if(!this.contentVisible)return;const Rt=this.getObject(nt);if(!Rt){(0,o.warn)("Dependent image isn't ready yet");return}const Lt=Rt.width,Bt=Rt.height,Kt=[];for(let nn=0,sn=Ct.length;nn<sn;nn+=2)Kt.push({transform:[pt,0,0,wt,Ct[nn],Ct[nn+1]],x:0,y:0,w:Lt,h:Bt});this.paintInlineImageXObjectGroup(Rt,Kt)}applyTransferMapsToCanvas(nt){return this.current.transferMaps!=="none"&&(nt.filter=this.current.transferMaps,nt.drawImage(nt.canvas,0,0),nt.filter="none"),nt.canvas}applyTransferMapsToBitmap(nt){if(this.current.transferMaps==="none")return nt.bitmap;const{bitmap:pt,width:wt,height:Ct}=nt,Rt=this.cachedCanvases.getCanvas("inlineImage",wt,Ct),Lt=Rt.context;return Lt.filter=this.current.transferMaps,Lt.drawImage(pt,0,0),Lt.filter="none",Rt.canvas}paintInlineImageXObject(nt){if(!this.contentVisible)return;const pt=nt.width,wt=nt.height,Ct=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Bt}=Ct;Bt!=="none"&&Bt!==""&&(Ct.filter="none")}Ct.scale(1/pt,-1/wt);let Rt;if(nt.bitmap)Rt=this.applyTransferMapsToBitmap(nt);else if(typeof HTMLElement=="function"&&nt instanceof HTMLElement||!nt.data)Rt=nt;else{const Kt=this.cachedCanvases.getCanvas("inlineImage",pt,wt).context;dt(Kt,nt),Rt=this.applyTransferMapsToCanvas(Kt)}const Lt=this._scaleImage(Rt,(0,a.getCurrentTransformInverse)(Ct));Ct.imageSmoothingEnabled=St((0,a.getCurrentTransform)(Ct),nt.interpolate),yt(Ct,Lt.img,0,0,Lt.paintWidth,Lt.paintHeight,0,-wt,pt,wt),this.compose(),this.restore()}paintInlineImageXObjectGroup(nt,pt){if(!this.contentVisible)return;const wt=this.ctx;let Ct;if(nt.bitmap)Ct=nt.bitmap;else{const Rt=nt.width,Lt=nt.height,Kt=this.cachedCanvases.getCanvas("inlineImage",Rt,Lt).context;dt(Kt,nt),Ct=this.applyTransferMapsToCanvas(Kt)}for(const Rt of pt)wt.save(),wt.transform(...Rt.transform),wt.scale(1,-1),yt(wt,Ct,Rt.x,Rt.y,Rt.w,Rt.h,0,-1,1,1),wt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(nt){}markPointProps(nt,pt){}beginMarkedContent(nt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(nt,pt){nt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(pt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(nt){const pt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(nt);const wt=this.ctx;this.pendingClip&&(pt||(this.pendingClip===$t?wt.clip("evenodd"):wt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),wt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const nt=(0,a.getCurrentTransform)(this.ctx);if(nt[1]===0&&nt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(nt[0]),Math.abs(nt[3]));else{const pt=Math.abs(nt[0]*nt[3]-nt[2]*nt[1]),wt=Math.hypot(nt[0],nt[2]),Ct=Math.hypot(nt[1],nt[3]);this._cachedGetSinglePixelWidth=Math.max(wt,Ct)/pt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:nt}=this.current,{a:pt,b:wt,c:Ct,d:Rt}=this.ctx.getTransform();let Lt,Bt;if(wt===0&&Ct===0){const Kt=Math.abs(pt),nn=Math.abs(Rt);if(Kt===nn)if(nt===0)Lt=Bt=1/Kt;else{const sn=Kt*nt;Lt=Bt=sn<1?1/sn:1}else if(nt===0)Lt=1/Kt,Bt=1/nn;else{const sn=Kt*nt,cn=nn*nt;Lt=sn<1?1/sn:1,Bt=cn<1?1/cn:1}}else{const Kt=Math.abs(pt*Rt-wt*Ct),nn=Math.hypot(pt,wt),sn=Math.hypot(Ct,Rt);if(nt===0)Lt=sn/Kt,Bt=nn/Kt;else{const cn=nt*Kt;Lt=sn>cn?sn/cn:1,Bt=nn>cn?nn/cn:1}}this._cachedScaleForStroking[0]=Lt,this._cachedScaleForStroking[1]=Bt}return this._cachedScaleForStroking}rescaleAndStroke(nt){const{ctx:pt}=this,{lineWidth:wt}=this.current,[Ct,Rt]=this.getScaleForStroking();if(pt.lineWidth=wt||1,Ct===1&&Rt===1){pt.stroke();return}const Lt=pt.getLineDash();if(nt&&pt.save(),pt.scale(Ct,Rt),Lt.length>0){const Bt=Math.max(Ct,Rt);pt.setLineDash(Lt.map(Kt=>Kt/Bt)),pt.lineDashOffset/=Bt}pt.stroke(),nt&&pt.restore()}isContentVisible(){for(let nt=this.markedContentStack.length-1;nt>=0;nt--)if(!this.markedContentStack[nt].visible)return!1;return!0}};Nt=new WeakSet,jr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$r=function(){if(this.pageColors){const nt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(nt!=="none"){const pt=this.ctx.filter;this.ctx.filter=nt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=pt}}};let Dt=jt;i.CanvasGraphics=Dt;for(const xt in o.OPS)Dt.prototype[xt]!==void 0&&(Dt.prototype[o.OPS[xt]]=Dt.prototype[xt])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=tt;var o=s(1),a=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=c;function d(rt,it){if(!it)return;const dt=it[2]-it[0],mt=it[3]-it[1],ut=new Path2D;ut.rect(it[0],it[1],dt,mt),rt.clip(ut)}class b{constructor(){this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class g extends b{constructor(it){super(),this._type=it[1],this._bbox=it[2],this._colorStops=it[3],this._p0=it[4],this._p1=it[5],this._r0=it[6],this._r1=it[7],this.matrix=null}_createGradient(it){let dt;this._type==="axial"?dt=it.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(dt=it.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const mt of this._colorStops)dt.addColorStop(mt[0],mt[1]);return dt}getPattern(it,dt,mt,ut){let lt;if(ut===c.STROKE||ut===c.FILL){const ct=dt.current.getClippedPathBoundingBox(ut,(0,a.getCurrentTransform)(it))||[0,0,0,0],gt=Math.ceil(ct[2]-ct[0])||1,bt=Math.ceil(ct[3]-ct[1])||1,kt=dt.cachedCanvases.getCanvas("pattern",gt,bt,!0),ht=kt.context;ht.clearRect(0,0,ht.canvas.width,ht.canvas.height),ht.beginPath(),ht.rect(0,0,ht.canvas.width,ht.canvas.height),ht.translate(-ct[0],-ct[1]),mt=o.Util.transform(mt,[1,0,0,1,ct[0],ct[1]]),ht.transform(...dt.baseTransform),this.matrix&&ht.transform(...this.matrix),d(ht,this._bbox),ht.fillStyle=this._createGradient(ht),ht.fill(),lt=it.createPattern(kt.canvas,"no-repeat");const St=new DOMMatrix(mt);lt.setTransform(St)}else d(it,this._bbox),lt=this._createGradient(it);return lt}}function j(rt,it,dt,mt,ut,lt,ct,gt){const bt=it.coords,kt=it.colors,ht=rt.data,St=rt.width*4;let At;bt[dt+1]>bt[mt+1]&&(At=dt,dt=mt,mt=At,At=lt,lt=ct,ct=At),bt[mt+1]>bt[ut+1]&&(At=mt,mt=ut,ut=At,At=ct,ct=gt,gt=At),bt[dt+1]>bt[mt+1]&&(At=dt,dt=mt,mt=At,At=lt,lt=ct,ct=At);const zt=(bt[dt]+it.offsetX)*it.scaleX,Pt=(bt[dt+1]+it.offsetY)*it.scaleY,$t=(bt[mt]+it.offsetX)*it.scaleX,Dt=(bt[mt+1]+it.offsetY)*it.scaleY,Nt=(bt[ut]+it.offsetX)*it.scaleX,Et=(bt[ut+1]+it.offsetY)*it.scaleY;if(Pt>=Et)return;const vt=kt[lt],jt=kt[lt+1],xt=kt[lt+2],nt=kt[ct],pt=kt[ct+1],wt=kt[ct+2],Ct=kt[gt],Rt=kt[gt+1],Lt=kt[gt+2],Bt=Math.round(Pt),Kt=Math.round(Et);let nn,sn,cn,ln,dn,Vt,Xt,_t;for(let It=Bt;It<=Kt;It++){if(It<Dt){const fn=It<Pt?0:(Pt-It)/(Pt-Dt);nn=zt-(zt-$t)*fn,sn=vt-(vt-nt)*fn,cn=jt-(jt-pt)*fn,ln=xt-(xt-wt)*fn}else{let fn;It>Et?fn=1:Dt===Et?fn=0:fn=(Dt-It)/(Dt-Et),nn=$t-($t-Nt)*fn,sn=nt-(nt-Ct)*fn,cn=pt-(pt-Rt)*fn,ln=wt-(wt-Lt)*fn}let Wt;It<Pt?Wt=0:It>Et?Wt=1:Wt=(Pt-It)/(Pt-Et),dn=zt-(zt-Nt)*Wt,Vt=vt-(vt-Ct)*Wt,Xt=jt-(jt-Rt)*Wt,_t=xt-(xt-Lt)*Wt;const Qt=Math.round(Math.min(nn,dn)),an=Math.round(Math.max(nn,dn));let gn=St*It+Qt*4;for(let fn=Qt;fn<=an;fn++)Wt=(nn-fn)/(nn-dn),Wt<0?Wt=0:Wt>1&&(Wt=1),ht[gn++]=sn-(sn-Vt)*Wt|0,ht[gn++]=cn-(cn-Xt)*Wt|0,ht[gn++]=ln-(ln-_t)*Wt|0,ht[gn++]=255}}function _e(rt,it,dt){const mt=it.coords,ut=it.colors;let lt,ct;switch(it.type){case"lattice":const gt=it.verticesPerRow,bt=Math.floor(mt.length/gt)-1,kt=gt-1;for(lt=0;lt<bt;lt++){let ht=lt*gt;for(let St=0;St<kt;St++,ht++)j(rt,dt,mt[ht],mt[ht+1],mt[ht+gt],ut[ht],ut[ht+1],ut[ht+gt]),j(rt,dt,mt[ht+gt+1],mt[ht+1],mt[ht+gt],ut[ht+gt+1],ut[ht+1],ut[ht+gt])}break;case"triangles":for(lt=0,ct=mt.length;lt<ct;lt+=3)j(rt,dt,mt[lt],mt[lt+1],mt[lt+2],ut[lt],ut[lt+1],ut[lt+2]);break;default:throw new Error("illegal figure")}}class et extends b{constructor(it){super(),this._coords=it[2],this._colors=it[3],this._figures=it[4],this._bounds=it[5],this._bbox=it[7],this._background=it[8],this.matrix=null}_createMeshCanvas(it,dt,mt){const gt=Math.floor(this._bounds[0]),bt=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-gt,ht=Math.ceil(this._bounds[3])-bt,St=Math.min(Math.ceil(Math.abs(kt*it[0]*1.1)),3e3),At=Math.min(Math.ceil(Math.abs(ht*it[1]*1.1)),3e3),zt=kt/St,Pt=ht/At,$t={coords:this._coords,colors:this._colors,offsetX:-gt,offsetY:-bt,scaleX:1/zt,scaleY:1/Pt},Dt=St+2*2,Nt=At+2*2,Et=mt.getCanvas("mesh",Dt,Nt,!1),vt=Et.context,jt=vt.createImageData(St,At);if(dt){const nt=jt.data;for(let pt=0,wt=nt.length;pt<wt;pt+=4)nt[pt]=dt[0],nt[pt+1]=dt[1],nt[pt+2]=dt[2],nt[pt+3]=255}for(const nt of this._figures)_e(jt,nt,$t);return vt.putImageData(jt,2,2),{canvas:Et.canvas,offsetX:gt-2*zt,offsetY:bt-2*Pt,scaleX:zt,scaleY:Pt}}getPattern(it,dt,mt,ut){d(it,this._bbox);let lt;if(ut===c.SHADING)lt=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(it));else if(lt=o.Util.singularValueDecompose2dScale(dt.baseTransform),this.matrix){const gt=o.Util.singularValueDecompose2dScale(this.matrix);lt=[lt[0]*gt[0],lt[1]*gt[1]]}const ct=this._createMeshCanvas(lt,ut===c.SHADING?null:this._background,dt.cachedCanvases);return ut!==c.SHADING&&(it.setTransform(...dt.baseTransform),this.matrix&&it.transform(...this.matrix)),it.translate(ct.offsetX,ct.offsetY),it.scale(ct.scaleX,ct.scaleY),it.createPattern(ct.canvas,"no-repeat")}}class st extends b{getPattern(){return"hotpink"}}function tt(rt){switch(rt[0]){case"RadialAxial":return new g(rt);case"Mesh":return new et(rt);case"Dummy":return new st}throw new Error(`Unknown IR type: ${rt[0]}`)}const ot={COLORED:1,UNCOLORED:2},yt=class yt{constructor(it,dt,mt,ut,lt){this.operatorList=it[2],this.matrix=it[3]||[1,0,0,1,0,0],this.bbox=it[4],this.xstep=it[5],this.ystep=it[6],this.paintType=it[7],this.tilingType=it[8],this.color=dt,this.ctx=mt,this.canvasGraphicsFactory=ut,this.baseTransform=lt}createPatternCanvas(it){const dt=this.operatorList,mt=this.bbox,ut=this.xstep,lt=this.ystep,ct=this.paintType,gt=this.tilingType,bt=this.color,kt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+gt);const ht=mt[0],St=mt[1],At=mt[2],zt=mt[3],Pt=o.Util.singularValueDecompose2dScale(this.matrix),$t=o.Util.singularValueDecompose2dScale(this.baseTransform),Dt=[Pt[0]*$t[0],Pt[1]*$t[1]],Nt=this.getSizeAndScale(ut,this.ctx.canvas.width,Dt[0]),Et=this.getSizeAndScale(lt,this.ctx.canvas.height,Dt[1]),vt=it.cachedCanvases.getCanvas("pattern",Nt.size,Et.size,!0),jt=vt.context,xt=kt.createCanvasGraphics(jt);xt.groupLevel=it.groupLevel,this.setFillAndStrokeStyleToContext(xt,ct,bt);let nt=ht,pt=St,wt=At,Ct=zt;return ht<0&&(nt=0,wt+=Math.abs(ht)),St<0&&(pt=0,Ct+=Math.abs(St)),jt.translate(-(Nt.scale*nt),-(Et.scale*pt)),xt.transform(Nt.scale,0,0,Et.scale,0,0),jt.save(),this.clipBbox(xt,nt,pt,wt,Ct),xt.baseTransform=(0,a.getCurrentTransform)(xt.ctx),xt.executeOperatorList(dt),xt.endDrawing(),{canvas:vt.canvas,scaleX:Nt.scale,scaleY:Et.scale,offsetX:nt,offsetY:pt}}getSizeAndScale(it,dt,mt){it=Math.abs(it);const ut=Math.max(yt.MAX_PATTERN_SIZE,dt);let lt=Math.ceil(it*mt);return lt>=ut?lt=ut:mt=lt/it,{scale:mt,size:lt}}clipBbox(it,dt,mt,ut,lt){const ct=ut-dt,gt=lt-mt;it.ctx.rect(dt,mt,ct,gt),it.current.updateRectMinMax((0,a.getCurrentTransform)(it.ctx),[dt,mt,ut,lt]),it.clip(),it.endPath()}setFillAndStrokeStyleToContext(it,dt,mt){const ut=it.ctx,lt=it.current;switch(dt){case ot.COLORED:const ct=this.ctx;ut.fillStyle=ct.fillStyle,ut.strokeStyle=ct.strokeStyle,lt.fillColor=ct.fillStyle,lt.strokeColor=ct.strokeStyle;break;case ot.UNCOLORED:const gt=o.Util.makeHexColor(mt[0],mt[1],mt[2]);ut.fillStyle=gt,ut.strokeStyle=gt,lt.fillColor=gt,lt.strokeColor=gt;break;default:throw new o.FormatError(`Unsupported paint type: ${dt}`)}}getPattern(it,dt,mt,ut){let lt=mt;ut!==c.SHADING&&(lt=o.Util.transform(lt,dt.baseTransform),this.matrix&&(lt=o.Util.transform(lt,this.matrix)));const ct=this.createPatternCanvas(dt);let gt=new DOMMatrix(lt);gt=gt.translate(ct.offsetX,ct.offsetY),gt=gt.scale(1/ct.scaleX,1/ct.scaleY);const bt=it.createPattern(ct.canvas,"repeat");return bt.setTransform(gt),bt}};Bn(yt,"MAX_PATTERN_SIZE",3e3);let ft=yt;i.TilingPattern=ft},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=c,i.convertToRGBA=a,i.grayToRGBA=b;var o=s(1);function a(g){switch(g.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(g);case o.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:j=0,dest:_e,width:et,height:st,nonBlackColor:tt=4294967295,inverseDecode:ot=!1}){const ft=o.FeatureTest.isLittleEndian?4278190080:255,[yt,rt]=ot?[tt,ft]:[ft,tt],it=et>>3,dt=et&7,mt=g.length;_e=new Uint32Array(_e.buffer);let ut=0;for(let lt=0;lt<st;lt++){for(const gt=j+it;j<gt;j++){const bt=j<mt?g[j]:255;_e[ut++]=bt&128?rt:yt,_e[ut++]=bt&64?rt:yt,_e[ut++]=bt&32?rt:yt,_e[ut++]=bt&16?rt:yt,_e[ut++]=bt&8?rt:yt,_e[ut++]=bt&4?rt:yt,_e[ut++]=bt&2?rt:yt,_e[ut++]=bt&1?rt:yt}if(dt===0)continue;const ct=j<mt?g[j++]:255;for(let gt=0;gt<dt;gt++)_e[ut++]=ct&1<<7-gt?rt:yt}return{srcPos:j,destPos:ut}}function d({src:g,srcPos:j=0,dest:_e,destPos:et=0,width:st,height:tt}){let ot=0;const ft=g.length>>2,yt=new Uint32Array(g.buffer,j,ft);if(o.FeatureTest.isLittleEndian){for(;ot<ft-2;ot+=3,et+=4){const rt=yt[ot],it=yt[ot+1],dt=yt[ot+2];_e[et]=rt|4278190080,_e[et+1]=rt>>>24|it<<8|4278190080,_e[et+2]=it>>>16|dt<<16|4278190080,_e[et+3]=dt>>>8|4278190080}for(let rt=ot*4,it=g.length;rt<it;rt+=3)_e[et++]=g[rt]|g[rt+1]<<8|g[rt+2]<<16|4278190080}else{for(;ot<ft-2;ot+=3,et+=4){const rt=yt[ot],it=yt[ot+1],dt=yt[ot+2];_e[et]=rt|255,_e[et+1]=rt<<24|it>>>8|255,_e[et+2]=it<<16|dt>>>16|255,_e[et+3]=dt<<8|255}for(let rt=ot*4,it=g.length;rt<it;rt+=3)_e[et++]=g[rt]<<24|g[rt+1]<<16|g[rt+2]<<8|255}return{srcPos:j,destPos:et}}function b(g,j){if(o.FeatureTest.isLittleEndian)for(let _e=0,et=g.length;_e<et;_e++)j[_e]=g[_e]*65793|4278190080;else for(let _e=0,et=g.length;_e<et;_e++)j[_e]=g[_e]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var g,ps,gs,pr;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(st){switch(st instanceof Error||typeof st=="object"&&st!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),st.name){case"AbortException":return new o.AbortException(st.message);case"MissingPDFException":return new o.MissingPDFException(st.message);case"PasswordException":return new o.PasswordException(st.message,st.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(st.message,st.status);case"UnknownErrorException":return new o.UnknownErrorException(st.message,st.details);default:return new o.UnknownErrorException(st.message,st.toString())}}class b{constructor(tt,ot,ft){en(this,g);this.sourceName=tt,this.targetName=ot,this.comObj=ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=yt=>{const rt=yt.data;if(rt.targetName!==this.sourceName)return;if(rt.stream){Gt(this,g,gs).call(this,rt);return}if(rt.callback){const dt=rt.callbackId,mt=this.callbackCapabilities[dt];if(!mt)throw new Error(`Cannot resolve callback ${dt}`);if(delete this.callbackCapabilities[dt],rt.callback===a.DATA)mt.resolve(rt.data);else if(rt.callback===a.ERROR)mt.reject(d(rt.reason));else throw new Error("Unexpected callback case");return}const it=this.actionHandler[rt.action];if(!it)throw new Error(`Unknown action from worker: ${rt.action}`);if(rt.callbackId){const dt=this.sourceName,mt=rt.sourceName;new Promise(function(ut){ut(it(rt.data))}).then(function(ut){ft.postMessage({sourceName:dt,targetName:mt,callback:a.DATA,callbackId:rt.callbackId,data:ut})},function(ut){ft.postMessage({sourceName:dt,targetName:mt,callback:a.ERROR,callbackId:rt.callbackId,reason:d(ut)})});return}if(rt.streamId){Gt(this,g,ps).call(this,rt);return}it(rt.data)},ft.addEventListener("message",this._onComObjOnMessage)}on(tt,ot){const ft=this.actionHandler;if(ft[tt])throw new Error(`There is already an actionName called "${tt}"`);ft[tt]=ot}send(tt,ot,ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,data:ot},ft)}sendWithPromise(tt,ot,ft){const yt=this.callbackId++,rt=new o.PromiseCapability;this.callbackCapabilities[yt]=rt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,callbackId:yt,data:ot},ft)}catch(it){rt.reject(it)}return rt.promise}sendWithStream(tt,ot,ft,yt){const rt=this.streamId++,it=this.sourceName,dt=this.targetName,mt=this.comObj;return new ReadableStream({start:ut=>{const lt=new o.PromiseCapability;return this.streamControllers[rt]={controller:ut,startCall:lt,pullCall:null,cancelCall:null,isClosed:!1},mt.postMessage({sourceName:it,targetName:dt,action:tt,streamId:rt,data:ot,desiredSize:ut.desiredSize},yt),lt.promise},pull:ut=>{const lt=new o.PromiseCapability;return this.streamControllers[rt].pullCall=lt,mt.postMessage({sourceName:it,targetName:dt,stream:c.PULL,streamId:rt,desiredSize:ut.desiredSize}),lt.promise},cancel:ut=>{(0,o.assert)(ut instanceof Error,"cancel must have a valid reason");const lt=new o.PromiseCapability;return this.streamControllers[rt].cancelCall=lt,this.streamControllers[rt].isClosed=!0,mt.postMessage({sourceName:it,targetName:dt,stream:c.CANCEL,streamId:rt,reason:d(ut)}),lt.promise}},ft)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,ps=function(tt){const ot=tt.streamId,ft=this.sourceName,yt=tt.sourceName,rt=this.comObj,it=this,dt=this.actionHandler[tt.action],mt={enqueue(ut,lt=1,ct){if(this.isCancelled)return;const gt=this.desiredSize;this.desiredSize-=lt,gt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),rt.postMessage({sourceName:ft,targetName:yt,stream:c.ENQUEUE,streamId:ot,chunk:ut},ct)},close(){this.isCancelled||(this.isCancelled=!0,rt.postMessage({sourceName:ft,targetName:yt,stream:c.CLOSE,streamId:ot}),delete it.streamSinks[ot])},error(ut){(0,o.assert)(ut instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,rt.postMessage({sourceName:ft,targetName:yt,stream:c.ERROR,streamId:ot,reason:d(ut)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:tt.desiredSize,ready:null};mt.sinkCapability.resolve(),mt.ready=mt.sinkCapability.promise,this.streamSinks[ot]=mt,new Promise(function(ut){ut(dt(tt.data,mt))}).then(function(){rt.postMessage({sourceName:ft,targetName:yt,stream:c.START_COMPLETE,streamId:ot,success:!0})},function(ut){rt.postMessage({sourceName:ft,targetName:yt,stream:c.START_COMPLETE,streamId:ot,reason:d(ut)})})},gs=function(tt){const ot=tt.streamId,ft=this.sourceName,yt=tt.sourceName,rt=this.comObj,it=this.streamControllers[ot],dt=this.streamSinks[ot];switch(tt.stream){case c.START_COMPLETE:tt.success?it.startCall.resolve():it.startCall.reject(d(tt.reason));break;case c.PULL_COMPLETE:tt.success?it.pullCall.resolve():it.pullCall.reject(d(tt.reason));break;case c.PULL:if(!dt){rt.postMessage({sourceName:ft,targetName:yt,stream:c.PULL_COMPLETE,streamId:ot,success:!0});break}dt.desiredSize<=0&&tt.desiredSize>0&&dt.sinkCapability.resolve(),dt.desiredSize=tt.desiredSize,new Promise(function(mt){var ut;mt((ut=dt.onPull)==null?void 0:ut.call(dt))}).then(function(){rt.postMessage({sourceName:ft,targetName:yt,stream:c.PULL_COMPLETE,streamId:ot,success:!0})},function(mt){rt.postMessage({sourceName:ft,targetName:yt,stream:c.PULL_COMPLETE,streamId:ot,reason:d(mt)})});break;case c.ENQUEUE:if((0,o.assert)(it,"enqueue should have stream controller"),it.isClosed)break;it.controller.enqueue(tt.chunk);break;case c.CLOSE:if((0,o.assert)(it,"close should have stream controller"),it.isClosed)break;it.isClosed=!0,it.controller.close(),Gt(this,g,pr).call(this,it,ot);break;case c.ERROR:(0,o.assert)(it,"error should have stream controller"),it.controller.error(d(tt.reason)),Gt(this,g,pr).call(this,it,ot);break;case c.CANCEL_COMPLETE:tt.success?it.cancelCall.resolve():it.cancelCall.reject(d(tt.reason)),Gt(this,g,pr).call(this,it,ot);break;case c.CANCEL:if(!dt)break;new Promise(function(mt){var ut;mt((ut=dt.onCancel)==null?void 0:ut.call(dt,d(tt.reason)))}).then(function(){rt.postMessage({sourceName:ft,targetName:yt,stream:c.CANCEL_COMPLETE,streamId:ot,success:!0})},function(mt){rt.postMessage({sourceName:ft,targetName:yt,stream:c.CANCEL_COMPLETE,streamId:ot,reason:d(mt)})}),dt.sinkCapability.reject(d(tt.reason)),dt.isCancelled=!0,delete this.streamSinks[ot];break;default:throw new Error("Unexpected stream case")}},pr=async function(tt,ot){var ft,yt,rt;await Promise.allSettled([(ft=tt.startCall)==null?void 0:ft.promise,(yt=tt.pullCall)==null?void 0:yt.promise,(rt=tt.cancelCall)==null?void 0:rt.promise]),delete this.streamControllers[ot]},i.MessageHandler=b},(e,i,s)=>{var c,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class a{constructor({parsedData:g,rawData:j}){en(this,c);en(this,d);tn(this,c,g),tn(this,d,j)}getRaw(){return at(this,d)}get(g){return at(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(at(this,c))}has(g){return at(this,c).has(g)}}c=new WeakMap,d=new WeakMap,i.Metadata=a},(e,i,s)=>{var g,j,_e,et,st,tt,zr;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),a=s(8);const c=Symbol("INTERNAL");class d{constructor(yt,rt){en(this,g,!0);this.name=yt,this.intent=rt}get visible(){return at(this,g)}_setVisible(yt,rt){yt!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),tn(this,g,rt)}}g=new WeakMap;class b{constructor(yt){en(this,tt);en(this,j,null);en(this,_e,new Map);en(this,et,null);en(this,st,null);if(this.name=null,this.creator=null,yt!==null){this.name=yt.name,this.creator=yt.creator,tn(this,st,yt.order);for(const rt of yt.groups)at(this,_e).set(rt.id,new d(rt.name,rt.intent));if(yt.baseState==="OFF")for(const rt of at(this,_e).values())rt._setVisible(c,!1);for(const rt of yt.on)at(this,_e).get(rt)._setVisible(c,!0);for(const rt of yt.off)at(this,_e).get(rt)._setVisible(c,!1);tn(this,et,this.getHash())}}isVisible(yt){if(at(this,_e).size===0)return!0;if(!yt)return(0,o.warn)("Optional content group not defined."),!0;if(yt.type==="OCG")return at(this,_e).has(yt.id)?at(this,_e).get(yt.id).visible:((0,o.warn)(`Optional content group not found: ${yt.id}`),!0);if(yt.type==="OCMD"){if(yt.expression)return Gt(this,tt,zr).call(this,yt.expression);if(!yt.policy||yt.policy==="AnyOn"){for(const rt of yt.ids){if(!at(this,_e).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(at(this,_e).get(rt).visible)return!0}return!1}else if(yt.policy==="AllOn"){for(const rt of yt.ids){if(!at(this,_e).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(!at(this,_e).get(rt).visible)return!1}return!0}else if(yt.policy==="AnyOff"){for(const rt of yt.ids){if(!at(this,_e).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(!at(this,_e).get(rt).visible)return!0}return!1}else if(yt.policy==="AllOff"){for(const rt of yt.ids){if(!at(this,_e).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(at(this,_e).get(rt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${yt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${yt.type}.`),!0}setVisibility(yt,rt=!0){if(!at(this,_e).has(yt)){(0,o.warn)(`Optional content group not found: ${yt}`);return}at(this,_e).get(yt)._setVisible(c,!!rt),tn(this,j,null)}get hasInitialVisibility(){return at(this,et)===null||this.getHash()===at(this,et)}getOrder(){return at(this,_e).size?at(this,st)?at(this,st).slice():[...at(this,_e).keys()]:null}getGroups(){return at(this,_e).size>0?(0,o.objectFromMap)(at(this,_e)):null}getGroup(yt){return at(this,_e).get(yt)||null}getHash(){if(at(this,j)!==null)return at(this,j);const yt=new a.MurmurHash3_64;for(const[rt,it]of at(this,_e))yt.update(`${rt}:${it.visible}`);return tn(this,j,yt.hexdigest())}}j=new WeakMap,_e=new WeakMap,et=new WeakMap,st=new WeakMap,tt=new WeakSet,zr=function(yt){const rt=yt.length;if(rt<2)return!0;const it=yt[0];for(let dt=1;dt<rt;dt++){const mt=yt[dt];let ut;if(Array.isArray(mt))ut=Gt(this,tt,zr).call(this,mt);else if(at(this,_e).has(mt))ut=at(this,_e).get(mt).visible;else return(0,o.warn)(`Optional content group not found: ${mt}`),!0;switch(it){case"And":if(!ut)return!1;break;case"Or":if(ut)return!0;break;case"Not":return!ut;default:return!0}}return it==="And"},i.OptionalContentConfig=b},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),a=s(6);class c{constructor({length:j,initialData:_e,progressiveDone:et=!1,contentDispositionFilename:st=null,disableRange:tt=!1,disableStream:ot=!1},ft){if((0,o.assert)(ft,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=et,this._contentDispositionFilename=st,(_e==null?void 0:_e.length)>0){const yt=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;this._queuedChunks.push(yt)}this._pdfDataRangeTransport=ft,this._isStreamingSupported=!ot,this._isRangeSupported=!tt,this._contentLength=j,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((yt,rt)=>{this._onReceiveData({begin:yt,chunk:rt})}),this._pdfDataRangeTransport.addProgressListener((yt,rt)=>{this._onProgress({loaded:yt,total:rt})}),this._pdfDataRangeTransport.addProgressiveReadListener(yt=>{this._onReceiveData({chunk:yt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:j,chunk:_e}){const et=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;if(j===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(et):this._queuedChunks.push(et);else{const st=this._rangeReaders.some(function(tt){return tt._begin!==j?!1:(tt._enqueue(et),!0)});(0,o.assert)(st,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}_onProgress(j){var _e,et,st,tt;j.total===void 0?(et=(_e=this._rangeReaders[0])==null?void 0:_e.onProgress)==null||et.call(_e,{loaded:j.loaded}):(tt=(st=this._fullRequestReader)==null?void 0:st.onProgress)==null||tt.call(st,{loaded:j.loaded,total:j.total})}_onProgressiveDone(){var j;(j=this._fullRequestReader)==null||j.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(j){const _e=this._rangeReaders.indexOf(j);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const j=this._queuedChunks;return this._queuedChunks=null,new d(this,j,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(j,_e){if(_e<=this._progressiveDataLength)return null;const et=new b(this,j,_e);return this._pdfDataRangeTransport.requestDataRange(j,_e),this._rangeReaders.push(et),et}cancelAllRequests(j){var _e;(_e=this._fullRequestReader)==null||_e.cancel(j);for(const et of this._rangeReaders.slice(0))et.cancel(j);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class d{constructor(j,_e,et=!1,st=null){this._stream=j,this._done=et||!1,this._filename=(0,a.isPdfFile)(st)?st:null,this._queuedChunks=_e||[],this._loaded=0;for(const tt of this._queuedChunks)this._loaded+=tt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),j._fullRequestReader=this,this.onProgress=null}_enqueue(j){this._done||(this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunks.push(j),this._loaded+=j.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const j=new o.PromiseCapability;return this._requests.push(j),j.promise}cancel(j){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor(j,_e,et){this._stream=j,this._begin=_e,this._end=et,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(j){if(!this._done){if(this._requests.length===0)this._queuedChunk=j;else{this._requests.shift().resolve({value:j,done:!1});for(const et of this._requests)et.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const j=new o.PromiseCapability;return this._requests.push(j),j.promise}cancel(j){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),a=s(20);function c(et,st,tt){return{method:"GET",headers:et,signal:tt.signal,mode:"cors",credentials:st?"include":"same-origin",redirect:"follow"}}function d(et){const st=new Headers;for(const tt in et){const ot=et[tt];ot!==void 0&&st.append(tt,ot)}return st}function b(et){return et instanceof Uint8Array?et.buffer:et instanceof ArrayBuffer?et:((0,o.warn)(`getArrayBuffer - unexpected data format: ${et}`),new Uint8Array(et).buffer)}class g{constructor(st){this.source=st,this.isHttp=/^https?:/i.test(st.url),this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j(this),this._fullRequestReader}getRangeReader(st,tt){if(tt<=this._progressiveDataLength)return null;const ot=new _e(this,st,tt);return this._rangeRequestReaders.push(ot),ot}cancelAllRequests(st){var tt;(tt=this._fullRequestReader)==null||tt.cancel(st);for(const ot of this._rangeRequestReaders.slice(0))ot.cancel(st)}}i.PDFFetchStream=g;class j{constructor(st){this._stream=st,this._reader=null,this._loaded=0,this._filename=null;const tt=st.source;this._withCredentials=tt.withCredentials||!1,this._contentLength=tt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._headers=d(this._stream.httpHeaders);const ot=tt.url;fetch(ot,c(this._headers,this._withCredentials,this._abortController)).then(ft=>{if(!(0,a.validateResponseStatus)(ft.status))throw(0,a.createResponseStatusError)(ft.status,ot);this._reader=ft.body.getReader(),this._headersCapability.resolve();const yt=dt=>ft.headers.get(dt),{allowRangeRequests:rt,suggestedLength:it}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:yt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=it||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(yt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._headersCapability.promise;const{value:st,done:tt}=await this._reader.read();return tt?{value:st,done:tt}:(this._loaded+=st.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:b(st),done:!1})}cancel(st){var tt;(tt=this._reader)==null||tt.cancel(st),this._abortController.abort()}}class _e{constructor(st,tt,ot){this._stream=st,this._reader=null,this._loaded=0;const ft=st.source;this._withCredentials=ft.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!ft.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${tt}-${ot-1}`);const yt=ft.url;fetch(yt,c(this._headers,this._withCredentials,this._abortController)).then(rt=>{if(!(0,a.validateResponseStatus)(rt.status))throw(0,a.createResponseStatusError)(rt.status,yt);this._readCapability.resolve(),this._reader=rt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._readCapability.promise;const{value:st,done:tt}=await this._reader.read();return tt?{value:st,done:tt}:(this._loaded+=st.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded}),{value:b(st),done:!1})}cancel(st){var tt;(tt=this._reader)==null||tt.cancel(st),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=g,i.extractFilenameFromHeader=b,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=j;var o=s(1),a=s(21),c=s(6);function d({getResponseHeader:_e,isHttp:et,rangeChunkSize:st,disableRange:tt}){const ot={allowRangeRequests:!1,suggestedLength:void 0},ft=parseInt(_e("Content-Length"),10);return!Number.isInteger(ft)||(ot.suggestedLength=ft,ft<=2*st)||tt||!et||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(ot.allowRangeRequests=!0),ot}function b(_e){const et=_e("Content-Disposition");if(et){let st=(0,a.getFilenameFromContentDispositionHeader)(et);if(st.includes("%"))try{st=decodeURIComponent(st)}catch{}if((0,c.isPdfFile)(st))return st}return null}function g(_e,et){return _e===404||_e===0&&et.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+et+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${et}".`,_e)}function j(_e){return _e===200||_e===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,b=g("filename\\*","i").exec(c);if(b){b=b[1];let ft=st(b);return ft=unescape(ft),ft=tt(ft),ft=ot(ft),_e(ft)}if(b=et(c),b){const ft=ot(b);return _e(ft)}if(b=g("filename","i").exec(c),b){b=b[1];let ft=st(b);return ft=ot(ft),_e(ft)}function g(ft,yt){return new RegExp("(?:^|;)\\s*"+ft+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',yt)}function j(ft,yt){if(ft){if(!/^[\x00-\xFF]+$/.test(yt))return yt;try{const rt=new TextDecoder(ft,{fatal:!0}),it=(0,o.stringToBytes)(yt);yt=rt.decode(it),d=!1}catch{}}return yt}function _e(ft){return d&&/[\x80-\xff]/.test(ft)&&(ft=j("utf-8",ft),d&&(ft=j("iso-8859-1",ft))),ft}function et(ft){const yt=[];let rt;const it=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(rt=it.exec(ft))!==null;){let[,mt,ut,lt]=rt;if(mt=parseInt(mt,10),mt in yt){if(mt===0)break;continue}yt[mt]=[ut,lt]}const dt=[];for(let mt=0;mt<yt.length&&mt in yt;++mt){let[ut,lt]=yt[mt];lt=st(lt),ut&&(lt=unescape(lt),mt===0&&(lt=tt(lt))),dt.push(lt)}return dt.join("")}function st(ft){if(ft.startsWith('"')){const yt=ft.slice(1).split('\\"');for(let rt=0;rt<yt.length;++rt){const it=yt[rt].indexOf('"');it!==-1&&(yt[rt]=yt[rt].slice(0,it),yt.length=rt+1),yt[rt]=yt[rt].replaceAll(/\\(.)/g,"$1")}ft=yt.join('"')}return ft}function tt(ft){const yt=ft.indexOf("'");if(yt===-1)return ft;const rt=ft.slice(0,yt),dt=ft.slice(yt+1).replace(/^[^']*'/,"");return j(rt,dt)}function ot(ft){return!ft.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ft)?ft:ft.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(yt,rt,it,dt){if(it==="q"||it==="Q")return dt=dt.replaceAll("_"," "),dt=dt.replaceAll(/=([0-9a-fA-F]{2})/g,function(mt,ut){return String.fromCharCode(parseInt(ut,16))}),j(rt,dt);try{dt=atob(dt)}catch{}return j(rt,dt)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),a=s(20);const c=200,d=206;function b(st){const tt=st.response;return typeof tt!="string"?tt:(0,o.stringToBytes)(tt).buffer}class g{constructor(tt,ot={}){this.url=tt,this.isHttp=/^https?:/i.test(tt),this.httpHeaders=this.isHttp&&ot.httpHeaders||Object.create(null),this.withCredentials=ot.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(tt,ot,ft){const yt={begin:tt,end:ot};for(const rt in ft)yt[rt]=ft[rt];return this.request(yt)}requestFull(tt){return this.request(tt)}request(tt){const ot=new XMLHttpRequest,ft=this.currXhrId++,yt=this.pendingRequests[ft]={xhr:ot};ot.open("GET",this.url),ot.withCredentials=this.withCredentials;for(const rt in this.httpHeaders){const it=this.httpHeaders[rt];it!==void 0&&ot.setRequestHeader(rt,it)}return this.isHttp&&"begin"in tt&&"end"in tt?(ot.setRequestHeader("Range",`bytes=${tt.begin}-${tt.end-1}`),yt.expectedStatus=d):yt.expectedStatus=c,ot.responseType="arraybuffer",tt.onError&&(ot.onerror=function(rt){tt.onError(ot.status)}),ot.onreadystatechange=this.onStateChange.bind(this,ft),ot.onprogress=this.onProgress.bind(this,ft),yt.onHeadersReceived=tt.onHeadersReceived,yt.onDone=tt.onDone,yt.onError=tt.onError,yt.onProgress=tt.onProgress,ot.send(null),ft}onProgress(tt,ot){var yt;const ft=this.pendingRequests[tt];ft&&((yt=ft.onProgress)==null||yt.call(ft,ot))}onStateChange(tt,ot){var mt,ut,lt;const ft=this.pendingRequests[tt];if(!ft)return;const yt=ft.xhr;if(yt.readyState>=2&&ft.onHeadersReceived&&(ft.onHeadersReceived(),delete ft.onHeadersReceived),yt.readyState!==4||!(tt in this.pendingRequests))return;if(delete this.pendingRequests[tt],yt.status===0&&this.isHttp){(mt=ft.onError)==null||mt.call(ft,yt.status);return}const rt=yt.status||c;if(!(rt===c&&ft.expectedStatus===d)&&rt!==ft.expectedStatus){(ut=ft.onError)==null||ut.call(ft,yt.status);return}const dt=b(yt);if(rt===d){const ct=yt.getResponseHeader("Content-Range"),gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(ct);ft.onDone({begin:parseInt(gt[1],10),chunk:dt})}else dt?ft.onDone({begin:0,chunk:dt}):(lt=ft.onError)==null||lt.call(ft,yt.status)}getRequestXhr(tt){return this.pendingRequests[tt].xhr}isPendingRequest(tt){return tt in this.pendingRequests}abortRequest(tt){const ot=this.pendingRequests[tt].xhr;delete this.pendingRequests[tt],ot.abort()}}class j{constructor(tt){this._source=tt,this._manager=new g(tt.url,{httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials}),this._rangeChunkSize=tt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(tt){const ot=this._rangeRequestReaders.indexOf(tt);ot>=0&&this._rangeRequestReaders.splice(ot,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this._manager,this._source),this._fullRequestReader}getRangeReader(tt,ot){const ft=new et(this._manager,tt,ot);return ft.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ft),ft}cancelAllRequests(tt){var ot;(ot=this._fullRequestReader)==null||ot.cancel(tt);for(const ft of this._rangeRequestReaders.slice(0))ft.cancel(tt)}}i.PDFNetworkStream=j;class _e{constructor(tt,ot){this._manager=tt;const ft={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._fullRequestId=tt.requestFull(ft),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=ot.disableRange||!1,this._contentLength=ot.length,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const tt=this._fullRequestId,ot=this._manager.getRequestXhr(tt),ft=it=>ot.getResponseHeader(it),{allowRangeRequests:yt,suggestedLength:rt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});yt&&(this._isRangeSupported=!0),this._contentLength=rt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ft),this._isRangeSupported&&this._manager.abortRequest(tt),this._headersReceivedCapability.resolve()}_onDone(tt){if(tt&&(this._requests.length>0?this._requests.shift().resolve({value:tt.chunk,done:!1}):this._cachedChunks.push(tt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(tt){this._storedError=(0,a.createResponseStatusError)(tt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(tt){var ot;(ot=this.onProgress)==null||ot.call(this,{loaded:tt.loaded,total:tt.lengthComputable?tt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0,this._headersReceivedCapability.reject(tt);for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class et{constructor(tt,ot,ft){this._manager=tt;const yt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._requestId=tt.requestRange(ot,ft,yt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var tt;(tt=this.onClosed)==null||tt.call(this,this)}_onDone(tt){const ot=tt.chunk;this._requests.length>0?this._requests.shift().resolve({value:ot,done:!1}):this._queuedChunk=ot,this._done=!0;for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(tt){this._storedError=(0,a.createResponseStatusError)(tt,this._url);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(tt){var ot;this.isStreamingSupported||(ot=this.onProgress)==null||ot.call(this,{loaded:tt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ot=this._queuedChunk;return this._queuedChunk=null,{value:ot,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),a=s(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(ft){const yt=require$$5,rt=yt.parse(ft);return rt.protocol==="file:"||rt.host?rt:/^[a-z]:[/\\]/i.test(ft)?yt.parse(`file:///${ft}`):(rt.host||(rt.protocol="file:"),rt)}class b{constructor(yt){this.source=yt,this.url=d(yt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&yt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var yt;return((yt=this._fullRequestReader)==null?void 0:yt._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new et(this),this._fullRequestReader}getRangeReader(yt,rt){if(rt<=this._progressiveDataLength)return null;const it=this.isFsUrl?new ot(this,yt,rt):new st(this,yt,rt);return this._rangeRequestReaders.push(it),it}cancelAllRequests(yt){var rt;(rt=this._fullRequestReader)==null||rt.cancel(yt);for(const it of this._rangeRequestReaders.slice(0))it.cancel(yt)}}i.PDFNodeStream=b;class g{constructor(yt){this._url=yt.url,this._done=!1,this._storedError=null,this.onProgress=null;const rt=yt.source;this._contentLength=rt.length,this._loaded=0,this._filename=null,this._disableRange=rt.disableRange||!1,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!rt.disableStream,this._isRangeSupported=!rt.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const yt=this._readableStream.read();return yt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=yt.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(yt).buffer,done:!1})}cancel(yt){if(!this._readableStream){this._error(yt);return}this._readableStream.destroy(yt)}_error(yt){this._storedError=yt,this._readCapability.resolve()}_setReadableStream(yt){this._readableStream=yt,yt.on("readable",()=>{this._readCapability.resolve()}),yt.on("end",()=>{yt.destroy(),this._done=!0,this._readCapability.resolve()}),yt.on("error",rt=>{this._error(rt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(yt){this._url=yt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const rt=yt.source;this._isStreamingSupported=!rt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const yt=this._readableStream.read();return yt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=yt.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded}),{value:new Uint8Array(yt).buffer,done:!1})}cancel(yt){if(!this._readableStream){this._error(yt);return}this._readableStream.destroy(yt)}_error(yt){this._storedError=yt,this._readCapability.resolve()}_setReadableStream(yt){this._readableStream=yt,yt.on("readable",()=>{this._readCapability.resolve()}),yt.on("end",()=>{yt.destroy(),this._done=!0,this._readCapability.resolve()}),yt.on("error",rt=>{this._error(rt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _e(ft,yt){return{protocol:ft.protocol,auth:ft.auth,host:ft.hostname,port:ft.port,path:ft.path,method:"GET",headers:yt}}class et extends g{constructor(yt){super(yt);const rt=it=>{if(it.statusCode===404){const lt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=lt,this._headersCapability.reject(lt);return}this._headersCapability.resolve(),this._setReadableStream(it);const dt=lt=>this._readableStream.headers[lt.toLowerCase()],{allowRangeRequests:mt,suggestedLength:ut}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:yt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=mt,this._contentLength=ut||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(dt)};if(this._request=null,this._url.protocol==="http:"){const it=require$$5;this._request=it.request(_e(this._url,yt.httpHeaders),rt)}else{const it=require$$5;this._request=it.request(_e(this._url,yt.httpHeaders),rt)}this._request.on("error",it=>{this._storedError=it,this._headersCapability.reject(it)}),this._request.end()}}class st extends j{constructor(yt,rt,it){super(yt),this._httpHeaders={};for(const mt in yt.httpHeaders){const ut=yt.httpHeaders[mt];ut!==void 0&&(this._httpHeaders[mt]=ut)}this._httpHeaders.Range=`bytes=${rt}-${it-1}`;const dt=mt=>{if(mt.statusCode===404){const ut=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ut;return}this._setReadableStream(mt)};if(this._request=null,this._url.protocol==="http:"){const mt=require$$5;this._request=mt.request(_e(this._url,this._httpHeaders),dt)}else{const mt=require$$5;this._request=mt.request(_e(this._url,this._httpHeaders),dt)}this._request.on("error",mt=>{this._storedError=mt}),this._request.end()}}class tt extends g{constructor(yt){super(yt);let rt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(rt=rt.replace(/^\//,""));const it=require$$5;it.lstat(rt,(dt,mt)=>{if(dt){dt.code==="ENOENT"&&(dt=new o.MissingPDFException(`Missing PDF "${rt}".`)),this._storedError=dt,this._headersCapability.reject(dt);return}this._contentLength=mt.size,this._setReadableStream(it.createReadStream(rt)),this._headersCapability.resolve()})}}class ot extends j{constructor(yt,rt,it){super(yt);let dt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(dt=dt.replace(/^\//,""));const mt=require$$5;this._setReadableStream(mt.createReadStream(dt,{start:rt,end:it-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),a=s(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",g=["butt","round","square"],j=["miter","round","bevel"],_e=function(mt,ut="",lt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!lt)return URL.createObjectURL(new Blob([mt],{type:ut}));const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let gt=`data:${ut};base64,`;for(let bt=0,kt=mt.length;bt<kt;bt+=3){const ht=mt[bt]&255,St=mt[bt+1]&255,At=mt[bt+2]&255,zt=ht>>2,Pt=(ht&3)<<4|St>>4,$t=bt+1<kt?(St&15)<<2|At>>6:64,Dt=bt+2<kt?At&63:64;gt+=ct[zt]+ct[Pt]+ct[$t]+ct[Dt]}return gt},et=function(){const mt=new Uint8Array([137,80,78,71,13,10,26,10]),ut=12,lt=new Int32Array(256);for(let At=0;At<256;At++){let zt=At;for(let Pt=0;Pt<8;Pt++)zt=zt&1?3988292384^zt>>1&2147483647:zt>>1&2147483647;lt[At]=zt}function ct(At,zt,Pt){let $t=-1;for(let Dt=zt;Dt<Pt;Dt++){const Nt=($t^At[Dt])&255,Et=lt[Nt];$t=$t>>>8^Et}return $t^-1}function gt(At,zt,Pt,$t){let Dt=$t;const Nt=zt.length;Pt[Dt]=Nt>>24&255,Pt[Dt+1]=Nt>>16&255,Pt[Dt+2]=Nt>>8&255,Pt[Dt+3]=Nt&255,Dt+=4,Pt[Dt]=At.charCodeAt(0)&255,Pt[Dt+1]=At.charCodeAt(1)&255,Pt[Dt+2]=At.charCodeAt(2)&255,Pt[Dt+3]=At.charCodeAt(3)&255,Dt+=4,Pt.set(zt,Dt),Dt+=zt.length;const Et=ct(Pt,$t+4,Dt);Pt[Dt]=Et>>24&255,Pt[Dt+1]=Et>>16&255,Pt[Dt+2]=Et>>8&255,Pt[Dt+3]=Et&255}function bt(At,zt,Pt){let $t=1,Dt=0;for(let Nt=zt;Nt<Pt;++Nt)$t=($t+(At[Nt]&255))%65521,Dt=(Dt+$t)%65521;return Dt<<16|$t}function kt(At){if(!a.isNodeJS)return ht(At);try{const zt=parseInt(process.versions.node)>=8?At:Buffer.from(At),Pt=require$$5.deflateSync(zt,{level:9});return Pt instanceof Uint8Array?Pt:new Uint8Array(Pt)}catch(zt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+zt)}return ht(At)}function ht(At){let zt=At.length;const Pt=65535,$t=Math.ceil(zt/Pt),Dt=new Uint8Array(2+zt+$t*5+4);let Nt=0;Dt[Nt++]=120,Dt[Nt++]=156;let Et=0;for(;zt>Pt;)Dt[Nt++]=0,Dt[Nt++]=255,Dt[Nt++]=255,Dt[Nt++]=0,Dt[Nt++]=0,Dt.set(At.subarray(Et,Et+Pt),Nt),Nt+=Pt,Et+=Pt,zt-=Pt;Dt[Nt++]=1,Dt[Nt++]=zt&255,Dt[Nt++]=zt>>8&255,Dt[Nt++]=~zt&65535&255,Dt[Nt++]=(~zt&65535)>>8&255,Dt.set(At.subarray(Et),Nt),Nt+=At.length-Et;const vt=bt(At,0,At.length);return Dt[Nt++]=vt>>24&255,Dt[Nt++]=vt>>16&255,Dt[Nt++]=vt>>8&255,Dt[Nt++]=vt&255,Dt}function St(At,zt,Pt,$t){const Dt=At.width,Nt=At.height;let Et,vt,jt;const xt=At.data;switch(zt){case a.ImageKind.GRAYSCALE_1BPP:vt=0,Et=1,jt=Dt+7>>3;break;case a.ImageKind.RGB_24BPP:vt=2,Et=8,jt=Dt*3;break;case a.ImageKind.RGBA_32BPP:vt=6,Et=8,jt=Dt*4;break;default:throw new Error("invalid format")}const nt=new Uint8Array((1+jt)*Nt);let pt=0,wt=0;for(let nn=0;nn<Nt;++nn)nt[pt++]=0,nt.set(xt.subarray(wt,wt+jt),pt),wt+=jt,pt+=jt;if(zt===a.ImageKind.GRAYSCALE_1BPP&&$t){pt=0;for(let nn=0;nn<Nt;nn++){pt++;for(let sn=0;sn<jt;sn++)nt[pt++]^=255}}const Ct=new Uint8Array([Dt>>24&255,Dt>>16&255,Dt>>8&255,Dt&255,Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,Et,vt,0,0,0]),Rt=kt(nt),Lt=mt.length+ut*3+Ct.length+Rt.length,Bt=new Uint8Array(Lt);let Kt=0;return Bt.set(mt,Kt),Kt+=mt.length,gt("IHDR",Ct,Bt,Kt),Kt+=ut+Ct.length,gt("IDATA",Rt,Bt,Kt),Kt+=ut+Rt.length,gt("IEND",new Uint8Array(0),Bt,Kt),_e(Bt,"image/png",Pt)}return function(zt,Pt,$t){const Dt=zt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:zt.kind;return St(zt,Dt,Pt,$t)}}();class st{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ut,lt){this.x=ut,this.y=lt}}function tt(mt){let ut=[];const lt=[];for(const ct of mt){if(ct.fn==="save"){ut.push({fnId:92,fn:"group",items:[]}),lt.push(ut),ut=ut.at(-1).items;continue}ct.fn==="restore"?ut=lt.pop():ut.push(ct)}return ut}function ot(mt){if(Number.isInteger(mt))return mt.toString();const ut=mt.toFixed(10);let lt=ut.length-1;if(ut[lt]!=="0")return ut;do lt--;while(ut[lt]==="0");return ut.substring(0,ut[lt]==="."?lt:lt+1)}function ft(mt){if(mt[4]===0&&mt[5]===0){if(mt[1]===0&&mt[2]===0)return mt[0]===1&&mt[3]===1?"":`scale(${ot(mt[0])} ${ot(mt[3])})`;if(mt[0]===mt[3]&&mt[1]===-mt[2]){const ut=Math.acos(mt[0])*180/Math.PI;return`rotate(${ot(ut)})`}}else if(mt[0]===1&&mt[1]===0&&mt[2]===0&&mt[3]===1)return`translate(${ot(mt[4])} ${ot(mt[5])})`;return`matrix(${ot(mt[0])} ${ot(mt[1])} ${ot(mt[2])} ${ot(mt[3])} ${ot(mt[4])} ${ot(mt[5])})`}let yt=0,rt=0,it=0;class dt{constructor(ut,lt,ct=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new st,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ut,this.objs=lt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ct,this._operatorIdMapping=[];for(const gt in a.OPS)this._operatorIdMapping[a.OPS[gt]]=gt}getObject(ut,lt=null){return typeof ut=="string"?ut.startsWith("g_")?this.commonObjs.get(ut):this.objs.get(ut):lt}save(){this.transformStack.push(this.transformMatrix);const ut=this.current;this.extraStack.push(ut),this.current=ut.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ut){this.save(),this.executeOpTree(ut),this.restore()}loadDependencies(ut){const lt=ut.fnArray,ct=ut.argsArray;for(let gt=0,bt=lt.length;gt<bt;gt++)if(lt[gt]===a.OPS.dependency)for(const kt of ct[gt]){const ht=kt.startsWith("g_")?this.commonObjs:this.objs,St=new Promise(At=>{ht.get(kt,At)});this.current.dependencies.push(St)}return Promise.all(this.current.dependencies)}transform(ut,lt,ct,gt,bt,kt){const ht=[ut,lt,ct,gt,bt,kt];this.transformMatrix=a.Util.transform(this.transformMatrix,ht),this.tgrp=null}getSVG(ut,lt){this.viewport=lt;const ct=this._initialize(lt);return this.loadDependencies(ut).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ut)),ct))}convertOpList(ut){const lt=this._operatorIdMapping,ct=ut.argsArray,gt=ut.fnArray,bt=[];for(let kt=0,ht=gt.length;kt<ht;kt++){const St=gt[kt];bt.push({fnId:St,fn:lt[St],args:ct[kt]})}return tt(bt)}executeOpTree(ut){for(const lt of ut){const ct=lt.fn,gt=lt.fnId,bt=lt.args;switch(gt|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(bt);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(bt[0],bt[1]);break;case a.OPS.setFont:this.setFont(bt);break;case a.OPS.showText:this.showText(bt[0]);break;case a.OPS.showSpacedText:this.showText(bt[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(bt[0],bt[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(bt[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(bt[0]);break;case a.OPS.setHScale:this.setHScale(bt[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);break;case a.OPS.setTextRise:this.setTextRise(bt[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(bt[0]);break;case a.OPS.setLineWidth:this.setLineWidth(bt[0]);break;case a.OPS.setLineJoin:this.setLineJoin(bt[0]);break;case a.OPS.setLineCap:this.setLineCap(bt[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(bt[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(bt[0],bt[1],bt[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(bt[0],bt[1],bt[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(bt);break;case a.OPS.setFillColorN:this.setFillColorN(bt);break;case a.OPS.shadingFill:this.shadingFill(bt[0]);break;case a.OPS.setDash:this.setDash(bt[0],bt[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(bt[0]);break;case a.OPS.setFlatness:this.setFlatness(bt[0]);break;case a.OPS.setGState:this.setGState(bt[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(bt[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(bt[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(bt[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(bt[0],bt[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);break;case a.OPS.constructPath:this.constructPath(bt[0],bt[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(lt.items);break;default:(0,a.warn)(`Unimplemented operator ${ct}`);break}}}setWordSpacing(ut){this.current.wordSpacing=ut}setCharSpacing(ut){this.current.charSpacing=ut}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ut,lt,ct,gt,bt,kt){const ht=this.current;ht.textMatrix=ht.lineMatrix=[ut,lt,ct,gt,bt,kt],ht.textMatrixScale=Math.hypot(ut,lt),ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.xcoords=[],ht.ycoords=[],ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.tspan.setAttributeNS(null,"font-family",ht.fontFamily),ht.tspan.setAttributeNS(null,"font-size",`${ot(ht.fontSize)}px`),ht.tspan.setAttributeNS(null,"y",ot(-ht.y)),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtElement.append(ht.tspan)}beginText(){const ut=this.current;ut.x=ut.lineX=0,ut.y=ut.lineY=0,ut.textMatrix=a.IDENTITY_MATRIX,ut.lineMatrix=a.IDENTITY_MATRIX,ut.textMatrixScale=1,ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.txtElement=this.svgFactory.createElement("svg:text"),ut.txtgrp=this.svgFactory.createElement("svg:g"),ut.xcoords=[],ut.ycoords=[]}moveText(ut,lt){const ct=this.current;ct.x=ct.lineX+=ut,ct.y=ct.lineY+=lt,ct.xcoords=[],ct.ycoords=[],ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${ot(ct.fontSize)}px`),ct.tspan.setAttributeNS(null,"y",ot(-ct.y))}showText(ut){const lt=this.current,ct=lt.font,gt=lt.fontSize;if(gt===0)return;const bt=lt.fontSizeScale,kt=lt.charSpacing,ht=lt.wordSpacing,St=lt.fontDirection,At=lt.textHScale*St,zt=ct.vertical,Pt=zt?1:-1,$t=ct.defaultVMetrics,Dt=gt*lt.fontMatrix[0];let Nt=0;for(const jt of ut){if(jt===null){Nt+=St*ht;continue}else if(typeof jt=="number"){Nt+=Pt*jt*gt/1e3;continue}const xt=(jt.isSpace?ht:0)+kt,nt=jt.fontChar;let pt,wt,Ct=jt.width;if(zt){let Lt;const Bt=jt.vmetric||$t;Lt=jt.vmetric?Bt[1]:Ct*.5,Lt=-Lt*Dt;const Kt=Bt[2]*Dt;Ct=Bt?-Bt[0]:Ct,pt=Lt/bt,wt=(Nt+Kt)/bt}else pt=Nt/bt,wt=0;(jt.isInFont||ct.missingFile)&&(lt.xcoords.push(lt.x+pt),zt&&lt.ycoords.push(-lt.y+wt),lt.tspan.textContent+=nt);const Rt=zt?Ct*Dt-xt*St:Ct*Dt+xt*St;Nt+=Rt}lt.tspan.setAttributeNS(null,"x",lt.xcoords.map(ot).join(" ")),zt?lt.tspan.setAttributeNS(null,"y",lt.ycoords.map(ot).join(" ")):lt.tspan.setAttributeNS(null,"y",ot(-lt.y)),zt?lt.y-=Nt:lt.x+=Nt*At,lt.tspan.setAttributeNS(null,"font-family",lt.fontFamily),lt.tspan.setAttributeNS(null,"font-size",`${ot(lt.fontSize)}px`),lt.fontStyle!==c.fontStyle&&lt.tspan.setAttributeNS(null,"font-style",lt.fontStyle),lt.fontWeight!==c.fontWeight&&lt.tspan.setAttributeNS(null,"font-weight",lt.fontWeight);const Et=lt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(Et===a.TextRenderingMode.FILL||Et===a.TextRenderingMode.FILL_STROKE?(lt.fillColor!==c.fillColor&&lt.tspan.setAttributeNS(null,"fill",lt.fillColor),lt.fillAlpha<1&&lt.tspan.setAttributeNS(null,"fill-opacity",lt.fillAlpha)):lt.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?lt.tspan.setAttributeNS(null,"fill","transparent"):lt.tspan.setAttributeNS(null,"fill","none"),Et===a.TextRenderingMode.STROKE||Et===a.TextRenderingMode.FILL_STROKE){const jt=1/(lt.textMatrixScale||1);this._setStrokeAttributes(lt.tspan,jt)}let vt=lt.textMatrix;lt.textRise!==0&&(vt=vt.slice(),vt[5]+=lt.textRise),lt.txtElement.setAttributeNS(null,"transform",`${ft(vt)} scale(${ot(At)}, -1)`),lt.txtElement.setAttributeNS(d,"xml:space","preserve"),lt.txtElement.append(lt.tspan),lt.txtgrp.append(lt.txtElement),this._ensureTransformGroup().append(lt.txtElement)}setLeadingMoveText(ut,lt){this.setLeading(-lt),this.moveText(ut,lt)}addFontStyle(ut){if(!ut.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const lt=_e(ut.data,ut.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ut.loadedName}"; src: url(${lt}); }
`}setFont(ut){const lt=this.current,ct=this.commonObjs.get(ut[0]);let gt=ut[1];lt.font=ct,this.embedFonts&&!ct.missingFile&&!this.embeddedFonts[ct.loadedName]&&(this.addFontStyle(ct),this.embeddedFonts[ct.loadedName]=ct),lt.fontMatrix=ct.fontMatrix||a.FONT_IDENTITY_MATRIX;let bt="normal";ct.black?bt="900":ct.bold&&(bt="bold");const kt=ct.italic?"italic":"normal";gt<0?(gt=-gt,lt.fontDirection=-1):lt.fontDirection=1,lt.fontSize=gt,lt.fontFamily=ct.loadedName,lt.fontWeight=bt,lt.fontStyle=kt,lt.tspan=this.svgFactory.createElement("svg:tspan"),lt.tspan.setAttributeNS(null,"y",ot(-lt.y)),lt.xcoords=[],lt.ycoords=[]}endText(){var lt;const ut=this.current;ut.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((lt=ut.txtElement)!=null&&lt.hasChildNodes())&&(ut.element=ut.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ut){ut>0&&(this.current.lineWidth=ut)}setLineCap(ut){this.current.lineCap=g[ut]}setLineJoin(ut){this.current.lineJoin=j[ut]}setMiterLimit(ut){this.current.miterLimit=ut}setStrokeAlpha(ut){this.current.strokeAlpha=ut}setStrokeRGBColor(ut,lt,ct){this.current.strokeColor=a.Util.makeHexColor(ut,lt,ct)}setFillAlpha(ut){this.current.fillAlpha=ut}setFillRGBColor(ut,lt,ct){this.current.fillColor=a.Util.makeHexColor(ut,lt,ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ut){this.current.strokeColor=this._makeColorN_Pattern(ut)}setFillColorN(ut){this.current.fillColor=this._makeColorN_Pattern(ut)}shadingFill(ut){const{width:lt,height:ct}=this.viewport,gt=a.Util.inverseTransform(this.transformMatrix),[bt,kt,ht,St]=a.Util.getAxialAlignedBoundingBox([0,0,lt,ct],gt),At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x",bt),At.setAttributeNS(null,"y",kt),At.setAttributeNS(null,"width",ht-bt),At.setAttributeNS(null,"height",St-kt),At.setAttributeNS(null,"fill",this._makeShadingPattern(ut)),this.current.fillAlpha<1&&At.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(At)}_makeColorN_Pattern(ut){return ut[0]==="TilingPattern"?this._makeTilingPattern(ut):this._makeShadingPattern(ut)}_makeTilingPattern(ut){const lt=ut[1],ct=ut[2],gt=ut[3]||a.IDENTITY_MATRIX,[bt,kt,ht,St]=ut[4],At=ut[5],zt=ut[6],Pt=ut[7],$t=`shading${it++}`,[Dt,Nt,Et,vt]=a.Util.normalizeRect([...a.Util.applyTransform([bt,kt],gt),...a.Util.applyTransform([ht,St],gt)]),[jt,xt]=a.Util.singularValueDecompose2dScale(gt),nt=At*jt,pt=zt*xt,wt=this.svgFactory.createElement("svg:pattern");wt.setAttributeNS(null,"id",$t),wt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),wt.setAttributeNS(null,"width",nt),wt.setAttributeNS(null,"height",pt),wt.setAttributeNS(null,"x",`${Dt}`),wt.setAttributeNS(null,"y",`${Nt}`);const Ct=this.svg,Rt=this.transformMatrix,Lt=this.current.fillColor,Bt=this.current.strokeColor,Kt=this.svgFactory.create(Et-Dt,vt-Nt);if(this.svg=Kt,this.transformMatrix=gt,Pt===2){const nn=a.Util.makeHexColor(...lt);this.current.fillColor=nn,this.current.strokeColor=nn}return this.executeOpTree(this.convertOpList(ct)),this.svg=Ct,this.transformMatrix=Rt,this.current.fillColor=Lt,this.current.strokeColor=Bt,wt.append(Kt.childNodes[0]),this.defs.append(wt),`url(#${$t})`}_makeShadingPattern(ut){switch(typeof ut=="string"&&(ut=this.objs.get(ut)),ut[0]){case"RadialAxial":const lt=`shading${it++}`,ct=ut[3];let gt;switch(ut[1]){case"axial":const bt=ut[4],kt=ut[5];gt=this.svgFactory.createElement("svg:linearGradient"),gt.setAttributeNS(null,"id",lt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"x1",bt[0]),gt.setAttributeNS(null,"y1",bt[1]),gt.setAttributeNS(null,"x2",kt[0]),gt.setAttributeNS(null,"y2",kt[1]);break;case"radial":const ht=ut[4],St=ut[5],At=ut[6],zt=ut[7];gt=this.svgFactory.createElement("svg:radialGradient"),gt.setAttributeNS(null,"id",lt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"cx",St[0]),gt.setAttributeNS(null,"cy",St[1]),gt.setAttributeNS(null,"r",zt),gt.setAttributeNS(null,"fx",ht[0]),gt.setAttributeNS(null,"fy",ht[1]),gt.setAttributeNS(null,"fr",At);break;default:throw new Error(`Unknown RadialAxial type: ${ut[1]}`)}for(const bt of ct){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",bt[0]),kt.setAttributeNS(null,"stop-color",bt[1]),gt.append(kt)}return this.defs.append(gt),`url(#${lt})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ut[0]}`)}}setDash(ut,lt){this.current.dashArray=ut,this.current.dashPhase=lt}constructPath(ut,lt){const ct=this.current;let gt=ct.x,bt=ct.y,kt=[],ht=0;for(const St of ut)switch(St|0){case a.OPS.rectangle:gt=lt[ht++],bt=lt[ht++];const At=lt[ht++],zt=lt[ht++],Pt=gt+At,$t=bt+zt;kt.push("M",ot(gt),ot(bt),"L",ot(Pt),ot(bt),"L",ot(Pt),ot($t),"L",ot(gt),ot($t),"Z");break;case a.OPS.moveTo:gt=lt[ht++],bt=lt[ht++],kt.push("M",ot(gt),ot(bt));break;case a.OPS.lineTo:gt=lt[ht++],bt=lt[ht++],kt.push("L",ot(gt),ot(bt));break;case a.OPS.curveTo:gt=lt[ht+4],bt=lt[ht+5],kt.push("C",ot(lt[ht]),ot(lt[ht+1]),ot(lt[ht+2]),ot(lt[ht+3]),ot(gt),ot(bt)),ht+=6;break;case a.OPS.curveTo2:kt.push("C",ot(gt),ot(bt),ot(lt[ht]),ot(lt[ht+1]),ot(lt[ht+2]),ot(lt[ht+3])),gt=lt[ht+2],bt=lt[ht+3],ht+=4;break;case a.OPS.curveTo3:gt=lt[ht+2],bt=lt[ht+3],kt.push("C",ot(lt[ht]),ot(lt[ht+1]),ot(gt),ot(bt),ot(gt),ot(bt)),ht+=4;break;case a.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),ct.path&&ut.length>0&&ut[0]!==a.OPS.rectangle&&ut[0]!==a.OPS.moveTo?kt=ct.path.getAttributeNS(null,"d")+kt:(ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ct.path)),ct.path.setAttributeNS(null,"d",kt),ct.path.setAttributeNS(null,"fill","none"),ct.element=ct.path,ct.setCurrentPoint(gt,bt)}endPath(){const ut=this.current;if(ut.path=null,!this.pendingClip)return;if(!ut.element){this.pendingClip=null;return}const lt=`clippath${yt++}`,ct=this.svgFactory.createElement("svg:clipPath");ct.setAttributeNS(null,"id",lt),ct.setAttributeNS(null,"transform",ft(this.transformMatrix));const gt=ut.element.cloneNode(!0);if(this.pendingClip==="evenodd"?gt.setAttributeNS(null,"clip-rule","evenodd"):gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ct.append(gt),this.defs.append(ct),ut.activeClipUrl){ut.clipGroup=null;for(const bt of this.extraStack)bt.clipGroup=null;ct.setAttributeNS(null,"clip-path",ut.activeClipUrl)}ut.activeClipUrl=`url(#${lt})`,this.tgrp=null}clip(ut){this.pendingClip=ut}closePath(){const ut=this.current;if(ut.path){const lt=`${ut.path.getAttributeNS(null,"d")}Z`;ut.path.setAttributeNS(null,"d",lt)}}setLeading(ut){this.current.leading=-ut}setTextRise(ut){this.current.textRise=ut}setTextRenderingMode(ut){this.current.textRenderingMode=ut}setHScale(ut){this.current.textHScale=ut/100}setRenderingIntent(ut){}setFlatness(ut){}setGState(ut){for(const[lt,ct]of ut)switch(lt){case"LW":this.setLineWidth(ct);break;case"LC":this.setLineCap(ct);break;case"LJ":this.setLineJoin(ct);break;case"ML":this.setMiterLimit(ct);break;case"D":this.setDash(ct[0],ct[1]);break;case"RI":this.setRenderingIntent(ct);break;case"FL":this.setFlatness(ct);break;case"Font":this.setFont(ct);break;case"CA":this.setStrokeAlpha(ct);break;case"ca":this.setFillAlpha(ct);break;default:(0,a.warn)(`Unimplemented graphic state operator ${lt}`);break}}fill(){const ut=this.current;ut.element&&(ut.element.setAttributeNS(null,"fill",ut.fillColor),ut.element.setAttributeNS(null,"fill-opacity",ut.fillAlpha),this.endPath())}stroke(){const ut=this.current;ut.element&&(this._setStrokeAttributes(ut.element),ut.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ut,lt=1){const ct=this.current;let gt=ct.dashArray;lt!==1&&gt.length>0&&(gt=gt.map(function(bt){return lt*bt})),ut.setAttributeNS(null,"stroke",ct.strokeColor),ut.setAttributeNS(null,"stroke-opacity",ct.strokeAlpha),ut.setAttributeNS(null,"stroke-miterlimit",ot(ct.miterLimit)),ut.setAttributeNS(null,"stroke-linecap",ct.lineCap),ut.setAttributeNS(null,"stroke-linejoin",ct.lineJoin),ut.setAttributeNS(null,"stroke-width",ot(lt*ct.lineWidth)+"px"),ut.setAttributeNS(null,"stroke-dasharray",gt.map(ot).join(" ")),ut.setAttributeNS(null,"stroke-dashoffset",ot(lt*ct.dashPhase)+"px")}eoFill(){var ut;(ut=this.current.element)==null||ut.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ut;(ut=this.current.element)==null||ut.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ut=this.svgFactory.createElement("svg:rect");ut.setAttributeNS(null,"x","0"),ut.setAttributeNS(null,"y","0"),ut.setAttributeNS(null,"width","1px"),ut.setAttributeNS(null,"height","1px"),ut.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ut)}paintImageXObject(ut){const lt=this.getObject(ut);if(!lt){(0,a.warn)(`Dependent image with object ID ${ut} is not ready yet`);return}this.paintInlineImageXObject(lt)}paintInlineImageXObject(ut,lt){const ct=ut.width,gt=ut.height,bt=et(ut,this.forceDataSchema,!!lt),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",ot(ct)),kt.setAttributeNS(null,"height",ot(gt)),this.current.element=kt,this.clip("nonzero");const ht=this.svgFactory.createElement("svg:image");ht.setAttributeNS(b,"xlink:href",bt),ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y",ot(-gt)),ht.setAttributeNS(null,"width",ot(ct)+"px"),ht.setAttributeNS(null,"height",ot(gt)+"px"),ht.setAttributeNS(null,"transform",`scale(${ot(1/ct)} ${ot(-1/gt)})`),lt?lt.append(ht):this._ensureTransformGroup().append(ht)}paintImageMaskXObject(ut){const lt=this.getObject(ut.data,ut);if(lt.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ct=this.current,gt=lt.width,bt=lt.height,kt=ct.fillColor;ct.maskId=`mask${rt++}`;const ht=this.svgFactory.createElement("svg:mask");ht.setAttributeNS(null,"id",ct.maskId);const St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width",ot(gt)),St.setAttributeNS(null,"height",ot(bt)),St.setAttributeNS(null,"fill",kt),St.setAttributeNS(null,"mask",`url(#${ct.maskId})`),this.defs.append(ht),this._ensureTransformGroup().append(St),this.paintInlineImageXObject(lt,ht)}paintFormXObjectBegin(ut,lt){if(Array.isArray(ut)&&ut.length===6&&this.transform(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]),lt){const ct=lt[2]-lt[0],gt=lt[3]-lt[1],bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x",lt[0]),bt.setAttributeNS(null,"y",lt[1]),bt.setAttributeNS(null,"width",ot(ct)),bt.setAttributeNS(null,"height",ot(gt)),this.current.element=bt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ut){const lt=this.svgFactory.create(ut.width,ut.height),ct=this.svgFactory.createElement("svg:defs");lt.append(ct),this.defs=ct;const gt=this.svgFactory.createElement("svg:g");return gt.setAttributeNS(null,"transform",ft(ut.transform)),lt.append(gt),this.svg=gt,lt}_ensureClipGroup(){if(!this.current.clipGroup){const ut=this.svgFactory.createElement("svg:g");ut.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ut),this.current.clipGroup=ut}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ft(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=dt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function b(g){var et;if(!g)return;let j=null;const _e=g.name;if(_e==="#text")j=g.value;else if(s.shouldBuildText(_e))(et=g==null?void 0:g.attributes)!=null&&et.textContent?j=g.attributes.textContent:g.value&&(j=g.value);else return;if(j!==null&&c.push({str:j}),!!g.children)for(const st of g.children)b(st)}return b(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=ft,i.updateTextLayer=yt;var o=s(1),a=s(6);const c=1e5,d=30,b=.8,g=new Map;function j(rt,it){let dt;if(it&&o.FeatureTest.isOffscreenCanvasSupported)dt=new OffscreenCanvas(rt,rt).getContext("2d",{alpha:!1});else{const mt=document.createElement("canvas");mt.width=mt.height=rt,dt=mt.getContext("2d",{alpha:!1})}return dt}function _e(rt,it){const dt=g.get(rt);if(dt)return dt;const mt=j(d,it);mt.font=`${d}px ${rt}`;const ut=mt.measureText("");let lt=ut.fontBoundingBoxAscent,ct=Math.abs(ut.fontBoundingBoxDescent);if(lt){const bt=lt/(lt+ct);return g.set(rt,bt),mt.canvas.width=mt.canvas.height=0,bt}mt.strokeStyle="red",mt.clearRect(0,0,d,d),mt.strokeText("g",0,0);let gt=mt.getImageData(0,0,d,d).data;ct=0;for(let bt=gt.length-1-3;bt>=0;bt-=4)if(gt[bt]>0){ct=Math.ceil(bt/4/d);break}mt.clearRect(0,0,d,d),mt.strokeText("A",0,d),gt=mt.getImageData(0,0,d,d).data,lt=0;for(let bt=0,kt=gt.length;bt<kt;bt+=4)if(gt[bt]>0){lt=d-Math.floor(bt/4/d);break}if(mt.canvas.width=mt.canvas.height=0,lt){const bt=lt/(lt+ct);return g.set(rt,bt),bt}return g.set(rt,b),b}function et(rt,it,dt){const mt=document.createElement("span"),ut={angle:0,canvasWidth:0,hasText:it.str!=="",hasEOL:it.hasEOL,fontSize:0};rt._textDivs.push(mt);const lt=o.Util.transform(rt._transform,it.transform);let ct=Math.atan2(lt[1],lt[0]);const gt=dt[it.fontName];gt.vertical&&(ct+=Math.PI/2);const bt=Math.hypot(lt[2],lt[3]),kt=bt*_e(gt.fontFamily,rt._isOffscreenCanvasSupported);let ht,St;ct===0?(ht=lt[4],St=lt[5]-kt):(ht=lt[4]+kt*Math.sin(ct),St=lt[5]-kt*Math.cos(ct));const At="calc(var(--scale-factor)*",zt=mt.style;rt._container===rt._rootContainer?(zt.left=`${(100*ht/rt._pageWidth).toFixed(2)}%`,zt.top=`${(100*St/rt._pageHeight).toFixed(2)}%`):(zt.left=`${At}${ht.toFixed(2)}px)`,zt.top=`${At}${St.toFixed(2)}px)`),zt.fontSize=`${At}${bt.toFixed(2)}px)`,zt.fontFamily=gt.fontFamily,ut.fontSize=bt,mt.setAttribute("role","presentation"),mt.textContent=it.str,mt.dir=it.dir,rt._fontInspectorEnabled&&(mt.dataset.fontName=it.fontName),ct!==0&&(ut.angle=ct*(180/Math.PI));let Pt=!1;if(it.str.length>1)Pt=!0;else if(it.str!==" "&&it.transform[0]!==it.transform[3]){const $t=Math.abs(it.transform[0]),Dt=Math.abs(it.transform[3]);$t!==Dt&&Math.max($t,Dt)/Math.min($t,Dt)>1.5&&(Pt=!0)}Pt&&(ut.canvasWidth=gt.vertical?it.height:it.width),rt._textDivProperties.set(mt,ut),rt._isReadableStream&&rt._layoutText(mt)}function st(rt){const{div:it,scale:dt,properties:mt,ctx:ut,prevFontSize:lt,prevFontFamily:ct}=rt,{style:gt}=it;let bt="";if(mt.canvasWidth!==0&&mt.hasText){const{fontFamily:kt}=gt,{canvasWidth:ht,fontSize:St}=mt;(lt!==St||ct!==kt)&&(ut.font=`${St*dt}px ${kt}`,rt.prevFontSize=St,rt.prevFontFamily=kt);const{width:At}=ut.measureText(it.textContent);At>0&&(bt=`scaleX(${ht*dt/At})`)}mt.angle!==0&&(bt=`rotate(${mt.angle}deg) ${bt}`),bt.length>0&&(gt.transform=bt)}function tt(rt){if(rt._canceled)return;const it=rt._textDivs,dt=rt._capability;if(it.length>c){dt.resolve();return}if(!rt._isReadableStream)for(const ut of it)rt._layoutText(ut);dt.resolve()}class ot{constructor({textContentSource:it,container:dt,viewport:mt,textDivs:ut,textDivProperties:lt,textContentItemsStr:ct,isOffscreenCanvasSupported:gt}){var At;this._textContentSource=it,this._isReadableStream=it instanceof ReadableStream,this._container=this._rootContainer=dt,this._textDivs=ut||[],this._textContentItemsStr=ct||[],this._isOffscreenCanvasSupported=gt,this._fontInspectorEnabled=!!((At=globalThis.FontInspector)!=null&&At.enabled),this._reader=null,this._textDivProperties=lt||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:mt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:j(0,gt)};const{pageWidth:bt,pageHeight:kt,pageX:ht,pageY:St}=mt.rawDims;this._transform=[1,0,0,-1,-ht,St+kt],this._pageWidth=bt,this._pageHeight=kt,(0,a.setLayerDimensions)(dt,mt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(it,dt){for(const mt of it){if(mt.str===void 0){if(mt.type==="beginMarkedContentProps"||mt.type==="beginMarkedContent"){const ut=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),mt.id!==null&&this._container.setAttribute("id",`${mt.id}`),ut.append(this._container)}else mt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(mt.str),et(this,mt,dt)}}_layoutText(it){const dt=this._layoutTextParams.properties=this._textDivProperties.get(it);if(this._layoutTextParams.div=it,st(this._layoutTextParams),dt.hasText&&this._container.append(it),dt.hasEOL){const mt=document.createElement("br");mt.setAttribute("role","presentation"),this._container.append(mt)}}_render(){const it=new o.PromiseCapability;let dt=Object.create(null);if(this._isReadableStream){const mt=()=>{this._reader.read().then(({value:ut,done:lt})=>{if(lt){it.resolve();return}Object.assign(dt,ut.styles),this._processItems(ut.items,dt),mt()},it.reject)};this._reader=this._textContentSource.getReader(),mt()}else if(this._textContentSource){const{items:mt,styles:ut}=this._textContentSource;this._processItems(mt,ut),it.resolve()}else throw new Error('No "textContentSource" parameter specified.');it.promise.then(()=>{dt=null,tt(this)},this._capability.reject)}}i.TextLayerRenderTask=ot;function ft(rt){!rt.textContentSource&&(rt.textContent||rt.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),rt.textContentSource=rt.textContent||rt.textContentStream);const{container:it,viewport:dt}=rt,mt=getComputedStyle(it),ut=mt.getPropertyValue("visibility"),lt=parseFloat(mt.getPropertyValue("--scale-factor"));ut==="visible"&&(!lt||Math.abs(lt-dt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ct=new ot(rt);return ct._render(),ct}function yt({container:rt,viewport:it,textDivs:dt,textDivProperties:mt,isOffscreenCanvasSupported:ut,mustRotate:lt=!0,mustRescale:ct=!0}){if(lt&&(0,a.setLayerDimensions)(rt,{rotation:it.rotation}),ct){const gt=j(0,ut),kt={prevFontSize:null,prevFontFamily:null,div:null,scale:it.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gt};for(const ht of dt)kt.properties=mt.get(ht),kt.div=ht,st(kt)}}},(e,i,s)=>{var _e,et,st,tt,ot,ft,yt,rt,it,dt,mt,Br,gr,Ur,Hr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),a=s(4),c=s(28),d=s(33),b=s(6),g=s(34);const bt=class bt{constructor({uiManager:ht,pageIndex:St,div:At,accessibilityManager:zt,annotationLayer:Pt,viewport:$t,l10n:Dt}){en(this,mt);en(this,_e);en(this,et,!1);en(this,st,null);en(this,tt,this.pointerup.bind(this));en(this,ot,this.pointerdown.bind(this));en(this,ft,new Map);en(this,yt,!1);en(this,rt,!1);en(this,it,!1);en(this,dt);const Nt=[c.FreeTextEditor,d.InkEditor,g.StampEditor];if(!bt._initialized){bt._initialized=!0;for(const Et of Nt)Et.initialize(Dt)}ht.registerEditorTypes(Nt),tn(this,dt,ht),this.pageIndex=St,this.div=At,tn(this,_e,zt),tn(this,st,Pt),this.viewport=$t,at(this,dt).addLayer(this)}get isEmpty(){return at(this,ft).size===0}updateToolbar(ht){at(this,dt).updateToolbar(ht)}updateMode(ht=at(this,dt).getMode()){Gt(this,mt,Hr).call(this),ht===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ht!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ht===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ht===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ht===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ht){if(!ht&&at(this,dt).getMode()!==o.AnnotationEditorType.INK)return;if(!ht){for(const At of at(this,ft).values())if(At.isEmpty()){At.setInBackground();return}}Gt(this,mt,gr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ht){at(this,dt).setEditingState(ht)}addCommands(ht){at(this,dt).addCommands(ht)}enable(){this.div.style.pointerEvents="auto";const ht=new Set;for(const At of at(this,ft).values())At.enableEditing(),At.annotationElementId&&ht.add(At.annotationElementId);if(!at(this,st))return;const St=at(this,st).getEditableAnnotations();for(const At of St){if(At.hide(),at(this,dt).isDeletedAnnotationElement(At.data.id)||ht.has(At.data.id))continue;const zt=this.deserialize(At);zt&&(this.addOrRebuild(zt),zt.enableEditing())}}disable(){var St;tn(this,it,!0),this.div.style.pointerEvents="none";const ht=new Set;for(const At of at(this,ft).values()){if(At.disableEditing(),!At.annotationElementId||At.serialize()!==null){ht.add(At.annotationElementId);continue}(St=this.getEditableAnnotation(At.annotationElementId))==null||St.show(),At.remove()}if(at(this,st)){const At=at(this,st).getEditableAnnotations();for(const zt of At){const{id:Pt}=zt.data;ht.has(Pt)||at(this,dt).isDeletedAnnotationElement(Pt)||zt.show()}}Gt(this,mt,Hr).call(this),this.isEmpty&&(this.div.hidden=!0),tn(this,it,!1)}getEditableAnnotation(ht){var St;return((St=at(this,st))==null?void 0:St.getEditableAnnotation(ht))||null}setActiveEditor(ht){at(this,dt).getActive()!==ht&&at(this,dt).setActiveEditor(ht)}enableClick(){this.div.addEventListener("pointerdown",at(this,ot)),this.div.addEventListener("pointerup",at(this,tt))}disableClick(){this.div.removeEventListener("pointerdown",at(this,ot)),this.div.removeEventListener("pointerup",at(this,tt))}attach(ht){at(this,ft).set(ht.id,ht);const{annotationElementId:St}=ht;St&&at(this,dt).isDeletedAnnotationElement(St)&&at(this,dt).removeDeletedAnnotationElement(ht)}detach(ht){var St;at(this,ft).delete(ht.id),(St=at(this,_e))==null||St.removePointerInTextLayer(ht.contentDiv),!at(this,it)&&ht.annotationElementId&&at(this,dt).addDeletedAnnotationElement(ht)}remove(ht){this.detach(ht),at(this,dt).removeEditor(ht),ht.div.contains(document.activeElement)&&setTimeout(()=>{at(this,dt).focusMainContainer()},0),ht.div.remove(),ht.isAttachedToDOM=!1,at(this,rt)||this.addInkEditorIfNeeded(!1)}changeParent(ht){var St;ht.parent!==this&&(ht.annotationElementId&&(at(this,dt).addDeletedAnnotationElement(ht.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(ht),ht.annotationElementId=null),this.attach(ht),(St=ht.parent)==null||St.detach(ht),ht.setParent(this),ht.div&&ht.isAttachedToDOM&&(ht.div.remove(),this.div.append(ht.div)))}add(ht){if(this.changeParent(ht),at(this,dt).addEditor(ht),this.attach(ht),!ht.isAttachedToDOM){const St=ht.render();this.div.append(St),ht.isAttachedToDOM=!0}ht.fixAndSetPosition(),ht.onceAdded(),at(this,dt).addToAnnotationStorage(ht)}moveEditorInDOM(ht){var At;if(!ht.isAttachedToDOM)return;const{activeElement:St}=document;ht.div.contains(St)&&(ht._focusEventsAllowed=!1,setTimeout(()=>{ht.div.contains(document.activeElement)?ht._focusEventsAllowed=!0:(ht.div.addEventListener("focusin",()=>{ht._focusEventsAllowed=!0},{once:!0}),St.focus())},0)),ht._structTreeParentId=(At=at(this,_e))==null?void 0:At.moveElementInDOM(this.div,ht.div,ht.contentDiv,!0)}addOrRebuild(ht){ht.needsToBeRebuilt()?ht.rebuild():this.add(ht)}addUndoableEditor(ht){const St=()=>ht._uiManager.rebuild(ht),At=()=>{ht.remove()};this.addCommands({cmd:St,undo:At,mustExec:!1})}getNextId(){return at(this,dt).getId()}pasteEditor(ht,St){at(this,dt).updateToolbar(ht),at(this,dt).updateMode(ht);const{offsetX:At,offsetY:zt}=Gt(this,mt,Ur).call(this),Pt=this.getNextId(),$t=Gt(this,mt,Br).call(this,{parent:this,id:Pt,x:At,y:zt,uiManager:at(this,dt),isCentered:!0,...St});$t&&this.add($t)}deserialize(ht){switch(ht.annotationType??ht.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(ht,this,at(this,dt));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(ht,this,at(this,dt));case o.AnnotationEditorType.STAMP:return g.StampEditor.deserialize(ht,this,at(this,dt))}return null}addNewEditor(){Gt(this,mt,gr).call(this,Gt(this,mt,Ur).call(this),!0)}setSelected(ht){at(this,dt).setSelected(ht)}toggleSelected(ht){at(this,dt).toggleSelected(ht)}isSelected(ht){return at(this,dt).isSelected(ht)}unselect(ht){at(this,dt).unselect(ht)}pointerup(ht){const{isMac:St}=o.FeatureTest.platform;if(!(ht.button!==0||ht.ctrlKey&&St)&&ht.target===this.div&&at(this,yt)){if(tn(this,yt,!1),!at(this,et)){tn(this,et,!0);return}if(at(this,dt).getMode()===o.AnnotationEditorType.STAMP){at(this,dt).unselectAll();return}Gt(this,mt,gr).call(this,ht,!1)}}pointerdown(ht){if(at(this,yt)){tn(this,yt,!1);return}const{isMac:St}=o.FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&St||ht.target!==this.div)return;tn(this,yt,!0);const At=at(this,dt).getActive();tn(this,et,!At||At.isEmpty())}findNewParent(ht,St,At){const zt=at(this,dt).findParent(St,At);return zt===null||zt===this?!1:(zt.changeParent(ht),!0)}destroy(){var ht,St;((ht=at(this,dt).getActive())==null?void 0:ht.parent)===this&&(at(this,dt).commitOrRemove(),at(this,dt).setActiveEditor(null));for(const At of at(this,ft).values())(St=at(this,_e))==null||St.removePointerInTextLayer(At.contentDiv),At.setParent(null),At.isAttachedToDOM=!1,At.div.remove();this.div=null,at(this,ft).clear(),at(this,dt).removeLayer(this)}render({viewport:ht}){this.viewport=ht,(0,b.setLayerDimensions)(this.div,ht);for(const St of at(this,dt).getEditors(this.pageIndex))this.add(St);this.updateMode()}update({viewport:ht}){at(this,dt).commitOrRemove(),this.viewport=ht,(0,b.setLayerDimensions)(this.div,{rotation:ht.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ht,pageHeight:St}=this.viewport.rawDims;return[ht,St]}};_e=new WeakMap,et=new WeakMap,st=new WeakMap,tt=new WeakMap,ot=new WeakMap,ft=new WeakMap,yt=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,mt=new WeakSet,Br=function(ht){switch(at(this,dt).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(ht);case o.AnnotationEditorType.INK:return new d.InkEditor(ht);case o.AnnotationEditorType.STAMP:return new g.StampEditor(ht)}return null},gr=function(ht,St){const At=this.getNextId(),zt=Gt(this,mt,Br).call(this,{parent:this,id:At,x:ht.offsetX,y:ht.offsetY,uiManager:at(this,dt),isCentered:St});return zt&&this.add(zt),zt},Ur=function(){const{x:ht,y:St,width:At,height:zt}=this.div.getBoundingClientRect(),Pt=Math.max(0,ht),$t=Math.max(0,St),Dt=Math.min(window.innerWidth,ht+At),Nt=Math.min(window.innerHeight,St+zt),Et=(Pt+Dt)/2-ht,vt=($t+Nt)/2-St,[jt,xt]=this.viewport.rotation%180===0?[Et,vt]:[vt,Et];return{offsetX:jt,offsetY:xt}},Hr=function(){tn(this,rt,!0);for(const ht of at(this,ft).values())ht.isEmpty()&&ht.remove();tn(this,rt,!1)},Bn(bt,"_initialized",!1);let j=bt;i.AnnotationEditorLayer=j},(e,i,s)=>{var g,j,_e,et,st,tt,ot,ft,yt,rt,ms,ys,vs,or,Wr,bs,Vr;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),a=s(5),c=s(4),d=s(29);const bt=class bt extends c.AnnotationEditor{constructor(St){super({...St,name:"freeTextEditor"});en(this,rt);en(this,g,this.editorDivBlur.bind(this));en(this,j,this.editorDivFocus.bind(this));en(this,_e,this.editorDivInput.bind(this));en(this,et,this.editorDivKeydown.bind(this));en(this,st);en(this,tt,"");en(this,ot,`${this.id}-editor`);en(this,ft);en(this,yt,null);tn(this,st,St.color||bt._defaultColor||c.AnnotationEditor._defaultLineColor),tn(this,ft,St.fontSize||bt._defaultFontSize)}static get _keyboardManager(){const St=bt.prototype,At=$t=>$t.isEmpty(),zt=a.AnnotationEditorUIManager.TRANSLATE_SMALL,Pt=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],St.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],St.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],St._translateEmpty,{args:[-zt,0],checker:At}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],St._translateEmpty,{args:[-Pt,0],checker:At}],[["ArrowRight","mac+ArrowRight"],St._translateEmpty,{args:[zt,0],checker:At}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],St._translateEmpty,{args:[Pt,0],checker:At}],[["ArrowUp","mac+ArrowUp"],St._translateEmpty,{args:[0,-zt],checker:At}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],St._translateEmpty,{args:[0,-Pt],checker:At}],[["ArrowDown","mac+ArrowDown"],St._translateEmpty,{args:[0,zt],checker:At}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],St._translateEmpty,{args:[0,Pt],checker:At}]]))}static initialize(St){c.AnnotationEditor.initialize(St,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const At=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(At.getPropertyValue("--freetext-padding"))}static updateDefaultParams(St,At){switch(St){case o.AnnotationEditorParamsType.FREETEXT_SIZE:bt._defaultFontSize=At;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:bt._defaultColor=At;break}}updateParams(St,At){switch(St){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Gt(this,rt,ms).call(this,At);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Gt(this,rt,ys).call(this,At);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,bt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,bt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,at(this,ft)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,at(this,st)]]}_translateEmpty(St,At){this._uiManager.translateSelectedEditors(St,At,!0)}getInitialTranslation(){const St=this.parentScale;return[-bt._internalPadding*St,-(bt._internalPadding+at(this,ft))*St]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",at(this,et)),this.editorDiv.addEventListener("focus",at(this,j)),this.editorDiv.addEventListener("blur",at(this,g)),this.editorDiv.addEventListener("input",at(this,_e)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",at(this,ot)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",at(this,et)),this.editorDiv.removeEventListener("focus",at(this,j)),this.editorDiv.removeEventListener("blur",at(this,g)),this.editorDiv.removeEventListener("input",at(this,_e)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(St){this._focusEventsAllowed&&(super.focusin(St),St.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var St;if(this.width){Gt(this,rt,Vr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(St=this._initialOptions)!=null&&St.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const St=at(this,tt),At=tn(this,tt,Gt(this,rt,vs).call(this).trimEnd());if(St===At)return;const zt=Pt=>{if(tn(this,tt,Pt),!Pt){this.remove();return}Gt(this,rt,Wr).call(this),this._uiManager.rebuild(this),Gt(this,rt,or).call(this)};this.addCommands({cmd:()=>{zt(At)},undo:()=>{zt(St)},mustExec:!1}),Gt(this,rt,or).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(St){this.enterInEditMode()}keydown(St){St.target===this.div&&St.key==="Enter"&&(this.enterInEditMode(),St.preventDefault())}editorDivKeydown(St){bt._keyboardManager.exec(this,St)}editorDivFocus(St){this.isEditing=!0}editorDivBlur(St){this.isEditing=!1}editorDivInput(St){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let St,At;this.width&&(St=this.x,At=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",at(this,ot)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Pt=>{var $t;return($t=this.editorDiv)==null?void 0:$t.setAttribute("aria-label",Pt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Pt=>{var $t;return($t=this.editorDiv)==null?void 0:$t.setAttribute("default-content",Pt)}),this.editorDiv.contentEditable=!0;const{style:zt}=this.editorDiv;if(zt.fontSize=`calc(${at(this,ft)}px * var(--scale-factor))`,zt.color=at(this,st),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Pt,$t]=this.parentDimensions;if(this.annotationElementId){const{position:Dt}=at(this,yt);let[Nt,Et]=this.getInitialTranslation();[Nt,Et]=this.pageTranslationToScreen(Nt,Et);const[vt,jt]=this.pageDimensions,[xt,nt]=this.pageTranslation;let pt,wt;switch(this.rotation){case 0:pt=St+(Dt[0]-xt)/vt,wt=At+this.height-(Dt[1]-nt)/jt;break;case 90:pt=St+(Dt[0]-xt)/vt,wt=At-(Dt[1]-nt)/jt,[Nt,Et]=[Et,-Nt];break;case 180:pt=St-this.width+(Dt[0]-xt)/vt,wt=At-(Dt[1]-nt)/jt,[Nt,Et]=[-Nt,-Et];break;case 270:pt=St+(Dt[0]-xt-this.height*jt)/vt,wt=At+(Dt[1]-nt-this.width*vt)/jt,[Nt,Et]=[-Et,Nt];break}this.setAt(pt*Pt,wt*$t,Nt,Et)}else this.setAt(St*Pt,At*$t,this.width*Pt,this.height*$t);Gt(this,rt,Wr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(St,At,zt){let Pt=null;if(St instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Dt,fontColor:Nt},rect:Et,rotation:vt,id:jt},textContent:xt,textPosition:nt,parent:{page:{pageNumber:pt}}}=St;if(!xt||xt.length===0)return null;Pt=St={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Nt),fontSize:Dt,value:xt.join(`
`),position:nt,pageIndex:pt-1,rect:Et,rotation:vt,id:jt,deleted:!1}}const $t=super.deserialize(St,At,zt);return tn($t,ft,St.fontSize),tn($t,st,o.Util.makeHexColor(...St.color)),tn($t,tt,St.value),$t.annotationElementId=St.id||null,tn($t,yt,Pt),$t}serialize(St=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const At=bt._internalPadding*this.parentScale,zt=this.getRect(At,At),Pt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:at(this,st)),$t={annotationType:o.AnnotationEditorType.FREETEXT,color:Pt,fontSize:at(this,ft),value:at(this,tt),pageIndex:this.pageIndex,rect:zt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return St?$t:this.annotationElementId&&!Gt(this,rt,bs).call(this,$t)?null:($t.id=this.annotationElementId,$t)}};g=new WeakMap,j=new WeakMap,_e=new WeakMap,et=new WeakMap,st=new WeakMap,tt=new WeakMap,ot=new WeakMap,ft=new WeakMap,yt=new WeakMap,rt=new WeakSet,ms=function(St){const At=Pt=>{this.editorDiv.style.fontSize=`calc(${Pt}px * var(--scale-factor))`,this.translate(0,-(Pt-at(this,ft))*this.parentScale),tn(this,ft,Pt),Gt(this,rt,or).call(this)},zt=at(this,ft);this.addCommands({cmd:()=>{At(St)},undo:()=>{At(zt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ys=function(St){const At=at(this,st);this.addCommands({cmd:()=>{tn(this,st,this.editorDiv.style.color=St)},undo:()=>{tn(this,st,this.editorDiv.style.color=At)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vs=function(){const St=this.editorDiv.getElementsByTagName("div");if(St.length===0)return this.editorDiv.innerText;const At=[];for(const zt of St)At.push(zt.innerText.replace(/\r\n?|\n/,""));return At.join(`
`)},or=function(){const[St,At]=this.parentDimensions;let zt;if(this.isAttachedToDOM)zt=this.div.getBoundingClientRect();else{const{currentLayer:Pt,div:$t}=this,Dt=$t.style.display;$t.style.display="hidden",Pt.div.append(this.div),zt=$t.getBoundingClientRect(),$t.remove(),$t.style.display=Dt}this.rotation%180===this.parentRotation%180?(this.width=zt.width/St,this.height=zt.height/At):(this.width=zt.height/St,this.height=zt.width/At),this.fixAndSetPosition()},Wr=function(){if(this.editorDiv.replaceChildren(),!!at(this,tt))for(const St of at(this,tt).split(`
`)){const At=document.createElement("div");At.append(St?document.createTextNode(St):document.createElement("br")),this.editorDiv.append(At)}},bs=function(St){const{value:At,fontSize:zt,color:Pt,rect:$t,pageIndex:Dt}=at(this,yt);return St.value!==At||St.fontSize!==zt||St.rect.some((Nt,Et)=>Math.abs(Nt-$t[Et])>=1)||St.color.some((Nt,Et)=>Nt!==Pt[Et])||St.pageIndex!==Dt},Vr=function(St=!1){if(!this.annotationElementId)return;if(Gt(this,rt,or).call(this),!St&&(this.width===0||this.height===0)){setTimeout(()=>Gt(this,rt,Vr).call(this,!0),0);return}const At=bt._internalPadding*this.parentScale;at(this,yt).rect=this.getRect(At,At)},Bn(bt,"_freeTextDefaultContent",""),Bn(bt,"_internalPadding",0),Bn(bt,"_defaultColor",null),Bn(bt,"_defaultFontSize",10),Bn(bt,"_type","freetext");let b=bt;i.FreeTextEditor=b},(e,i,s)=>{var wt,Rt,Yn,ks,Kt,nn,sn,cn,ln,dn,Vt,Xt,_t,It,Wt,Qt,an,gn,fn,qt,Ht,Jt,Ss,mr,Gr,Xr,En,Fn,Dn,hn,Yt,Zt,wn,qr,Nn,Ot,un,yn,ws,Yr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=s(1),a=s(6),c=s(3),d=s(30),b=s(31),g=s(32);const j=1e3,_e=9,et=new WeakSet;function st(xn){return{width:xn[2]-xn[0],height:xn[3]-xn[1]}}class tt{static create(Mt){switch(Mt.data.annotationType){case o.AnnotationType.LINK:return new ft(Mt);case o.AnnotationType.TEXT:return new yt(Mt);case o.AnnotationType.WIDGET:switch(Mt.data.fieldType){case"Tx":return new it(Mt);case"Btn":return Mt.data.radioButton?new ut(Mt):Mt.data.checkBox?new mt(Mt):new lt(Mt);case"Ch":return new ct(Mt);case"Sig":return new dt(Mt)}return new rt(Mt);case o.AnnotationType.POPUP:return new gt(Mt);case o.AnnotationType.FREETEXT:return new kt(Mt);case o.AnnotationType.LINE:return new ht(Mt);case o.AnnotationType.SQUARE:return new St(Mt);case o.AnnotationType.CIRCLE:return new At(Mt);case o.AnnotationType.POLYLINE:return new zt(Mt);case o.AnnotationType.CARET:return new $t(Mt);case o.AnnotationType.INK:return new Dt(Mt);case o.AnnotationType.POLYGON:return new Pt(Mt);case o.AnnotationType.HIGHLIGHT:return new Nt(Mt);case o.AnnotationType.UNDERLINE:return new Et(Mt);case o.AnnotationType.SQUIGGLY:return new vt(Mt);case o.AnnotationType.STRIKEOUT:return new jt(Mt);case o.AnnotationType.STAMP:return new xt(Mt);case o.AnnotationType.FILEATTACHMENT:return new nt(Mt);default:return new ot(Mt)}}}const Ct=class Ct{constructor(Mt,{isRenderable:Tt=!1,ignoreBorder:Ut=!1,createQuadrilaterals:rn=!1}={}){en(this,wt,!1);this.isRenderable=Tt,this.data=Mt.data,this.layer=Mt.layer,this.linkService=Mt.linkService,this.downloadManager=Mt.downloadManager,this.imageResourcesPath=Mt.imageResourcesPath,this.renderForms=Mt.renderForms,this.svgFactory=Mt.svgFactory,this.annotationStorage=Mt.annotationStorage,this.enableScripting=Mt.enableScripting,this.hasJSActions=Mt.hasJSActions,this._fieldObjects=Mt.fieldObjects,this.parent=Mt.parent,Tt&&(this.container=this._createContainer(Ut)),rn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Mt,contentsObj:Tt,richText:Ut}){return!!(Mt!=null&&Mt.str||Tt!=null&&Tt.str||Ut!=null&&Ut.str)}get hasPopupData(){return Ct._hasPopupData(this.data)}_createContainer(Mt){const{data:Tt,parent:{page:Ut,viewport:rn}}=this,on=document.createElement("section");on.setAttribute("data-annotation-id",Tt.id),this instanceof rt||(on.tabIndex=j),on.style.zIndex=this.parent.zIndex++,this.data.popupRef&&on.setAttribute("aria-haspopup","dialog"),Tt.noRotate&&on.classList.add("norotate");const{pageWidth:pn,pageHeight:mn,pageX:Tn,pageY:_n}=rn.rawDims;if(!Tt.rect||this instanceof gt){const{rotation:Mn}=Tt;return!Tt.hasOwnCanvas&&Mn!==0&&this.setRotation(Mn,on),on}const{width:kn,height:In}=st(Tt.rect),An=o.Util.normalizeRect([Tt.rect[0],Ut.view[3]-Tt.rect[1]+Ut.view[1],Tt.rect[2],Ut.view[3]-Tt.rect[3]+Ut.view[1]]);if(!Mt&&Tt.borderStyle.width>0){on.style.borderWidth=`${Tt.borderStyle.width}px`;const Mn=Tt.borderStyle.horizontalCornerRadius,On=Tt.borderStyle.verticalCornerRadius;if(Mn>0||On>0){const zn=`calc(${Mn}px * var(--scale-factor)) / calc(${On}px * var(--scale-factor))`;on.style.borderRadius=zn}else if(this instanceof ut){const zn=`calc(${kn}px * var(--scale-factor)) / calc(${In}px * var(--scale-factor))`;on.style.borderRadius=zn}switch(Tt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:on.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:on.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:on.style.borderBottomStyle="solid";break}const $n=Tt.borderColor||null;$n?(tn(this,wt,!0),on.style.borderColor=o.Util.makeHexColor($n[0]|0,$n[1]|0,$n[2]|0)):on.style.borderWidth=0}on.style.left=`${100*(An[0]-Tn)/pn}%`,on.style.top=`${100*(An[1]-_n)/mn}%`;const{rotation:Rn}=Tt;return Tt.hasOwnCanvas||Rn===0?(on.style.width=`${100*kn/pn}%`,on.style.height=`${100*In/mn}%`):this.setRotation(Rn,on),on}setRotation(Mt,Tt=this.container){if(!this.data.rect)return;const{pageWidth:Ut,pageHeight:rn}=this.parent.viewport.rawDims,{width:on,height:pn}=st(this.data.rect);let mn,Tn;Mt%180===0?(mn=100*on/Ut,Tn=100*pn/rn):(mn=100*pn/Ut,Tn=100*on/rn),Tt.style.width=`${mn}%`,Tt.style.height=`${Tn}%`,Tt.setAttribute("data-main-rotation",(360-Mt)%360)}get _commonActions(){const Mt=(Tt,Ut,rn)=>{const on=rn.detail[Tt],pn=on[0],mn=on.slice(1);rn.target.style[Ut]=d.ColorConverters[`${pn}_HTML`](mn),this.annotationStorage.setValue(this.data.id,{[Ut]:d.ColorConverters[`${pn}_rgb`](mn)})};return(0,o.shadow)(this,"_commonActions",{display:Tt=>{const{display:Ut}=Tt.detail,rn=Ut%2===1;this.container.style.visibility=rn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:rn,noPrint:Ut===1||Ut===2})},print:Tt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Tt.detail.print})},hidden:Tt=>{const{hidden:Ut}=Tt.detail;this.container.style.visibility=Ut?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ut,noView:Ut})},focus:Tt=>{setTimeout(()=>Tt.target.focus({preventScroll:!1}),0)},userName:Tt=>{Tt.target.title=Tt.detail.userName},readonly:Tt=>{Tt.target.disabled=Tt.detail.readonly},required:Tt=>{this._setRequired(Tt.target,Tt.detail.required)},bgColor:Tt=>{Mt("bgColor","backgroundColor",Tt)},fillColor:Tt=>{Mt("fillColor","backgroundColor",Tt)},fgColor:Tt=>{Mt("fgColor","color",Tt)},textColor:Tt=>{Mt("textColor","color",Tt)},borderColor:Tt=>{Mt("borderColor","borderColor",Tt)},strokeColor:Tt=>{Mt("strokeColor","borderColor",Tt)},rotation:Tt=>{const Ut=Tt.detail.rotation;this.setRotation(Ut),this.annotationStorage.setValue(this.data.id,{rotation:Ut})}})}_dispatchEventFromSandbox(Mt,Tt){const Ut=this._commonActions;for(const rn of Object.keys(Tt.detail)){const on=Mt[rn]||Ut[rn];on==null||on(Tt)}}_setDefaultPropertiesFromJS(Mt){if(!this.enableScripting)return;const Tt=this.annotationStorage.getRawValue(this.data.id);if(!Tt)return;const Ut=this._commonActions;for(const[rn,on]of Object.entries(Tt)){const pn=Ut[rn];if(pn){const mn={detail:{[rn]:on},target:Mt};pn(mn),delete Tt[rn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Mt}=this.data;if(!Mt)return;const[Tt,Ut,rn,on]=this.data.rect;if(Mt.length===1){const[,{x:On,y:$n},{x:zn,y:Hn}]=Mt[0];if(rn===On&&on===$n&&Tt===zn&&Ut===Hn)return}const{style:pn}=this.container;let mn;if(at(this,wt)){const{borderColor:On,borderWidth:$n}=pn;pn.borderWidth=0,mn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${On}" stroke-width="${$n}">`],this.container.classList.add("hasBorder")}const Tn=rn-Tt,_n=on-Ut,{svgFactory:kn}=this,In=kn.createElement("svg");In.classList.add("quadrilateralsContainer"),In.setAttribute("width",0),In.setAttribute("height",0);const An=kn.createElement("defs");In.append(An);const Rn=kn.createElement("clipPath"),Mn=`clippath_${this.data.id}`;Rn.setAttribute("id",Mn),Rn.setAttribute("clipPathUnits","objectBoundingBox"),An.append(Rn);for(const[,{x:On,y:$n},{x:zn,y:Hn}]of Mt){const Un=kn.createElement("rect"),Vn=(zn-Tt)/Tn,Xn=(on-$n)/_n,qn=(On-zn)/Tn,rs=($n-Hn)/_n;Un.setAttribute("x",Vn),Un.setAttribute("y",Xn),Un.setAttribute("width",qn),Un.setAttribute("height",rs),Rn.append(Un),mn==null||mn.push(`<rect vector-effect="non-scaling-stroke" x="${Vn}" y="${Xn}" width="${qn}" height="${rs}"/>`)}at(this,wt)&&(mn.push("</g></svg>')"),pn.backgroundImage=mn.join("")),this.container.append(In),this.container.style.clipPath=`url(#${Mn})`}_createPopup(){const{container:Mt,data:Tt}=this;Mt.setAttribute("aria-haspopup","dialog");const Ut=new gt({data:{color:Tt.color,titleObj:Tt.titleObj,modificationDate:Tt.modificationDate,contentsObj:Tt.contentsObj,richText:Tt.richText,parentRect:Tt.rect,borderStyle:0,id:`popup_${Tt.id}`,rotation:Tt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ut.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Mt,Tt=null){const Ut=[];if(this._fieldObjects){const rn=this._fieldObjects[Mt];if(rn)for(const{page:on,id:pn,exportValues:mn}of rn){if(on===-1||pn===Tt)continue;const Tn=typeof mn=="string"?mn:null,_n=document.querySelector(`[data-element-id="${pn}"]`);if(_n&&!et.has(_n)){(0,o.warn)(`_getElementsByName - element not allowed: ${pn}`);continue}Ut.push({id:pn,exportValue:Tn,domElement:_n})}return Ut}for(const rn of document.getElementsByName(Mt)){const{exportValue:on}=rn,pn=rn.getAttribute("data-element-id");pn!==Tt&&et.has(rn)&&Ut.push({id:pn,exportValue:on,domElement:rn})}return Ut}show(){var Mt;this.container&&(this.container.hidden=!1),(Mt=this.popup)==null||Mt.maybeShow()}hide(){var Mt;this.container&&(this.container.hidden=!0),(Mt=this.popup)==null||Mt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Mt=this.getElementsToTriggerPopup();if(Array.isArray(Mt))for(const Tt of Mt)Tt.classList.add("highlightArea");else Mt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Mt,data:{id:Tt}}=this;this.container.addEventListener("dblclick",()=>{var Ut;(Ut=this.linkService.eventBus)==null||Ut.dispatch("switchannotationeditormode",{source:this,mode:Mt,editId:Tt})})}};wt=new WeakMap;let ot=Ct;class ft extends ot{constructor(Tt,Ut=null){super(Tt,{isRenderable:!0,ignoreBorder:!!(Ut!=null&&Ut.ignoreBorder),createQuadrilaterals:!0});en(this,Rt);this.isTooltipOnly=Tt.data.isTooltipOnly}render(){const{data:Tt,linkService:Ut}=this,rn=document.createElement("a");rn.setAttribute("data-element-id",Tt.id);let on=!1;return Tt.url?(Ut.addLinkAttributes(rn,Tt.url,Tt.newWindow),on=!0):Tt.action?(this._bindNamedAction(rn,Tt.action),on=!0):Tt.attachment?(this._bindAttachment(rn,Tt.attachment),on=!0):Tt.setOCGState?(Gt(this,Rt,ks).call(this,rn,Tt.setOCGState),on=!0):Tt.dest?(this._bindLink(rn,Tt.dest),on=!0):(Tt.actions&&(Tt.actions.Action||Tt.actions["Mouse Up"]||Tt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(rn,Tt),on=!0),Tt.resetForm?(this._bindResetFormAction(rn,Tt.resetForm),on=!0):this.isTooltipOnly&&!on&&(this._bindLink(rn,""),on=!0)),this.container.classList.add("linkAnnotation"),on&&this.container.append(rn),this.container}_bindLink(Tt,Ut){Tt.href=this.linkService.getDestinationHash(Ut),Tt.onclick=()=>(Ut&&this.linkService.goToDestination(Ut),!1),(Ut||Ut==="")&&Gt(this,Rt,Yn).call(this)}_bindNamedAction(Tt,Ut){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>(this.linkService.executeNamedAction(Ut),!1),Gt(this,Rt,Yn).call(this)}_bindAttachment(Tt,Ut){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>{var rn;return(rn=this.downloadManager)==null||rn.openOrDownloadData(this.container,Ut.content,Ut.filename),!1},Gt(this,Rt,Yn).call(this)}_bindJSAction(Tt,Ut){Tt.href=this.linkService.getAnchorUrl("");const rn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const on of Object.keys(Ut.actions)){const pn=rn.get(on);pn&&(Tt[pn]=()=>{var mn;return(mn=this.linkService.eventBus)==null||mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ut.id,name:on}}),!1})}Tt.onclick||(Tt.onclick=()=>!1),Gt(this,Rt,Yn).call(this)}_bindResetFormAction(Tt,Ut){const rn=Tt.onclick;if(rn||(Tt.href=this.linkService.getAnchorUrl("")),Gt(this,Rt,Yn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),rn||(Tt.onclick=()=>!1);return}Tt.onclick=()=>{var In;rn==null||rn();const{fields:on,refs:pn,include:mn}=Ut,Tn=[];if(on.length!==0||pn.length!==0){const An=new Set(pn);for(const Rn of on){const Mn=this._fieldObjects[Rn]||[];for(const{id:On}of Mn)An.add(On)}for(const Rn of Object.values(this._fieldObjects))for(const Mn of Rn)An.has(Mn.id)===mn&&Tn.push(Mn)}else for(const An of Object.values(this._fieldObjects))Tn.push(...An);const _n=this.annotationStorage,kn=[];for(const An of Tn){const{id:Rn}=An;switch(kn.push(Rn),An.type){case"text":{const On=An.defaultValue||"";_n.setValue(Rn,{value:On});break}case"checkbox":case"radiobutton":{const On=An.defaultValue===An.exportValues;_n.setValue(Rn,{value:On});break}case"combobox":case"listbox":{const On=An.defaultValue||"";_n.setValue(Rn,{value:On});break}default:continue}const Mn=document.querySelector(`[data-element-id="${Rn}"]`);if(Mn){if(!et.has(Mn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Rn}`);continue}}else continue;Mn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:kn,name:"ResetForm"}})),!1}}}Rt=new WeakSet,Yn=function(){this.container.setAttribute("data-internal-link","")},ks=function(Tt,Ut){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>(this.linkService.executeSetOCGState(Ut),!1),Gt(this,Rt,Yn).call(this)};class yt extends ot{constructor(Mt){super(Mt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Mt=document.createElement("img");return Mt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Mt.alt="[{{type}} Annotation]",Mt.dataset.l10nId="text_annotation_type",Mt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Mt),this.container}}class rt extends ot{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Mt){var Tt;this.data.hasOwnCanvas&&(((Tt=Mt.previousSibling)==null?void 0:Tt.nodeName)==="CANVAS"&&(Mt.previousSibling.hidden=!0),Mt.hidden=!1)}_getKeyModifier(Mt){const{isWin:Tt,isMac:Ut}=o.FeatureTest.platform;return Tt&&Mt.ctrlKey||Ut&&Mt.metaKey}_setEventListener(Mt,Tt,Ut,rn,on){Ut.includes("mouse")?Mt.addEventListener(Ut,pn=>{var mn;(mn=this.linkService.eventBus)==null||mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:rn,value:on(pn),shift:pn.shiftKey,modifier:this._getKeyModifier(pn)}})}):Mt.addEventListener(Ut,pn=>{var mn;if(Ut==="blur"){if(!Tt.focused||!pn.relatedTarget)return;Tt.focused=!1}else if(Ut==="focus"){if(Tt.focused)return;Tt.focused=!0}on&&((mn=this.linkService.eventBus)==null||mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:rn,value:on(pn)}}))})}_setEventListeners(Mt,Tt,Ut,rn){var on,pn,mn;for(const[Tn,_n]of Ut)(_n==="Action"||(on=this.data.actions)!=null&&on[_n])&&((_n==="Focus"||_n==="Blur")&&(Tt||(Tt={focused:!1})),this._setEventListener(Mt,Tt,Tn,_n,rn),_n==="Focus"&&!((pn=this.data.actions)!=null&&pn.Blur)?this._setEventListener(Mt,Tt,"blur","Blur",null):_n==="Blur"&&!((mn=this.data.actions)!=null&&mn.Focus)&&this._setEventListener(Mt,Tt,"focus","Focus",null))}_setBackgroundColor(Mt){const Tt=this.data.backgroundColor||null;Mt.style.backgroundColor=Tt===null?"transparent":o.Util.makeHexColor(Tt[0],Tt[1],Tt[2])}_setTextStyle(Mt){const Tt=["left","center","right"],{fontColor:Ut}=this.data.defaultAppearanceData,rn=this.data.defaultAppearanceData.fontSize||_e,on=Mt.style;let pn;const mn=2,Tn=_n=>Math.round(10*_n)/10;if(this.data.multiLine){const _n=Math.abs(this.data.rect[3]-this.data.rect[1]-mn),kn=Math.round(_n/(o.LINE_FACTOR*rn))||1,In=_n/kn;pn=Math.min(rn,Tn(In/o.LINE_FACTOR))}else{const _n=Math.abs(this.data.rect[3]-this.data.rect[1]-mn);pn=Math.min(rn,Tn(_n/o.LINE_FACTOR))}on.fontSize=`calc(${pn}px * var(--scale-factor))`,on.color=o.Util.makeHexColor(Ut[0],Ut[1],Ut[2]),this.data.textAlignment!==null&&(on.textAlign=Tt[this.data.textAlignment])}_setRequired(Mt,Tt){Tt?Mt.setAttribute("required",!0):Mt.removeAttribute("required"),Mt.setAttribute("aria-required",Tt)}}class it extends rt{constructor(Mt){const Tt=Mt.renderForms||!Mt.data.hasAppearance&&!!Mt.data.fieldValue;super(Mt,{isRenderable:Tt})}setPropertyOnSiblings(Mt,Tt,Ut,rn){const on=this.annotationStorage;for(const pn of this._getElementsByName(Mt.name,Mt.id))pn.domElement&&(pn.domElement[Tt]=Ut),on.setValue(pn.id,{[rn]:Ut})}render(){var rn,on;const Mt=this.annotationStorage,Tt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ut=null;if(this.renderForms){const pn=Mt.getValue(Tt,{value:this.data.fieldValue});let mn=pn.value||"";const Tn=Mt.getValue(Tt,{charLimit:this.data.maxLen}).charLimit;Tn&&mn.length>Tn&&(mn=mn.slice(0,Tn));let _n=pn.formattedValue||((rn=this.data.textContent)==null?void 0:rn.join(`
`))||null;_n&&this.data.comb&&(_n=_n.replaceAll(/\s+/g,""));const kn={userValue:mn,formattedValue:_n,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ut=document.createElement("textarea"),Ut.textContent=_n??mn,this.data.doNotScroll&&(Ut.style.overflowY="hidden")):(Ut=document.createElement("input"),Ut.type="text",Ut.setAttribute("value",_n??mn),this.data.doNotScroll&&(Ut.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ut.hidden=!0),et.add(Ut),Ut.setAttribute("data-element-id",Tt),Ut.disabled=this.data.readOnly,Ut.name=this.data.fieldName,Ut.tabIndex=j,this._setRequired(Ut,this.data.required),Tn&&(Ut.maxLength=Tn),Ut.addEventListener("input",An=>{Mt.setValue(Tt,{value:An.target.value}),this.setPropertyOnSiblings(Ut,"value",An.target.value,"value"),kn.formattedValue=null}),Ut.addEventListener("resetform",An=>{const Rn=this.data.defaultFieldValue??"";Ut.value=kn.userValue=Rn,kn.formattedValue=null});let In=An=>{const{formattedValue:Rn}=kn;Rn!=null&&(An.target.value=Rn),An.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ut.addEventListener("focus",Rn=>{if(kn.focused)return;const{target:Mn}=Rn;kn.userValue&&(Mn.value=kn.userValue),kn.lastCommittedValue=Mn.value,kn.commitKey=1,kn.focused=!0}),Ut.addEventListener("updatefromsandbox",Rn=>{this.showElementAndHideCanvas(Rn.target);const Mn={value(On){kn.userValue=On.detail.value??"",Mt.setValue(Tt,{value:kn.userValue.toString()}),On.target.value=kn.userValue},formattedValue(On){const{formattedValue:$n}=On.detail;kn.formattedValue=$n,$n!=null&&On.target!==document.activeElement&&(On.target.value=$n),Mt.setValue(Tt,{formattedValue:$n})},selRange(On){On.target.setSelectionRange(...On.detail.selRange)},charLimit:On=>{var Un;const{charLimit:$n}=On.detail,{target:zn}=On;if($n===0){zn.removeAttribute("maxLength");return}zn.setAttribute("maxLength",$n);let Hn=kn.userValue;!Hn||Hn.length<=$n||(Hn=Hn.slice(0,$n),zn.value=kn.userValue=Hn,Mt.setValue(Tt,{value:Hn}),(Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Hn,willCommit:!0,commitKey:1,selStart:zn.selectionStart,selEnd:zn.selectionEnd}}))}};this._dispatchEventFromSandbox(Mn,Rn)}),Ut.addEventListener("keydown",Rn=>{var $n;kn.commitKey=1;let Mn=-1;if(Rn.key==="Escape"?Mn=0:Rn.key==="Enter"&&!this.data.multiLine?Mn=2:Rn.key==="Tab"&&(kn.commitKey=3),Mn===-1)return;const{value:On}=Rn.target;kn.lastCommittedValue!==On&&(kn.lastCommittedValue=On,kn.userValue=On,($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:On,willCommit:!0,commitKey:Mn,selStart:Rn.target.selectionStart,selEnd:Rn.target.selectionEnd}}))});const An=In;In=null,Ut.addEventListener("blur",Rn=>{var On;if(!kn.focused||!Rn.relatedTarget)return;kn.focused=!1;const{value:Mn}=Rn.target;kn.userValue=Mn,kn.lastCommittedValue!==Mn&&((On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Mn,willCommit:!0,commitKey:kn.commitKey,selStart:Rn.target.selectionStart,selEnd:Rn.target.selectionEnd}})),An(Rn)}),(on=this.data.actions)!=null&&on.Keystroke&&Ut.addEventListener("beforeinput",Rn=>{var Xn;kn.lastCommittedValue=null;const{data:Mn,target:On}=Rn,{value:$n,selectionStart:zn,selectionEnd:Hn}=On;let Un=zn,Vn=Hn;switch(Rn.inputType){case"deleteWordBackward":{const qn=$n.substring(0,zn).match(/\w*[^\w]*$/);qn&&(Un-=qn[0].length);break}case"deleteWordForward":{const qn=$n.substring(zn).match(/^[^\w]*\w*/);qn&&(Vn+=qn[0].length);break}case"deleteContentBackward":zn===Hn&&(Un-=1);break;case"deleteContentForward":zn===Hn&&(Vn+=1);break}Rn.preventDefault(),(Xn=this.linkService.eventBus)==null||Xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:$n,change:Mn||"",willCommit:!1,selStart:Un,selEnd:Vn}})}),this._setEventListeners(Ut,kn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Rn=>Rn.target.value)}if(In&&Ut.addEventListener("blur",In),this.data.comb){const Rn=(this.data.rect[2]-this.data.rect[0])/Tn;Ut.classList.add("comb"),Ut.style.letterSpacing=`calc(${Rn}px * var(--scale-factor) - 1ch)`}}else Ut=document.createElement("div"),Ut.textContent=this.data.fieldValue,Ut.style.verticalAlign="middle",Ut.style.display="table-cell";return this._setTextStyle(Ut),this._setBackgroundColor(Ut),this._setDefaultPropertiesFromJS(Ut),this.container.append(Ut),this.container}}class dt extends rt{constructor(Mt){super(Mt,{isRenderable:!!Mt.data.hasOwnCanvas})}}class mt extends rt{constructor(Mt){super(Mt,{isRenderable:Mt.renderForms})}render(){const Mt=this.annotationStorage,Tt=this.data,Ut=Tt.id;let rn=Mt.getValue(Ut,{value:Tt.exportValue===Tt.fieldValue}).value;typeof rn=="string"&&(rn=rn!=="Off",Mt.setValue(Ut,{value:rn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const on=document.createElement("input");return et.add(on),on.setAttribute("data-element-id",Ut),on.disabled=Tt.readOnly,this._setRequired(on,this.data.required),on.type="checkbox",on.name=Tt.fieldName,rn&&on.setAttribute("checked",!0),on.setAttribute("exportValue",Tt.exportValue),on.tabIndex=j,on.addEventListener("change",pn=>{const{name:mn,checked:Tn}=pn.target;for(const _n of this._getElementsByName(mn,Ut)){const kn=Tn&&_n.exportValue===Tt.exportValue;_n.domElement&&(_n.domElement.checked=kn),Mt.setValue(_n.id,{value:kn})}Mt.setValue(Ut,{value:Tn})}),on.addEventListener("resetform",pn=>{const mn=Tt.defaultFieldValue||"Off";pn.target.checked=mn===Tt.exportValue}),this.enableScripting&&this.hasJSActions&&(on.addEventListener("updatefromsandbox",pn=>{const mn={value(Tn){Tn.target.checked=Tn.detail.value!=="Off",Mt.setValue(Ut,{value:Tn.target.checked})}};this._dispatchEventFromSandbox(mn,pn)}),this._setEventListeners(on,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pn=>pn.target.checked)),this._setBackgroundColor(on),this._setDefaultPropertiesFromJS(on),this.container.append(on),this.container}}class ut extends rt{constructor(Mt){super(Mt,{isRenderable:Mt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Mt=this.annotationStorage,Tt=this.data,Ut=Tt.id;let rn=Mt.getValue(Ut,{value:Tt.fieldValue===Tt.buttonValue}).value;typeof rn=="string"&&(rn=rn!==Tt.buttonValue,Mt.setValue(Ut,{value:rn}));const on=document.createElement("input");if(et.add(on),on.setAttribute("data-element-id",Ut),on.disabled=Tt.readOnly,this._setRequired(on,this.data.required),on.type="radio",on.name=Tt.fieldName,rn&&on.setAttribute("checked",!0),on.tabIndex=j,on.addEventListener("change",pn=>{const{name:mn,checked:Tn}=pn.target;for(const _n of this._getElementsByName(mn,Ut))Mt.setValue(_n.id,{value:!1});Mt.setValue(Ut,{value:Tn})}),on.addEventListener("resetform",pn=>{const mn=Tt.defaultFieldValue;pn.target.checked=mn!=null&&mn===Tt.buttonValue}),this.enableScripting&&this.hasJSActions){const pn=Tt.buttonValue;on.addEventListener("updatefromsandbox",mn=>{const Tn={value:_n=>{const kn=pn===_n.detail.value;for(const In of this._getElementsByName(_n.target.name)){const An=kn&&In.id===Ut;In.domElement&&(In.domElement.checked=An),Mt.setValue(In.id,{value:An})}}};this._dispatchEventFromSandbox(Tn,mn)}),this._setEventListeners(on,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mn=>mn.target.checked)}return this._setBackgroundColor(on),this._setDefaultPropertiesFromJS(on),this.container.append(on),this.container}}class lt extends ft{constructor(Mt){super(Mt,{ignoreBorder:Mt.data.hasAppearance})}render(){const Mt=super.render();Mt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Mt.title=this.data.alternativeText);const Tt=Mt.lastChild;return this.enableScripting&&this.hasJSActions&&Tt&&(this._setDefaultPropertiesFromJS(Tt),Tt.addEventListener("updatefromsandbox",Ut=>{this._dispatchEventFromSandbox({},Ut)})),Mt}}class ct extends rt{constructor(Mt){super(Mt,{isRenderable:Mt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Mt=this.annotationStorage,Tt=this.data.id,Ut=Mt.getValue(Tt,{value:this.data.fieldValue}),rn=document.createElement("select");et.add(rn),rn.setAttribute("data-element-id",Tt),rn.disabled=this.data.readOnly,this._setRequired(rn,this.data.required),rn.name=this.data.fieldName,rn.tabIndex=j;let on=this.data.combo&&this.data.options.length>0;this.data.combo||(rn.size=this.data.options.length,this.data.multiSelect&&(rn.multiple=!0)),rn.addEventListener("resetform",kn=>{const In=this.data.defaultFieldValue;for(const An of rn.options)An.selected=An.value===In});for(const kn of this.data.options){const In=document.createElement("option");In.textContent=kn.displayValue,In.value=kn.exportValue,Ut.value.includes(kn.exportValue)&&(In.setAttribute("selected",!0),on=!1),rn.append(In)}let pn=null;if(on){const kn=document.createElement("option");kn.value=" ",kn.setAttribute("hidden",!0),kn.setAttribute("selected",!0),rn.prepend(kn),pn=()=>{kn.remove(),rn.removeEventListener("input",pn),pn=null},rn.addEventListener("input",pn)}const mn=kn=>{const In=kn?"value":"textContent",{options:An,multiple:Rn}=rn;return Rn?Array.prototype.filter.call(An,Mn=>Mn.selected).map(Mn=>Mn[In]):An.selectedIndex===-1?null:An[An.selectedIndex][In]};let Tn=mn(!1);const _n=kn=>{const In=kn.target.options;return Array.prototype.map.call(In,An=>({displayValue:An.textContent,exportValue:An.value}))};return this.enableScripting&&this.hasJSActions?(rn.addEventListener("updatefromsandbox",kn=>{const In={value(An){pn==null||pn();const Rn=An.detail.value,Mn=new Set(Array.isArray(Rn)?Rn:[Rn]);for(const On of rn.options)On.selected=Mn.has(On.value);Mt.setValue(Tt,{value:mn(!0)}),Tn=mn(!1)},multipleSelection(An){rn.multiple=!0},remove(An){const Rn=rn.options,Mn=An.detail.remove;Rn[Mn].selected=!1,rn.remove(Mn),Rn.length>0&&Array.prototype.findIndex.call(Rn,$n=>$n.selected)===-1&&(Rn[0].selected=!0),Mt.setValue(Tt,{value:mn(!0),items:_n(An)}),Tn=mn(!1)},clear(An){for(;rn.length!==0;)rn.remove(0);Mt.setValue(Tt,{value:null,items:[]}),Tn=mn(!1)},insert(An){const{index:Rn,displayValue:Mn,exportValue:On}=An.detail.insert,$n=rn.children[Rn],zn=document.createElement("option");zn.textContent=Mn,zn.value=On,$n?$n.before(zn):rn.append(zn),Mt.setValue(Tt,{value:mn(!0),items:_n(An)}),Tn=mn(!1)},items(An){const{items:Rn}=An.detail;for(;rn.length!==0;)rn.remove(0);for(const Mn of Rn){const{displayValue:On,exportValue:$n}=Mn,zn=document.createElement("option");zn.textContent=On,zn.value=$n,rn.append(zn)}rn.options.length>0&&(rn.options[0].selected=!0),Mt.setValue(Tt,{value:mn(!0),items:_n(An)}),Tn=mn(!1)},indices(An){const Rn=new Set(An.detail.indices);for(const Mn of An.target.options)Mn.selected=Rn.has(Mn.index);Mt.setValue(Tt,{value:mn(!0)}),Tn=mn(!1)},editable(An){An.target.disabled=!An.detail.editable}};this._dispatchEventFromSandbox(In,kn)}),rn.addEventListener("input",kn=>{var An;const In=mn(!0);Mt.setValue(Tt,{value:In}),kn.preventDefault(),(An=this.linkService.eventBus)==null||An.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Tn,changeEx:In,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(rn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],kn=>kn.target.value)):rn.addEventListener("input",function(kn){Mt.setValue(Tt,{value:mn(!0)})}),this.data.combo&&this._setTextStyle(rn),this._setBackgroundColor(rn),this._setDefaultPropertiesFromJS(rn),this.container.append(rn),this.container}}class gt extends ot{constructor(Mt){const{data:Tt,elements:Ut}=Mt;super(Mt,{isRenderable:ot._hasPopupData(Tt)}),this.elements=Ut}render(){this.container.classList.add("popupAnnotation");const Mt=new bt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Tt=[];for(const Ut of this.elements)Ut.popup=Mt,Tt.push(Ut.data.id),Ut.addHighlightArea();return this.container.setAttribute("aria-controls",Tt.map(Ut=>`${o.AnnotationPrefix}${Ut}`).join(",")),this.container}}class bt{constructor({container:Mt,color:Tt,elements:Ut,titleObj:rn,modificationDate:on,contentsObj:pn,richText:mn,parent:Tn,rect:_n,parentRect:kn,open:In}){en(this,Jt);en(this,Kt,null);en(this,nn,Gt(this,Jt,Ss).bind(this));en(this,sn,Gt(this,Jt,Xr).bind(this));en(this,cn,Gt(this,Jt,Gr).bind(this));en(this,ln,Gt(this,Jt,mr).bind(this));en(this,dn,null);en(this,Vt,null);en(this,Xt,null);en(this,_t,null);en(this,It,null);en(this,Wt,null);en(this,Qt,!1);en(this,an,null);en(this,gn,null);en(this,fn,null);en(this,qt,null);en(this,Ht,!1);var Rn;tn(this,Vt,Mt),tn(this,qt,rn),tn(this,Xt,pn),tn(this,fn,mn),tn(this,It,Tn),tn(this,dn,Tt),tn(this,gn,_n),tn(this,Wt,kn),tn(this,_t,Ut);const An=a.PDFDateString.toDateObject(on);An&&tn(this,Kt,Tn.l10n.get("annotation_date_string",{date:An.toLocaleDateString(),time:An.toLocaleTimeString()})),this.trigger=Ut.flatMap(Mn=>Mn.getElementsToTriggerPopup());for(const Mn of this.trigger)Mn.addEventListener("click",at(this,ln)),Mn.addEventListener("mouseenter",at(this,cn)),Mn.addEventListener("mouseleave",at(this,sn)),Mn.classList.add("popupTriggerArea");for(const Mn of Ut)(Rn=Mn.container)==null||Rn.addEventListener("keydown",at(this,nn));at(this,Vt).hidden=!0,In&&Gt(this,Jt,mr).call(this)}render(){if(at(this,an))return;const{page:{view:Mt},viewport:{rawDims:{pageWidth:Tt,pageHeight:Ut,pageX:rn,pageY:on}}}=at(this,It),pn=tn(this,an,document.createElement("div"));if(pn.className="popup",at(this,dn)){const Un=pn.style.outlineColor=o.Util.makeHexColor(...at(this,dn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?pn.style.backgroundColor=`color-mix(in srgb, ${Un} 30%, white)`:pn.style.backgroundColor=o.Util.makeHexColor(...at(this,dn).map(Xn=>Math.floor(.7*(255-Xn)+Xn)))}const mn=document.createElement("span");mn.className="header";const Tn=document.createElement("h1");if(mn.append(Tn),{dir:Tn.dir,str:Tn.textContent}=at(this,qt),pn.append(mn),at(this,Kt)){const Un=document.createElement("span");Un.classList.add("popupDate"),at(this,Kt).then(Vn=>{Un.textContent=Vn}),mn.append(Un)}const _n=at(this,Xt),kn=at(this,fn);if(kn!=null&&kn.str&&(!(_n!=null&&_n.str)||_n.str===kn.str))g.XfaLayer.render({xfaHtml:kn.html,intent:"richText",div:pn}),pn.lastChild.classList.add("richText","popupContent");else{const Un=this._formatContents(_n);pn.append(Un)}let In=!!at(this,Wt),An=In?at(this,Wt):at(this,gn);for(const Un of at(this,_t))if(!An||o.Util.intersect(Un.data.rect,An)!==null){An=Un.data.rect,In=!0;break}const Rn=o.Util.normalizeRect([An[0],Mt[3]-An[1]+Mt[1],An[2],Mt[3]-An[3]+Mt[1]]),On=In?An[2]-An[0]+5:0,$n=Rn[0]+On,zn=Rn[1],{style:Hn}=at(this,Vt);Hn.left=`${100*($n-rn)/Tt}%`,Hn.top=`${100*(zn-on)/Ut}%`,at(this,Vt).append(pn)}_formatContents({str:Mt,dir:Tt}){const Ut=document.createElement("p");Ut.classList.add("popupContent"),Ut.dir=Tt;const rn=Mt.split(/(?:\r\n?|\n)/);for(let on=0,pn=rn.length;on<pn;++on){const mn=rn[on];Ut.append(document.createTextNode(mn)),on<pn-1&&Ut.append(document.createElement("br"))}return Ut}forceHide(){tn(this,Ht,this.isVisible),at(this,Ht)&&(at(this,Vt).hidden=!0)}maybeShow(){at(this,Ht)&&(tn(this,Ht,!1),at(this,Vt).hidden=!1)}get isVisible(){return at(this,Vt).hidden===!1}}Kt=new WeakMap,nn=new WeakMap,sn=new WeakMap,cn=new WeakMap,ln=new WeakMap,dn=new WeakMap,Vt=new WeakMap,Xt=new WeakMap,_t=new WeakMap,It=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,an=new WeakMap,gn=new WeakMap,fn=new WeakMap,qt=new WeakMap,Ht=new WeakMap,Jt=new WeakSet,Ss=function(Mt){Mt.altKey||Mt.shiftKey||Mt.ctrlKey||Mt.metaKey||(Mt.key==="Enter"||Mt.key==="Escape"&&at(this,Qt))&&Gt(this,Jt,mr).call(this)},mr=function(){tn(this,Qt,!at(this,Qt)),at(this,Qt)?(Gt(this,Jt,Gr).call(this),at(this,Vt).addEventListener("click",at(this,ln)),at(this,Vt).addEventListener("keydown",at(this,nn))):(Gt(this,Jt,Xr).call(this),at(this,Vt).removeEventListener("click",at(this,ln)),at(this,Vt).removeEventListener("keydown",at(this,nn)))},Gr=function(){at(this,an)||this.render(),this.isVisible?at(this,Qt)&&at(this,Vt).classList.add("focused"):(at(this,Vt).hidden=!1,at(this,Vt).style.zIndex=parseInt(at(this,Vt).style.zIndex)+1e3)},Xr=function(){at(this,Vt).classList.remove("focused"),!(at(this,Qt)||!this.isVisible)&&(at(this,Vt).hidden=!0,at(this,Vt).style.zIndex=parseInt(at(this,Vt).style.zIndex)-1e3)};class kt extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Mt.data.textContent,this.textPosition=Mt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Mt=document.createElement("div");Mt.classList.add("annotationTextContent"),Mt.setAttribute("role","comment");for(const Tt of this.textContent){const Ut=document.createElement("span");Ut.textContent=Tt,Mt.append(Ut)}this.container.append(Mt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=kt;class ht extends ot{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});en(this,En,null)}render(){this.container.classList.add("lineAnnotation");const Tt=this.data,{width:Ut,height:rn}=st(Tt.rect),on=this.svgFactory.create(Ut,rn,!0),pn=tn(this,En,this.svgFactory.createElement("svg:line"));return pn.setAttribute("x1",Tt.rect[2]-Tt.lineCoordinates[0]),pn.setAttribute("y1",Tt.rect[3]-Tt.lineCoordinates[1]),pn.setAttribute("x2",Tt.rect[2]-Tt.lineCoordinates[2]),pn.setAttribute("y2",Tt.rect[3]-Tt.lineCoordinates[3]),pn.setAttribute("stroke-width",Tt.borderStyle.width||1),pn.setAttribute("stroke","transparent"),pn.setAttribute("fill","transparent"),on.append(pn),this.container.append(on),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,En)}addHighlightArea(){this.container.classList.add("highlightArea")}}En=new WeakMap;class St extends ot{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});en(this,Fn,null)}render(){this.container.classList.add("squareAnnotation");const Tt=this.data,{width:Ut,height:rn}=st(Tt.rect),on=this.svgFactory.create(Ut,rn,!0),pn=Tt.borderStyle.width,mn=tn(this,Fn,this.svgFactory.createElement("svg:rect"));return mn.setAttribute("x",pn/2),mn.setAttribute("y",pn/2),mn.setAttribute("width",Ut-pn),mn.setAttribute("height",rn-pn),mn.setAttribute("stroke-width",pn||1),mn.setAttribute("stroke","transparent"),mn.setAttribute("fill","transparent"),on.append(mn),this.container.append(on),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fn=new WeakMap;class At extends ot{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});en(this,Dn,null)}render(){this.container.classList.add("circleAnnotation");const Tt=this.data,{width:Ut,height:rn}=st(Tt.rect),on=this.svgFactory.create(Ut,rn,!0),pn=Tt.borderStyle.width,mn=tn(this,Dn,this.svgFactory.createElement("svg:ellipse"));return mn.setAttribute("cx",Ut/2),mn.setAttribute("cy",rn/2),mn.setAttribute("rx",Ut/2-pn/2),mn.setAttribute("ry",rn/2-pn/2),mn.setAttribute("stroke-width",pn||1),mn.setAttribute("stroke","transparent"),mn.setAttribute("fill","transparent"),on.append(mn),this.container.append(on),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Dn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dn=new WeakMap;class zt extends ot{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});en(this,hn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Tt=this.data,{width:Ut,height:rn}=st(Tt.rect),on=this.svgFactory.create(Ut,rn,!0);let pn=[];for(const Tn of Tt.vertices){const _n=Tn.x-Tt.rect[0],kn=Tt.rect[3]-Tn.y;pn.push(_n+","+kn)}pn=pn.join(" ");const mn=tn(this,hn,this.svgFactory.createElement(this.svgElementName));return mn.setAttribute("points",pn),mn.setAttribute("stroke-width",Tt.borderStyle.width||1),mn.setAttribute("stroke","transparent"),mn.setAttribute("fill","transparent"),on.append(mn),this.container.append(on),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap;class Pt extends zt{constructor(Mt){super(Mt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $t extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Dt extends ot{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});en(this,Yt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Tt=this.data,{width:Ut,height:rn}=st(Tt.rect),on=this.svgFactory.create(Ut,rn,!0);for(const pn of Tt.inkLists){let mn=[];for(const _n of pn){const kn=_n.x-Tt.rect[0],In=Tt.rect[3]-_n.y;mn.push(`${kn},${In}`)}mn=mn.join(" ");const Tn=this.svgFactory.createElement(this.svgElementName);at(this,Yt).push(Tn),Tn.setAttribute("points",mn),Tn.setAttribute("stroke-width",Tt.borderStyle.width||1),Tn.setAttribute("stroke","transparent"),Tn.setAttribute("fill","transparent"),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),on.append(Tn)}return this.container.append(on),this.container}getElementsToTriggerPopup(){return at(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap,i.InkAnnotationElement=Dt;class Nt extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Et extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class vt extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class jt extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xt extends ot{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=xt;class nt extends ot{constructor(Tt){var on;super(Tt,{isRenderable:!0});en(this,wn);en(this,Zt,null);const{filename:Ut,content:rn}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(Ut,!0),this.content=rn,(on=this.linkService.eventBus)==null||on.dispatch("fileattachmentannotation",{source:this,filename:Ut,content:rn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Tt,data:Ut}=this;let rn;Ut.hasAppearance||Ut.fillAlpha===0?rn=document.createElement("div"):(rn=document.createElement("img"),rn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ut.name)?"paperclip":"pushpin"}.svg`,Ut.fillAlpha&&Ut.fillAlpha<1&&(rn.style=`filter: opacity(${Math.round(Ut.fillAlpha*100)}%);`)),rn.addEventListener("dblclick",Gt(this,wn,qr).bind(this)),tn(this,Zt,rn);const{isMac:on}=o.FeatureTest.platform;return Tt.addEventListener("keydown",pn=>{pn.key==="Enter"&&(on?pn.metaKey:pn.ctrlKey)&&Gt(this,wn,qr).call(this)}),!Ut.popupRef&&this.hasPopupData?this._createPopup():rn.classList.add("popupTriggerArea"),Tt.append(rn),Tt}getElementsToTriggerPopup(){return at(this,Zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zt=new WeakMap,wn=new WeakSet,qr=function(){var Tt;(Tt=this.downloadManager)==null||Tt.openOrDownloadData(this.container,this.content,this.filename)};class pt{constructor({div:Mt,accessibilityManager:Tt,annotationCanvasMap:Ut,l10n:rn,page:on,viewport:pn}){en(this,yn);en(this,Nn,null);en(this,Ot,null);en(this,un,new Map);this.div=Mt,tn(this,Nn,Tt),tn(this,Ot,Ut),this.l10n=rn,this.page=on,this.viewport=pn,this.zIndex=0,this.l10n||(this.l10n=b.NullL10n)}async render(Mt){const{annotations:Tt}=Mt,Ut=this.div;(0,a.setLayerDimensions)(Ut,this.viewport);const rn=new Map,on={data:null,layer:Ut,linkService:Mt.linkService,downloadManager:Mt.downloadManager,imageResourcesPath:Mt.imageResourcesPath||"",renderForms:Mt.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:Mt.annotationStorage||new c.AnnotationStorage,enableScripting:Mt.enableScripting===!0,hasJSActions:Mt.hasJSActions,fieldObjects:Mt.fieldObjects,parent:this,elements:null};for(const pn of Tt){if(pn.noHTML)continue;const mn=pn.annotationType===o.AnnotationType.POPUP;if(mn){const kn=rn.get(pn.id);if(!kn)continue;on.elements=kn}else{const{width:kn,height:In}=st(pn.rect);if(kn<=0||In<=0)continue}on.data=pn;const Tn=tt.create(on);if(!Tn.isRenderable)continue;if(!mn&&pn.popupRef){const kn=rn.get(pn.popupRef);kn?kn.push(Tn):rn.set(pn.popupRef,[Tn])}Tn.annotationEditorType>0&&at(this,un).set(Tn.data.id,Tn);const _n=Tn.render();pn.hidden&&(_n.style.visibility="hidden"),Gt(this,yn,ws).call(this,_n,pn.id)}Gt(this,yn,Yr).call(this),await this.l10n.translate(Ut)}update({viewport:Mt}){const Tt=this.div;this.viewport=Mt,(0,a.setLayerDimensions)(Tt,{rotation:Mt.rotation}),Gt(this,yn,Yr).call(this),Tt.hidden=!1}getEditableAnnotations(){return Array.from(at(this,un).values())}getEditableAnnotation(Mt){return at(this,un).get(Mt)}}Nn=new WeakMap,Ot=new WeakMap,un=new WeakMap,yn=new WeakSet,ws=function(Mt,Tt){var rn;const Ut=Mt.firstChild||Mt;Ut.id=`${o.AnnotationPrefix}${Tt}`,this.div.append(Mt),(rn=at(this,Nn))==null||rn.moveElementInDOM(this.div,Mt,Ut,!1)},Yr=function(){if(!at(this,Ot))return;const Mt=this.div;for(const[Tt,Ut]of at(this,Ot)){const rn=Mt.querySelector(`[data-annotation-id="${Tt}"]`);if(!rn)continue;const{firstChild:on}=rn;on?on.nodeName==="CANVAS"?on.replaceWith(Ut):on.before(Ut):rn.append(Ut)}at(this,Ot).clear()},i.AnnotationLayer=pt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function o(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([d,b,g,j]){return["G",1-Math.min(1,.3*d+.59*g+.11*b+j)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const b=s(d);return`#${b}${b}${b}`}static RGB_G([d,b,g]){return["G",.3*d+.59*b+.11*g]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,b,g,j]){return["RGB",1-Math.min(1,d+j),1-Math.min(1,g+j),1-Math.min(1,b+j)]}static CMYK_rgb([d,b,g,j]){return[o(1-Math.min(1,d+j)),o(1-Math.min(1,g+j)),o(1-Math.min(1,b+j))]}static CMYK_HTML(d){const b=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(b)}static RGB_CMYK([d,b,g]){const j=1-d,_e=1-b,et=1-g,st=Math.min(j,_e,et);return["CMYK",j,_e,et,st]}}i.ColorConverters=a},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(d,b){switch(d){case"find_match_count":d=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return s[d]||""}function a(d,b){return b?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,j)=>j in b?b[j]:"{{"+j+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,b=null,g=o(d,b)){return a(g,b)},async translate(d){}};i.NullL10n=c},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(25);class a{static setupStorage(d,b,g,j,_e){const et=j.getValue(b,{value:null});switch(g.name){case"textarea":if(et.value!==null&&(d.textContent=et.value),_e==="print")break;d.addEventListener("input",st=>{j.setValue(b,{value:st.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(et.value===g.attributes.xfaOn?d.setAttribute("checked",!0):et.value===g.attributes.xfaOff&&d.removeAttribute("checked"),_e==="print")break;d.addEventListener("change",st=>{j.setValue(b,{value:st.target.checked?st.target.getAttribute("xfaOn"):st.target.getAttribute("xfaOff")})})}else{if(et.value!==null&&d.setAttribute("value",et.value),_e==="print")break;d.addEventListener("input",st=>{j.setValue(b,{value:st.target.value})})}break;case"select":if(et.value!==null){d.setAttribute("value",et.value);for(const st of g.children)st.attributes.value===et.value?st.attributes.selected=!0:st.attributes.hasOwnProperty("selected")&&delete st.attributes.selected}d.addEventListener("input",st=>{const tt=st.target.options,ot=tt.selectedIndex===-1?"":tt[tt.selectedIndex].value;j.setValue(b,{value:ot})});break}}static setAttributes({html:d,element:b,storage:g=null,intent:j,linkService:_e}){const{attributes:et}=b,st=d instanceof HTMLAnchorElement;et.type==="radio"&&(et.name=`${et.name}-${j}`);for(const[tt,ot]of Object.entries(et))if(ot!=null)switch(tt){case"class":ot.length&&d.setAttribute(tt,ot.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",ot);break;case"style":Object.assign(d.style,ot);break;case"textContent":d.textContent=ot;break;default:(!st||tt!=="href"&&tt!=="newWindow")&&d.setAttribute(tt,ot)}st&&_e.addLinkAttributes(d,et.href,et.newWindow),g&&et.dataId&&this.setupStorage(d,et.dataId,b,g)}static render(d){var ft;const b=d.annotationStorage,g=d.linkService,j=d.xfaHtml,_e=d.intent||"display",et=document.createElement(j.name);j.attributes&&this.setAttributes({html:et,element:j,intent:_e,linkService:g});const st=[[j,-1,et]],tt=d.div;if(tt.append(et),d.viewport){const yt=`matrix(${d.viewport.transform.join(",")})`;tt.style.transform=yt}_e!=="richText"&&tt.setAttribute("class","xfaLayer xfaFont");const ot=[];for(;st.length>0;){const[yt,rt,it]=st.at(-1);if(rt+1===yt.children.length){st.pop();continue}const dt=yt.children[++st.at(-1)[1]];if(dt===null)continue;const{name:mt}=dt;if(mt==="#text"){const lt=document.createTextNode(dt.value);ot.push(lt),it.append(lt);continue}const ut=(ft=dt==null?void 0:dt.attributes)!=null&&ft.xmlns?document.createElementNS(dt.attributes.xmlns,mt):document.createElement(mt);if(it.append(ut),dt.attributes&&this.setAttributes({html:ut,element:dt,storage:b,intent:_e,linkService:g}),dt.children&&dt.children.length>0)st.push([dt,-1,ut]);else if(dt.value){const lt=document.createTextNode(dt.value);o.XfaText.shouldBuildText(mt)&&ot.push(lt),ut.append(lt)}}for(const yt of tt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))yt.setAttribute("readOnly",!0);return{textDivs:ot}}static update(d){const b=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=b,d.div.hidden=!1}}i.XfaLayer=a},(e,i,s)=>{var j,_e,et,st,tt,ot,ft,yt,rt,it,dt,mt,ut,lt,ct,xs,Es,_s,As,Kr,Cs,Qr,Ts,Ps,Rs,Ls,Fs,Gn,Jr,yr,vr,Zn,Zr,br,Rt,Ms,_i,Is,Ds,es,kr,er;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),a=s(4),c=s(29),d=s(6),b=s(5);const dn=class dn extends a.AnnotationEditor{constructor(_t){super({..._t,name:"inkEditor"});en(this,ct);en(this,j,0);en(this,_e,0);en(this,et,this.canvasPointermove.bind(this));en(this,st,this.canvasPointerleave.bind(this));en(this,tt,this.canvasPointerup.bind(this));en(this,ot,this.canvasPointerdown.bind(this));en(this,ft,new Path2D);en(this,yt,!1);en(this,rt,!1);en(this,it,!1);en(this,dt,null);en(this,mt,0);en(this,ut,0);en(this,lt,null);this.color=_t.color||null,this.thickness=_t.thickness||null,this.opacity=_t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_t){a.AnnotationEditor.initialize(_t,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(_t,It){switch(_t){case o.AnnotationEditorParamsType.INK_THICKNESS:dn._defaultThickness=It;break;case o.AnnotationEditorParamsType.INK_COLOR:dn._defaultColor=It;break;case o.AnnotationEditorParamsType.INK_OPACITY:dn._defaultOpacity=It/100;break}}updateParams(_t,It){switch(_t){case o.AnnotationEditorParamsType.INK_THICKNESS:Gt(this,ct,xs).call(this,It);break;case o.AnnotationEditorParamsType.INK_COLOR:Gt(this,ct,Es).call(this,It);break;case o.AnnotationEditorParamsType.INK_OPACITY:Gt(this,ct,_s).call(this,It);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,dn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,dn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(dn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||dn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Gt(this,ct,yr).call(this),Gt(this,ct,vr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Gt(this,ct,Zn).call(this)),Gt(this,ct,er).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,at(this,dt).disconnect(),tn(this,dt,null),super.remove())}setParent(_t){!this.parent&&_t?this._uiManager.removeShouldRescale(this):this.parent&&_t===null&&this._uiManager.addShouldRescale(this),super.setParent(_t)}onScaleChanging(){const[_t,It]=this.parentDimensions,Wt=this.width*_t,Qt=this.height*It;this.setDimensions(Wt,Qt)}enableEditMode(){at(this,yt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",at(this,ot)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",at(this,ot)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){at(this,yt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),tn(this,yt,!0),this.div.classList.add("disabled"),Gt(this,ct,er).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_t){this._focusEventsAllowed&&(super.focusin(_t),this.enableEditMode())}canvasPointerdown(_t){_t.button!==0||!this.isInEditMode()||at(this,yt)||(this.setInForeground(),_t.preventDefault(),_t.type!=="mouse"&&this.div.focus(),Gt(this,ct,Cs).call(this,_t.offsetX,_t.offsetY))}canvasPointermove(_t){_t.preventDefault(),Gt(this,ct,Qr).call(this,_t.offsetX,_t.offsetY)}canvasPointerup(_t){_t.preventDefault(),Gt(this,ct,Jr).call(this,_t)}canvasPointerleave(_t){Gt(this,ct,Jr).call(this,_t)}get isResizable(){return!this.isEmpty()&&at(this,yt)}render(){if(this.div)return this.div;let _t,It;this.width&&(_t=this.x,It=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(fn=>{var qt;return(qt=this.div)==null?void 0:qt.setAttribute("aria-label",fn)});const[Wt,Qt,an,gn]=Gt(this,ct,As).call(this);if(this.setAt(Wt,Qt,0,0),this.setDims(an,gn),Gt(this,ct,yr).call(this),this.width){const[fn,qt]=this.parentDimensions;this.setAspectRatio(this.width*fn,this.height*qt),this.setAt(_t*fn,It*qt,this.width*fn,this.height*qt),tn(this,it,!0),Gt(this,ct,Zn).call(this),this.setDims(this.width*fn,this.height*qt),Gt(this,ct,Gn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Gt(this,ct,vr).call(this),this.div}setDimensions(_t,It){const Wt=Math.round(_t),Qt=Math.round(It);if(at(this,mt)===Wt&&at(this,ut)===Qt)return;tn(this,mt,Wt),tn(this,ut,Qt),this.canvas.style.visibility="hidden";const[an,gn]=this.parentDimensions;this.width=_t/an,this.height=It/gn,this.fixAndSetPosition(),at(this,yt)&&Gt(this,ct,Zr).call(this,_t,It),Gt(this,ct,Zn).call(this),Gt(this,ct,Gn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_t,It,Wt){var En,Fn,Dn;if(_t instanceof c.InkAnnotationElement)return null;const Qt=super.deserialize(_t,It,Wt);Qt.thickness=_t.thickness,Qt.color=o.Util.makeHexColor(..._t.color),Qt.opacity=_t.opacity;const[an,gn]=Qt.pageDimensions,fn=Qt.width*an,qt=Qt.height*gn,Ht=Qt.parentScale,Jt=_t.thickness/2;tn(Qt,yt,!0),tn(Qt,mt,Math.round(fn)),tn(Qt,ut,Math.round(qt));const{paths:vn,rect:bn,rotation:Pn}=_t;for(let{bezier:hn}of vn){hn=Gt(En=dn,Rt,Is).call(En,hn,bn,Pn);const Yt=[];Qt.paths.push(Yt);let Zt=Ht*(hn[0]-Jt),wn=Ht*(hn[1]-Jt);for(let Nn=2,Ot=hn.length;Nn<Ot;Nn+=6){const un=Ht*(hn[Nn]-Jt),yn=Ht*(hn[Nn+1]-Jt),Cn=Ht*(hn[Nn+2]-Jt),Ln=Ht*(hn[Nn+3]-Jt),xn=Ht*(hn[Nn+4]-Jt),Mt=Ht*(hn[Nn+5]-Jt);Yt.push([[Zt,wn],[un,yn],[Cn,Ln],[xn,Mt]]),Zt=xn,wn=Mt}const jn=Gt(this,Rt,Ms).call(this,Yt);Qt.bezierPath2D.push(jn)}const Sn=Gt(Fn=Qt,ct,es).call(Fn);return tn(Qt,_e,Math.max(a.AnnotationEditor.MIN_SIZE,Sn[2]-Sn[0])),tn(Qt,j,Math.max(a.AnnotationEditor.MIN_SIZE,Sn[3]-Sn[1])),Gt(Dn=Qt,ct,Zr).call(Dn,fn,qt),Qt}serialize(){if(this.isEmpty())return null;const _t=this.getRect(0,0),It=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:It,thickness:this.thickness,opacity:this.opacity,paths:Gt(this,ct,Ds).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_t),pageIndex:this.pageIndex,rect:_t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};j=new WeakMap,_e=new WeakMap,et=new WeakMap,st=new WeakMap,tt=new WeakMap,ot=new WeakMap,ft=new WeakMap,yt=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,mt=new WeakMap,ut=new WeakMap,lt=new WeakMap,ct=new WeakSet,xs=function(_t){const It=this.thickness;this.addCommands({cmd:()=>{this.thickness=_t,Gt(this,ct,er).call(this)},undo:()=>{this.thickness=It,Gt(this,ct,er).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Es=function(_t){const It=this.color;this.addCommands({cmd:()=>{this.color=_t,Gt(this,ct,Gn).call(this)},undo:()=>{this.color=It,Gt(this,ct,Gn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_s=function(_t){_t/=100;const It=this.opacity;this.addCommands({cmd:()=>{this.opacity=_t,Gt(this,ct,Gn).call(this)},undo:()=>{this.opacity=It,Gt(this,ct,Gn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},As=function(){const{parentRotation:_t,parentDimensions:[It,Wt]}=this;switch(_t){case 90:return[0,Wt,Wt,It];case 180:return[It,Wt,It,Wt];case 270:return[It,0,Wt,It];default:return[0,0,It,Wt]}},Kr=function(){const{ctx:_t,color:It,opacity:Wt,thickness:Qt,parentScale:an,scaleFactor:gn}=this;_t.lineWidth=Qt*an/gn,_t.lineCap="round",_t.lineJoin="round",_t.miterLimit=10,_t.strokeStyle=`${It}${(0,b.opacityToHex)(Wt)}`},Cs=function(_t,It){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",at(this,st)),this.canvas.addEventListener("pointermove",at(this,et)),this.canvas.addEventListener("pointerup",at(this,tt)),this.canvas.removeEventListener("pointerdown",at(this,ot)),this.isEditing=!0,at(this,it)||(tn(this,it,!0),Gt(this,ct,Zn).call(this),this.thickness||(this.thickness=dn._defaultThickness),this.color||(this.color=dn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dn._defaultOpacity)),this.currentPath.push([_t,It]),tn(this,rt,!1),Gt(this,ct,Kr).call(this),tn(this,lt,()=>{Gt(this,ct,Rs).call(this),at(this,lt)&&window.requestAnimationFrame(at(this,lt))}),window.requestAnimationFrame(at(this,lt))},Qr=function(_t,It){const[Wt,Qt]=this.currentPath.at(-1);if(this.currentPath.length>1&&_t===Wt&&It===Qt)return;const an=this.currentPath;let gn=at(this,ft);if(an.push([_t,It]),tn(this,rt,!0),an.length<=2){gn.moveTo(...an[0]),gn.lineTo(_t,It);return}an.length===3&&(tn(this,ft,gn=new Path2D),gn.moveTo(...an[0])),Gt(this,ct,Ls).call(this,gn,...an.at(-3),...an.at(-2),_t,It)},Ts=function(){if(this.currentPath.length===0)return;const _t=this.currentPath.at(-1);at(this,ft).lineTo(..._t)},Ps=function(_t,It){tn(this,lt,null),_t=Math.min(Math.max(_t,0),this.canvas.width),It=Math.min(Math.max(It,0),this.canvas.height),Gt(this,ct,Qr).call(this,_t,It),Gt(this,ct,Ts).call(this);let Wt;if(this.currentPath.length!==1)Wt=Gt(this,ct,Fs).call(this);else{const qt=[_t,It];Wt=[[qt,qt.slice(),qt.slice(),qt]]}const Qt=at(this,ft),an=this.currentPath;this.currentPath=[],tn(this,ft,new Path2D);const gn=()=>{this.allRawPaths.push(an),this.paths.push(Wt),this.bezierPath2D.push(Qt),this.rebuild()},fn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Gt(this,ct,yr).call(this),Gt(this,ct,vr).call(this)),Gt(this,ct,er).call(this))};this.addCommands({cmd:gn,undo:fn,mustExec:!0})},Rs=function(){if(!at(this,rt))return;tn(this,rt,!1);const _t=Math.ceil(this.thickness*this.parentScale),It=this.currentPath.slice(-3),Wt=It.map(gn=>gn[0]),Qt=It.map(gn=>gn[1]);Math.min(...Wt)-_t,Math.max(...Wt)+_t,Math.min(...Qt)-_t,Math.max(...Qt)+_t;const{ctx:an}=this;an.save(),an.clearRect(0,0,this.canvas.width,this.canvas.height);for(const gn of this.bezierPath2D)an.stroke(gn);an.stroke(at(this,ft)),an.restore()},Ls=function(_t,It,Wt,Qt,an,gn,fn){const qt=(It+Qt)/2,Ht=(Wt+an)/2,Jt=(Qt+gn)/2,vn=(an+fn)/2;_t.bezierCurveTo(qt+2*(Qt-qt)/3,Ht+2*(an-Ht)/3,Jt+2*(Qt-Jt)/3,vn+2*(an-vn)/3,Jt,vn)},Fs=function(){const _t=this.currentPath;if(_t.length<=2)return[[_t[0],_t[0],_t.at(-1),_t.at(-1)]];const It=[];let Wt,[Qt,an]=_t[0];for(Wt=1;Wt<_t.length-2;Wt++){const[bn,Pn]=_t[Wt],[Sn,En]=_t[Wt+1],Fn=(bn+Sn)/2,Dn=(Pn+En)/2,hn=[Qt+2*(bn-Qt)/3,an+2*(Pn-an)/3],Yt=[Fn+2*(bn-Fn)/3,Dn+2*(Pn-Dn)/3];It.push([[Qt,an],hn,Yt,[Fn,Dn]]),[Qt,an]=[Fn,Dn]}const[gn,fn]=_t[Wt],[qt,Ht]=_t[Wt+1],Jt=[Qt+2*(gn-Qt)/3,an+2*(fn-an)/3],vn=[qt+2*(gn-qt)/3,Ht+2*(fn-Ht)/3];return It.push([[Qt,an],Jt,vn,[qt,Ht]]),It},Gn=function(){if(this.isEmpty()){Gt(this,ct,br).call(this);return}Gt(this,ct,Kr).call(this);const{canvas:_t,ctx:It}=this;It.setTransform(1,0,0,1,0,0),It.clearRect(0,0,_t.width,_t.height),Gt(this,ct,br).call(this);for(const Wt of this.bezierPath2D)It.stroke(Wt)},Jr=function(_t){this.canvas.removeEventListener("pointerleave",at(this,st)),this.canvas.removeEventListener("pointermove",at(this,et)),this.canvas.removeEventListener("pointerup",at(this,tt)),this.canvas.addEventListener("pointerdown",at(this,ot)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Gt(this,ct,Ps).call(this,_t.offsetX,_t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},yr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(_t=>{var It;return(It=this.canvas)==null?void 0:It.setAttribute("aria-label",_t)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vr=function(){tn(this,dt,new ResizeObserver(_t=>{const It=_t[0].contentRect;It.width&&It.height&&this.setDimensions(It.width,It.height)})),at(this,dt).observe(this.div)},Zn=function(){if(!at(this,it))return;const[_t,It]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_t),this.canvas.height=Math.ceil(this.height*It),Gt(this,ct,br).call(this)},Zr=function(_t,It){const Wt=Gt(this,ct,kr).call(this),Qt=(_t-Wt)/at(this,_e),an=(It-Wt)/at(this,j);this.scaleFactor=Math.min(Qt,an)},br=function(){const _t=Gt(this,ct,kr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_t,this.translationY*this.scaleFactor+_t)},Rt=new WeakSet,Ms=function(_t){const It=new Path2D;for(let Wt=0,Qt=_t.length;Wt<Qt;Wt++){const[an,gn,fn,qt]=_t[Wt];Wt===0&&It.moveTo(...an),It.bezierCurveTo(gn[0],gn[1],fn[0],fn[1],qt[0],qt[1])}return It},_i=function(_t,It,Wt){const[Qt,an,gn,fn]=It;switch(Wt){case 0:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2)_t[qt]+=Qt,_t[qt+1]=fn-_t[qt+1];break;case 90:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2){const Jt=_t[qt];_t[qt]=_t[qt+1]+Qt,_t[qt+1]=Jt+an}break;case 180:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2)_t[qt]=gn-_t[qt],_t[qt+1]+=an;break;case 270:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2){const Jt=_t[qt];_t[qt]=gn-_t[qt+1],_t[qt+1]=fn-Jt}break;default:throw new Error("Invalid rotation")}return _t},Is=function(_t,It,Wt){const[Qt,an,gn,fn]=It;switch(Wt){case 0:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2)_t[qt]-=Qt,_t[qt+1]=fn-_t[qt+1];break;case 90:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2){const Jt=_t[qt];_t[qt]=_t[qt+1]-an,_t[qt+1]=Jt-Qt}break;case 180:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2)_t[qt]=gn-_t[qt],_t[qt+1]-=an;break;case 270:for(let qt=0,Ht=_t.length;qt<Ht;qt+=2){const Jt=_t[qt];_t[qt]=fn-_t[qt+1],_t[qt+1]=gn-Jt}break;default:throw new Error("Invalid rotation")}return _t},Ds=function(_t,It,Wt,Qt){var Ht,Jt;const an=[],gn=this.thickness/2,fn=_t*It+gn,qt=_t*Wt+gn;for(const vn of this.paths){const bn=[],Pn=[];for(let Sn=0,En=vn.length;Sn<En;Sn++){const[Fn,Dn,hn,Yt]=vn[Sn],Zt=_t*Fn[0]+fn,wn=_t*Fn[1]+qt,jn=_t*Dn[0]+fn,Nn=_t*Dn[1]+qt,Ot=_t*hn[0]+fn,un=_t*hn[1]+qt,yn=_t*Yt[0]+fn,Cn=_t*Yt[1]+qt;Sn===0&&(bn.push(Zt,wn),Pn.push(Zt,wn)),bn.push(jn,Nn,Ot,un,yn,Cn),Pn.push(jn,Nn),Sn===En-1&&Pn.push(yn,Cn)}an.push({bezier:Gt(Ht=dn,Rt,_i).call(Ht,bn,Qt,this.rotation),points:Gt(Jt=dn,Rt,_i).call(Jt,Pn,Qt,this.rotation)})}return an},es=function(){let _t=1/0,It=-1/0,Wt=1/0,Qt=-1/0;for(const an of this.paths)for(const[gn,fn,qt,Ht]of an){const Jt=o.Util.bezierBoundingBox(...gn,...fn,...qt,...Ht);_t=Math.min(_t,Jt[0]),Wt=Math.min(Wt,Jt[1]),It=Math.max(It,Jt[2]),Qt=Math.max(Qt,Jt[3])}return[_t,Wt,It,Qt]},kr=function(){return at(this,yt)?Math.ceil(this.thickness*this.parentScale):0},er=function(_t=!1){if(this.isEmpty())return;if(!at(this,yt)){Gt(this,ct,Gn).call(this);return}const It=Gt(this,ct,es).call(this),Wt=Gt(this,ct,kr).call(this);tn(this,_e,Math.max(a.AnnotationEditor.MIN_SIZE,It[2]-It[0])),tn(this,j,Math.max(a.AnnotationEditor.MIN_SIZE,It[3]-It[1]));const Qt=Math.ceil(Wt+at(this,_e)*this.scaleFactor),an=Math.ceil(Wt+at(this,j)*this.scaleFactor),[gn,fn]=this.parentDimensions;this.width=Qt/gn,this.height=an/fn,this.setAspectRatio(Qt,an);const qt=this.translationX,Ht=this.translationY;this.translationX=-It[0],this.translationY=-It[1],Gt(this,ct,Zn).call(this),Gt(this,ct,Gn).call(this),tn(this,mt,Qt),tn(this,ut,an),this.setDims(Qt,an);const Jt=_t?Wt/this.scaleFactor/2:0;this.translate(qt-this.translationX-Jt,Ht-this.translationY-Jt)},en(dn,Rt),Bn(dn,"_defaultColor",null),Bn(dn,"_defaultOpacity",1),Bn(dn,"_defaultThickness",1),Bn(dn,"_type","ink");let g=dn;i.InkEditor=g},(e,i,s)=>{var g,j,_e,et,st,tt,ot,ft,yt,rt,it,ar,lr,Sr,ts,Os,Ns,ns,wr,js;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=s(1),a=s(4),c=s(6),d=s(29);const St=class St extends a.AnnotationEditor{constructor(Pt){super({...Pt,name:"stampEditor"});en(this,it);en(this,g,null);en(this,j,null);en(this,_e,null);en(this,et,null);en(this,st,null);en(this,tt,null);en(this,ot,null);en(this,ft,null);en(this,yt,!1);en(this,rt,!1);tn(this,et,Pt.bitmapUrl),tn(this,st,Pt.bitmapFile)}static initialize(Pt){a.AnnotationEditor.initialize(Pt)}static get supportedTypes(){const Pt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Pt.map($t=>`image/${$t}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Pt){return this.supportedTypes.includes(Pt)}static paste(Pt,$t){$t.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Pt.getAsFile()})}remove(){var Pt,$t;at(this,j)&&(tn(this,g,null),this._uiManager.imageManager.deleteId(at(this,j)),(Pt=at(this,tt))==null||Pt.remove(),tn(this,tt,null),($t=at(this,ot))==null||$t.disconnect(),tn(this,ot,null)),super.remove()}rebuild(){if(!this.parent){at(this,j)&&Gt(this,it,Sr).call(this);return}super.rebuild(),this.div!==null&&(at(this,j)&&Gt(this,it,Sr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(at(this,_e)||at(this,g)||at(this,et)||at(this,st))}get isResizable(){return!0}render(){if(this.div)return this.div;let Pt,$t;if(this.width&&(Pt=this.x,$t=this.y),super.render(),this.div.hidden=!0,at(this,g)?Gt(this,it,ts).call(this):Gt(this,it,Sr).call(this),this.width){const[Dt,Nt]=this.parentDimensions;this.setAt(Pt*Dt,$t*Nt,this.width*Dt,this.height*Nt)}return this.div}static deserialize(Pt,$t,Dt){if(Pt instanceof d.StampAnnotationElement)return null;const Nt=super.deserialize(Pt,$t,Dt),{rect:Et,bitmapUrl:vt,bitmapId:jt,isSvg:xt,accessibilityData:nt}=Pt;jt&&Dt.imageManager.isValidId(jt)?tn(Nt,j,jt):tn(Nt,et,vt),tn(Nt,yt,xt);const[pt,wt]=Nt.pageDimensions;return Nt.width=(Et[2]-Et[0])/pt,Nt.height=(Et[3]-Et[1])/wt,nt&&(Nt.altTextData=nt),Nt}serialize(Pt=!1,$t=null){if(this.isEmpty())return null;const Dt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:at(this,j),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:at(this,yt),structTreeParentId:this._structTreeParentId};if(Pt)return Dt.bitmapUrl=Gt(this,it,wr).call(this,!0),Dt.accessibilityData=this.altTextData,Dt;const{decorative:Nt,altText:Et}=this.altTextData;if(!Nt&&Et&&(Dt.accessibilityData={type:"Figure",alt:Et}),$t===null)return Dt;$t.stamps||($t.stamps=new Map);const vt=at(this,yt)?(Dt.rect[2]-Dt.rect[0])*(Dt.rect[3]-Dt.rect[1]):null;if(!$t.stamps.has(at(this,j)))$t.stamps.set(at(this,j),{area:vt,serialized:Dt}),Dt.bitmap=Gt(this,it,wr).call(this,!1);else if(at(this,yt)){const jt=$t.stamps.get(at(this,j));vt>jt.area&&(jt.area=vt,jt.serialized.bitmap.close(),jt.serialized.bitmap=Gt(this,it,wr).call(this,!1))}return Dt}};g=new WeakMap,j=new WeakMap,_e=new WeakMap,et=new WeakMap,st=new WeakMap,tt=new WeakMap,ot=new WeakMap,ft=new WeakMap,yt=new WeakMap,rt=new WeakMap,it=new WeakSet,ar=function(Pt,$t=!1){if(!Pt){this.remove();return}tn(this,g,Pt.bitmap),$t||(tn(this,j,Pt.id),tn(this,yt,Pt.isSvg)),Gt(this,it,ts).call(this)},lr=function(){tn(this,_e,null),this._uiManager.enableWaiting(!1),at(this,tt)&&this.div.focus()},Sr=function(){if(at(this,j)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(at(this,j)).then($t=>Gt(this,it,ar).call(this,$t,!0)).finally(()=>Gt(this,it,lr).call(this));return}if(at(this,et)){const $t=at(this,et);tn(this,et,null),this._uiManager.enableWaiting(!0),tn(this,_e,this._uiManager.imageManager.getFromUrl($t).then(Dt=>Gt(this,it,ar).call(this,Dt)).finally(()=>Gt(this,it,lr).call(this)));return}if(at(this,st)){const $t=at(this,st);tn(this,st,null),this._uiManager.enableWaiting(!0),tn(this,_e,this._uiManager.imageManager.getFromFile($t).then(Dt=>Gt(this,it,ar).call(this,Dt)).finally(()=>Gt(this,it,lr).call(this)));return}const Pt=document.createElement("input");Pt.type="file",Pt.accept=St.supportedTypesStr,tn(this,_e,new Promise($t=>{Pt.addEventListener("change",async()=>{if(!Pt.files||Pt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Dt=await this._uiManager.imageManager.getFromFile(Pt.files[0]);Gt(this,it,ar).call(this,Dt)}$t()}),Pt.addEventListener("cancel",()=>{this.remove(),$t()})}).finally(()=>Gt(this,it,lr).call(this))),Pt.click()},ts=function(){const{div:Pt}=this;let{width:$t,height:Dt}=at(this,g);const[Nt,Et]=this.pageDimensions,vt=.75;if(this.width)$t=this.width*Nt,Dt=this.height*Et;else if($t>vt*Nt||Dt>vt*Et){const pt=Math.min(vt*Nt/$t,vt*Et/Dt);$t*=pt,Dt*=pt}const[jt,xt]=this.parentDimensions;this.setDims($t*jt/Nt,Dt*xt/Et),this._uiManager.enableWaiting(!1);const nt=tn(this,tt,document.createElement("canvas"));Pt.append(nt),Pt.hidden=!1,Gt(this,it,ns).call(this,$t,Dt),Gt(this,it,js).call(this),at(this,rt)||(this.parent.addUndoableEditor(this),tn(this,rt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Os=function(Pt,$t){var vt;const[Dt,Nt]=this.parentDimensions;this.width=Pt/Dt,this.height=$t/Nt,this.setDims(Pt,$t),(vt=this._initialOptions)!=null&&vt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,at(this,ft)!==null&&clearTimeout(at(this,ft)),tn(this,ft,setTimeout(()=>{tn(this,ft,null),Gt(this,it,ns).call(this,Pt,$t)},200))},Ns=function(Pt,$t){const{width:Dt,height:Nt}=at(this,g);let Et=Dt,vt=Nt,jt=at(this,g);for(;Et>2*Pt||vt>2*$t;){const xt=Et,nt=vt;Et>2*Pt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2)),vt>2*$t&&(vt=vt>=16384?Math.floor(vt/2)-1:Math.ceil(vt/2));const pt=new OffscreenCanvas(Et,vt);pt.getContext("2d").drawImage(jt,0,0,xt,nt,0,0,Et,vt),jt=pt.transferToImageBitmap()}return jt},ns=function(Pt,$t){Pt=Math.ceil(Pt),$t=Math.ceil($t);const Dt=at(this,tt);if(!Dt||Dt.width===Pt&&Dt.height===$t)return;Dt.width=Pt,Dt.height=$t;const Nt=at(this,yt)?at(this,g):Gt(this,it,Ns).call(this,Pt,$t),Et=Dt.getContext("2d");Et.filter=this._uiManager.hcmFilter,Et.drawImage(Nt,0,0,Nt.width,Nt.height,0,0,Pt,$t)},wr=function(Pt){if(Pt){if(at(this,yt)){const Nt=this._uiManager.imageManager.getSvgUrl(at(this,j));if(Nt)return Nt}const $t=document.createElement("canvas");return{width:$t.width,height:$t.height}=at(this,g),$t.getContext("2d").drawImage(at(this,g),0,0),$t.toDataURL()}if(at(this,yt)){const[$t,Dt]=this.pageDimensions,Nt=Math.round(this.width*$t*c.PixelsPerInch.PDF_TO_CSS_UNITS),Et=Math.round(this.height*Dt*c.PixelsPerInch.PDF_TO_CSS_UNITS),vt=new OffscreenCanvas(Nt,Et);return vt.getContext("2d").drawImage(at(this,g),0,0,at(this,g).width,at(this,g).height,0,0,Nt,Et),vt.transferToImageBitmap()}return structuredClone(at(this,g))},js=function(){tn(this,ot,new ResizeObserver(Pt=>{const $t=Pt[0].contentRect;$t.width&&$t.height&&Gt(this,it,Os).call(this,$t.width,$t.height)})),at(this,ot).observe(this.div)},Bn(St,"_type","stamp");let b=St;i.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),b=__w_pdfjs_require__(29),g=__w_pdfjs_require__(14),j=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(o,a,c,d,b,g){if(g!==ReactPropTypesSecret){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}e.isRequired=e;function i(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return e.concat(c||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,i){var s={};return allEvents.forEach(function(o){var a=e[o];a&&(i?s[o]=function(c){return a(c,i(o))}:s[o]=a)}),s}function makeCancellablePromise(e){var i=!1,s=new Promise(function(o,a){e.then(function(c){return!i&&o(c)}).catch(function(c){return!i&&a(c)})});return{promise:s,cancel:function(){i=!0}}}function r(e){var i,s,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(i=0;i<a;i++)e[i]&&(s=r(e[i]))&&(o&&(o+=" "),o+=s)}else for(s in e)e[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var e,i,s=0,o="",a=arguments.length;s<a;s++)(e=arguments[s])&&(i=r(e))&&(o&&(o+=" "),o+=i);return o}var prefix="Invariant failed";function invariant(e,i){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find$1(e,i,s){for(s of e.keys())if(dequal(s,i))return s}function dequal(e,i){var s,o,a;if(e===i)return!0;if(e&&i&&(s=e.constructor)===i.constructor){if(s===Date)return e.getTime()===i.getTime();if(s===RegExp)return e.toString()===i.toString();if(s===Array){if((o=e.length)===i.length)for(;o--&&dequal(e[o],i[o]););return o===-1}if(s===Set){if(e.size!==i.size)return!1;for(o of e)if(a=o,a&&typeof a=="object"&&(a=find$1(i,a),!a)||!i.has(a))return!1;return!0}if(s===Map){if(e.size!==i.size)return!1;for(o of e)if(a=o[0],a&&typeof a=="object"&&(a=find$1(i,a),!a)||!dequal(o[1],i.get(a)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(s===DataView){if((o=e.byteLength)===i.byteLength)for(;o--&&e.getInt8(o)===i.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===i.byteLength)for(;o--&&e[o]===i[o];);return o===-1}if(!s||typeof e=="object"){o=0;for(s in e)if(has.call(e,s)&&++o&&!has.call(i,s)||!(s in i)||!dequal(e[s],i[s]))return!1;return Object.keys(i).length===o}}return e!==e&&i!==i}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:i}){return We$1.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(i){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(s=>{invariant(this.pdfDocument),invariant(i),typeof i=="string"?this.pdfDocument.getDestination(i).then(s):Array.isArray(i)?s(i):i.then(s)}).then(s=>{invariant(Array.isArray(s));const o=s[0];new Promise(a=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(c=>{a(c)}).catch(()=>{invariant(!1)}):typeof o=="number"?a(o):invariant(!1)}).then(a=>{const c=a+1;invariant(this.pdfViewer),invariant(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:a,pageNumber:c})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const s=i-1;invariant(this.pdfViewer),invariant(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:i})}addLinkAttributes(i,s,o){i.href=s,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[i="",s=""]=e.split(",");return i.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,i){return Object.defineProperty(e,"width",{get(){return this.view[2]*i},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*i},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((i,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));i(o.result)},o.onerror=a=>{if(!a.target)return s(new Error("Error while reading a file."));const{error:c}=a.target;if(!c)return s(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(e)})}function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(i=>{e[i]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(i,s,o){const{[s]:a,pageNumber:c,pdf:d}=i;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:b}=d;if(a+1>b)return new Error(`Expected \`${s}\` to be less or equal to ${b-1}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function e(i,s,o){const{[s]:a,pageIndex:c,pdf:d}=i;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:b}=d;if(a>b)return new Error(`Expected \`${s}\` to be less or equal to ${b}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function b(_e){try{j(o.next(_e))}catch(et){d(et)}}function g(_e){try{j(o.throw(_e))}catch(et){d(et)}}function j(_e){_e.done?c(_e.value):a(_e.value).then(b,g)}j((o=o.apply(e,i||[])).next())})},__rest$1=function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");e(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");e(s);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(i,s){var{children:o,className:a,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:b,file:g,inputRef:j,imageResourcesPath:_e,loading:et="Loading PDF…",noData:st="No PDF file specified.",onItemClick:tt,onLoadError:ot,onLoadProgress:ft,onLoadSuccess:yt,onPassword:rt=defaultOnPassword,onSourceError:it,onSourceSuccess:dt,options:mt,renderMode:ut,rotate:lt}=i,ct=__rest$1(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[gt,bt]=useResolver(),{value:kt,error:ht}=gt,[St,At]=useResolver(),{value:zt,error:Pt}=St,$t=reactExports.useRef(new LinkService),Dt=reactExports.useRef([]),Nt=reactExports.useRef(),Et=reactExports.useRef();reactExports.useEffect(()=>{g&&g!==Nt.current&&isParameterObject(g)&&(warning$1(!dequal(g,Nt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Nt.current=g)},[g]),reactExports.useEffect(()=>{mt&&mt!==Et.current&&(warning$1(!dequal(mt,Et.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Et.current=mt)},[mt]);const vt=reactExports.useRef({scrollPageIntoView:Vt=>{const{dest:Xt,pageNumber:_t,pageIndex:It=_t-1}=Vt;if(tt){tt({dest:Xt,pageIndex:It,pageNumber:_t});return}const Wt=Dt.current[It];if(Wt){Wt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${_t} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:$t,pages:Dt,viewer:vt}),[]);function jt(){dt&&dt()}function xt(){ht&&(warning$1(!1,ht.toString()),it&&it(ht))}function nt(){bt({type:"RESET"})}reactExports.useEffect(nt,[g,bt]);const pt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!g)return null;if(typeof g=="string")return isDataURI(g)?{data:dataURItoByteString(g)}:(displayCORSWarning(),{url:g});if(g instanceof PDFDataRangeTransport)return{range:g};if(isArrayBuffer(g))return{data:g};if(isBrowser&&isBlob(g))return{data:yield loadFromFile(g)};if(invariant(typeof g=="object"),invariant(isParameterObject(g)),"url"in g&&typeof g.url=="string"){if(isDataURI(g.url)){const{url:Vt}=g,Xt=__rest$1(g,["url"]),_t=dataURItoByteString(Vt);return Object.assign({data:_t},Xt)}displayCORSWarning()}return g}),[g]);reactExports.useEffect(()=>{const Vt=makeCancellablePromise(pt());return Vt.promise.then(Xt=>{bt({type:"RESOLVE",value:Xt})}).catch(Xt=>{bt({type:"REJECT",error:Xt})}),()=>{cancelRunningTask(Vt)}},[pt,bt]),reactExports.useEffect(()=>{if(!(typeof kt>"u")){if(kt===!1){xt();return}jt()}},[kt]);function wt(){zt&&(yt&&yt(zt),Dt.current=new Array(zt.numPages),$t.current.setDocument(zt))}function Ct(){Pt&&(warning$1(!1,Pt.toString()),ot&&ot(Pt))}function Rt(){At({type:"RESET"})}reactExports.useEffect(Rt,[At,kt]);function Lt(){if(!kt)return;const Vt=Object.assign(Object.assign({},mt),{isEvalSupported:!1}),Xt=Object.assign(Object.assign({},kt),Vt),_t=pdfjs.getDocument(Xt);ft&&(_t.onProgress=ft),rt&&(_t.onPassword=rt);const It=_t;return It.promise.then(Wt=>{At({type:"RESOLVE",value:Wt})}).catch(Wt=>{It.destroyed||At({type:"REJECT",error:Wt})}),()=>{It.destroy()}}reactExports.useEffect(Lt,[mt,At,kt]),reactExports.useEffect(()=>{if(!(typeof zt>"u")){if(zt===!1){Ct();return}wt()}},[zt]);function Bt(){$t.current.setViewer(vt.current),$t.current.setExternalLinkRel(d),$t.current.setExternalLinkTarget(b)}reactExports.useEffect(Bt,[d,b]);function Kt(Vt,Xt){Dt.current[Vt]=Xt}function nn(Vt){delete Dt.current[Vt]}const sn=reactExports.useMemo(()=>({imageResourcesPath:_e,linkService:$t.current,onItemClick:tt,pdf:zt,registerPage:Kt,renderMode:ut,rotate:lt,unregisterPage:nn}),[_e,tt,zt,ut,lt]),cn=reactExports.useMemo(()=>makeEventProps(ct,()=>zt),[ct,zt]);function ln(){return We$1.createElement(DocumentContext.Provider,{value:sn},o)}function dn(){return g?zt==null?We$1.createElement(Message,{type:"loading"},typeof et=="function"?et():et):zt===!1?We$1.createElement(Message,{type:"error"},typeof c=="function"?c():c):ln():We$1.createElement(Message,{type:"no-data"},typeof st=="function"?st():st)}return We$1.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:j,style:{"--scale-factor":"1"}},cn),dn())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s=e.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(c){s.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:s}=e,o=s.match(HEADING_PATTERN);if(o)i.role="heading",i["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const a=PDF_ROLE_TO_HTML_ROLE[s];a&&(i.role=a)}}return i}function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[s]=e.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},i),o)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:i}){const s=reactExports.useMemo(()=>getAttributes(i),[i]),o=reactExports.useMemo(()=>!isStructTreeNode(i)||isStructTreeNodeWithOnlyContentChild(i)?null:i.children.map((a,c)=>We$1.createElement(StructTreeItem,{key:c,node:a})),[i]);return We$1.createElement("span",Object.assign({className:e},s),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:i,onGetStructTreeSuccess:s}=e,[o,a]=useResolver(),{value:c,error:d}=o,{customTextRenderer:b,page:g}=e;function j(){c&&s&&s(c)}function _e(){d&&(warning$1(!1,d.toString()),i&&i(d))}function et(){a({type:"RESET"})}reactExports.useEffect(et,[a,g]);function st(){if(b||!g)return;const tt=makeCancellablePromise(g.getStructTree()),ot=tt;return tt.promise.then(ft=>{a({type:"RESOLVE",value:ft})}).catch(ft=>{a({type:"REJECT",error:ft})}),()=>cancelRunningTask(ot)}return reactExports.useEffect(st,[b,g,a]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){_e();return}j()}},[c]),c?We$1.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const i=usePageContext();invariant(i);const s=Object.assign(Object.assign({},i),e),{_className:o,canvasBackground:a,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:b,page:g,renderForms:j,renderTextLayer:_e,rotate:et,scale:st}=s,{canvasRef:tt}=e;invariant(g);const ot=reactExports.useRef(null);function ft(){g&&b&&b(makePageCallback(g,st))}function yt(ut){isCancelException(ut)||(warning$1(!1,ut.toString()),d&&d(ut))}const rt=reactExports.useMemo(()=>g.getViewport({scale:st*c,rotation:et}),[c,g,et,st]),it=reactExports.useMemo(()=>g.getViewport({scale:st,rotation:et}),[g,et,st]);function dt(){if(!g)return;g.cleanup();const{current:ut}=ot;if(!ut)return;ut.width=rt.width,ut.height=rt.height,ut.style.width=`${Math.floor(it.width)}px`,ut.style.height=`${Math.floor(it.height)}px`,ut.style.visibility="hidden";const lt={annotationMode:j?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ut.getContext("2d",{alpha:!1}),viewport:rt};a&&(lt.background=a);const ct=g.render(lt),gt=ct;return ct.promise.then(()=>{ut.style.visibility="",ft()}).catch(yt),()=>cancelRunningTask(gt)}reactExports.useEffect(dt,[a,ot,c,g,j,rt,it]);const mt=reactExports.useCallback(()=>{const{current:ut}=ot;ut&&(ut.width=0,ut.height=0)},[ot]);return reactExports.useEffect(()=>mt,[mt]),We$1.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(tt,ot),style:{display:"block",userSelect:"none"}},_e?We$1.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:i,onRenderSuccess:s,onRenderError:o,page:a,rotate:c,scale:d}=e;invariant(a);const[b,g]=useResolver(),{value:j,error:_e}=b;function et(){a&&s&&s(makePageCallback(a,d))}function st(){_e&&(isCancelException(_e)||(warning$1(!1,_e.toString()),o&&o(_e)))}const tt=reactExports.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);function ot(){g({type:"RESET"})}reactExports.useEffect(ot,[a,g,tt]);function ft(){if(!a)return;const dt=makeCancellablePromise(a.getOperatorList());return dt.promise.then(mt=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(mt,tt).then(lt=>{if(!(lt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");g({type:"RESOLVE",value:lt})}).catch(lt=>{g({type:"REJECT",error:lt})})}).catch(mt=>{g({type:"REJECT",error:mt})}),()=>cancelRunningTask(dt)}reactExports.useEffect(ft,[a,g,tt]),reactExports.useEffect(()=>{if(j!==void 0){if(j===!1){st();return}et()}},[j]);function yt(dt){if(!dt||!j)return;dt.firstElementChild||dt.appendChild(j);const{width:mt,height:ut}=tt;j.setAttribute("width",`${mt}`),j.setAttribute("height",`${ut}`)}const{width:rt,height:it}=tt;return We$1.createElement("div",{className:`${i}__svg`,ref:dt=>yt(dt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:rt,height:it,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:i,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:c,page:d,pageIndex:b,pageNumber:g,rotate:j,scale:_e}=e;invariant(d);const[et,st]=useResolver(),{value:tt,error:ot}=et,ft=reactExports.useRef(null),yt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function rt(){tt&&o&&o(tt)}function it(){ot&&(warning$1(!1,ot.toString()),s&&s(ot))}function dt(){st({type:"RESET"})}reactExports.useEffect(dt,[d,st]);function mt(){if(!d)return;const ht=makeCancellablePromise(d.getTextContent()),St=ht;return ht.promise.then(At=>{st({type:"RESOLVE",value:At})}).catch(At=>{st({type:"REJECT",error:At})}),()=>cancelRunningTask(St)}reactExports.useEffect(mt,[d,st]),reactExports.useEffect(()=>{if(tt!==void 0){if(tt===!1){it();return}rt()}},[tt]);const ut=reactExports.useCallback(()=>{c&&c()},[c]),lt=reactExports.useCallback(ht=>{warning$1(!1,ht.toString()),a&&a(ht)},[a]);function ct(){const ht=yt.current;ht&&ht.classList.add("active")}function gt(){const ht=yt.current;ht&&ht.classList.remove("active")}const bt=reactExports.useMemo(()=>d.getViewport({scale:_e,rotation:j}),[d,j,_e]);function kt(){if(!d||!tt)return;const{current:ht}=ft;if(!ht)return;ht.innerHTML="";const St=d.streamTextContent({includeMarkedContent:!0}),At={container:ht,textContentSource:St,viewport:bt},zt=pdfjs.renderTextLayer(At),Pt=zt;return zt.promise.then(()=>{const $t=document.createElement("div");$t.className="endOfContent",ht.append($t),yt.current=$t;const Dt=ht.querySelectorAll('[role="presentation"]');if(i){let Nt=0;tt.items.forEach((Et,vt)=>{if(!isTextItem(Et))return;const jt=Dt[Nt];if(!jt)return;const xt=i(Object.assign({pageIndex:b,pageNumber:g,itemIndex:vt},Et));jt.innerHTML=xt,Nt+=Et.str&&Et.hasEOL?2:1})}ut()}).catch(lt),()=>cancelRunningTask(Pt)}return reactExports.useLayoutEffect(kt,[i,lt,ut,d,b,g,tt,bt]),We$1.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:gt,onMouseDown:ct,ref:ft})}function AnnotationLayer(){const e=useDocumentContext(),i=usePageContext();invariant(i);const s=Object.assign(Object.assign({},e),i),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:b,onRenderAnnotationLayerSuccess:g,page:j,pdf:_e,renderForms:et,rotate:st,scale:tt=1}=s;invariant(_e),invariant(j),invariant(a);const[ot,ft]=useResolver(),{value:yt,error:rt}=ot,it=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function dt(){yt&&d&&d(yt)}function mt(){rt&&(warning$1(!1,rt.toString()),c&&c(rt))}function ut(){ft({type:"RESET"})}reactExports.useEffect(ut,[ft,j]);function lt(){if(!j)return;const ht=makeCancellablePromise(j.getAnnotations()),St=ht;return ht.promise.then(At=>{ft({type:"RESOLVE",value:At})}).catch(At=>{ft({type:"REJECT",error:At})}),()=>{cancelRunningTask(St)}}reactExports.useEffect(lt,[ft,j,et]),reactExports.useEffect(()=>{if(yt!==void 0){if(yt===!1){mt();return}dt()}},[yt]);function ct(){g&&g()}function gt(ht){warning$1(!1,`${ht}`),b&&b(ht)}const bt=reactExports.useMemo(()=>j.getViewport({scale:tt,rotation:st}),[j,st,tt]);function kt(){if(!_e||!j||!a||!yt)return;const{current:ht}=it;if(!ht)return;const St=bt.clone({dontFlip:!0}),At={accessibilityManager:null,annotationCanvasMap:null,div:ht,l10n:null,page:j,viewport:St},zt={annotations:yt,annotationStorage:_e.annotationStorage,div:ht,downloadManager:null,imageResourcesPath:o,linkService:a,page:j,renderForms:et,viewport:St};ht.innerHTML="";try{new pdfjs.AnnotationLayer(At).render(zt),ct()}catch(Pt){gt(Pt)}return()=>{}}return reactExports.useEffect(kt,[yt,o,a,j,et,bt]),We$1.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:it})}var __rest=function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};const defaultScale=1,Page=function e(i){const s=useDocumentContext(),o=Object.assign(Object.assign({},s),i),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:b,children:g,className:j,customRenderer:_e,customTextRenderer:et,devicePixelRatio:st,error:tt="Failed to load the page.",height:ot,inputRef:ft,loading:yt="Loading page…",noData:rt="No page specified.",onGetAnnotationsError:it,onGetAnnotationsSuccess:dt,onGetStructTreeError:mt,onGetStructTreeSuccess:ut,onGetTextError:lt,onGetTextSuccess:ct,onLoadError:gt,onLoadSuccess:bt,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:ht,onRenderError:St,onRenderSuccess:At,onRenderTextLayerError:zt,onRenderTextLayerSuccess:Pt,pageIndex:$t,pageNumber:Dt,pdf:Nt,registerPage:Et,renderAnnotationLayer:vt=!0,renderForms:jt=!1,renderMode:xt="canvas",renderTextLayer:nt=!0,rotate:pt,scale:wt=defaultScale,unregisterPage:Ct,width:Rt}=o,Lt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Bt,Kt]=useResolver(),{value:nn,error:sn}=Bt,cn=reactExports.useRef(null);invariant(Nt);const ln=isProvided(Dt)?Dt-1:$t??null,dn=Dt??(isProvided($t)?$t+1:null),Vt=pt??(nn?nn.rotate:null),Xt=reactExports.useMemo(()=>{if(!nn)return null;let En=1;const Fn=wt??defaultScale;if(Rt||ot){const Dn=nn.getViewport({scale:1,rotation:Vt});Rt?En=Rt/Dn.width:ot&&(En=ot/Dn.height)}return Fn*En},[ot,nn,Vt,wt,Rt]);function _t(){return()=>{isProvided(ln)&&c&&Ct&&Ct(ln)}}reactExports.useEffect(_t,[c,Nt,ln,Ct]);function It(){if(bt){if(!nn||!Xt)return;bt(makePageCallback(nn,Xt))}if(c&&Et){if(!isProvided(ln)||!cn.current)return;Et(ln,cn.current)}}function Wt(){sn&&(warning$1(!1,sn.toString()),gt&&gt(sn))}function Qt(){Kt({type:"RESET"})}reactExports.useEffect(Qt,[Kt,Nt,ln]);function an(){if(!Nt||!dn)return;const En=makeCancellablePromise(Nt.getPage(dn)),Fn=En;return En.promise.then(Dn=>{Kt({type:"RESOLVE",value:Dn})}).catch(Dn=>{Kt({type:"REJECT",error:Dn})}),()=>cancelRunningTask(Fn)}reactExports.useEffect(an,[Kt,Nt,ln,dn,Et]),reactExports.useEffect(()=>{if(nn!==void 0){if(nn===!1){Wt();return}It()}},[nn,Xt]);const gn=reactExports.useMemo(()=>nn&&isProvided(ln)&&dn&&isProvided(Vt)&&isProvided(Xt)?{_className:a,canvasBackground:d,customTextRenderer:et,devicePixelRatio:st,onGetAnnotationsError:it,onGetAnnotationsSuccess:dt,onGetStructTreeError:mt,onGetStructTreeSuccess:ut,onGetTextError:lt,onGetTextSuccess:ct,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:ht,onRenderError:St,onRenderSuccess:At,onRenderTextLayerError:zt,onRenderTextLayerSuccess:Pt,page:nn,pageIndex:ln,pageNumber:dn,renderForms:jt,renderTextLayer:nt,rotate:Vt,scale:Xt}:null,[a,d,et,st,it,dt,mt,ut,lt,ct,kt,ht,St,At,zt,Pt,nn,ln,dn,jt,nt,Vt,Xt]),fn=reactExports.useMemo(()=>makeEventProps(Lt,()=>nn&&(Xt?makePageCallback(nn,Xt):void 0)),[Lt,nn,Xt]),qt=`${ln}@${Xt}/${Vt}`,Ht=`${ln}/${Vt}`;function Jt(){switch(xt){case"custom":return invariant(_e),We$1.createElement(_e,{key:`${qt}_custom`});case"none":return null;case"svg":return We$1.createElement(PageSVG,{key:`${Ht}_svg`});case"canvas":default:return We$1.createElement(PageCanvas,{key:`${qt}_canvas`,canvasRef:b})}}function vn(){return nt?We$1.createElement(TextLayer,{key:`${qt}_text`}):null}function bn(){return vt?We$1.createElement(AnnotationLayer,{key:`${qt}_annotations`}):null}function Pn(){return We$1.createElement(PageContext.Provider,{value:gn},Jt(),vn(),bn(),g)}function Sn(){return dn?Nt===null||nn===void 0||nn===null?We$1.createElement(Message,{type:"loading"},typeof yt=="function"?yt():yt):Nt===!1||nn===!1?We$1.createElement(Message,{type:"error"},typeof tt=="function"?tt():tt):Pn():We$1.createElement(Message,{type:"no-data"},typeof rt=="function"?rt():rt)}return We$1.createElement("div",Object.assign({className:clsx(a,j),"data-page-number":dn,ref:mergeRefs(ft,cn),style:{"--scale-factor":`${Xt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},fn),Sn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;const PDFViewer=({file:e})=>{const[i,s]=reactExports.useState(0),[o,a]=reactExports.useState(1),c=({numPages:d})=>{s(d)};return e?jsxRuntimeExports.jsxs("div",{className:"h-full overflow-auto",children:[jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:c,className:"flex flex-col items-center",children:jsxRuntimeExports.jsx(Page,{pageNumber:o,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>a(Math.max(1,o-1)),disabled:o<=1,className:"px-4 py-2 bg-[#2A2A2A] text-gray-200 rounded-md hover:bg-[#3A3A3A] disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-700",children:"Previous"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-300",children:["Page ",o," of ",i]}),jsxRuntimeExports.jsx("button",{onClick:()=>a(Math.min(i,o+1)),disabled:o>=i,className:"px-4 py-2 bg-[#2A2A2A] text-gray-200 rounded-md hover:bg-[#3A3A3A] disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-700",children:"Next"})]})]}):null};function ok$1(){}function unreachable(){}function stringify$1(e,i){const s={};return(e[e.length-1]===""?[...e,""]:e).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(e,i){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(i,s,o){this.property=i,this.normal=s,o&&(this.space=o)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge$1(e,i){const s={},o={};let a=-1;for(;++a<e.length;)Object.assign(s,e[a].property),Object.assign(o,e[a].normal);return new Schema(s,o,i)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(i,s){this.property=i,this.attribute=s}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(i,s,o,a){let c=-1;if(super(i,s),mark(this,"space",a),typeof o=="number")for(;++c<checks.length;){const d=checks[c];mark(this,checks[c],(o&types[d])===types[d])}}}DefinedInfo.prototype.defined=!0;function mark(e,i,s){s&&(e[i]=s)}const own$4={}.hasOwnProperty;function create$1(e){const i={},s={};let o;for(o in e.properties)if(own$4.call(e.properties,o)){const a=e.properties[o],c=new DefinedInfo(o,e.transform(e.attributes||{},o),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(c.mustUseProperty=!0),i[o]=c,s[normalize$1(o)]=o,s[normalize$1(c.attribute)]=o}return new Schema(i,s,e.space)}const xlink=create$1({space:"xlink",transform(e,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create$1({space:"xml",transform(e,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(e,i){return i in e?e[i]:i}function caseInsensitiveTransform(e,i){return caseSensitiveTransform(e,i.toLowerCase())}const xmlns=create$1({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create$1({transform(e,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html$3=create$1({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg$1=create$1({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap$1=/[A-Z]/g;function find(e,i){const s=normalize$1(i);let o=i,a=Info;if(s in e.normal)return e.property[e.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&valid.test(i)){if(i.charAt(4)==="-"){const c=i.slice(5).replace(dash,camelcase);o="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=i.slice(4);if(!dash.test(c)){let d=c.replace(cap$1,kebab);d.charAt(0)!=="-"&&(d="-"+d),i="data"+d}}a=DefinedInfo}return new a(o,i)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},html$2=merge$1([xml,xlink,xmlns,aria,html$3],"html"),svg=merge$1([xml,xlink,xmlns,aria,svg$1],"svg");function stringify(e){return e.join(" ").trim()}var cjs={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];i=i||{};var s=1,o=1;function a(ot){var ft=ot.match(NEWLINE_REGEX);ft&&(s+=ft.length);var yt=ot.lastIndexOf(NEWLINE);o=~yt?ot.length-yt:o+ot.length}function c(){var ot={line:s,column:o};return function(ft){return ft.position=new d(ot),j(),ft}}function d(ot){this.start=ot,this.end={line:s,column:o},this.source=i.source}d.prototype.content=e;function b(ot){var ft=new Error(i.source+":"+s+":"+o+": "+ot);if(ft.reason=ot,ft.filename=i.source,ft.line=s,ft.column=o,ft.source=e,!i.silent)throw ft}function g(ot){var ft=ot.exec(e);if(ft){var yt=ft[0];return a(yt),e=e.slice(yt.length),ft}}function j(){g(WHITESPACE_REGEX)}function _e(ot){var ft;for(ot=ot||[];ft=et();)ft!==!1&&ot.push(ft);return ot}function et(){var ot=c();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var ft=2;EMPTY_STRING!=e.charAt(ft)&&(ASTERISK!=e.charAt(ft)||FORWARD_SLASH!=e.charAt(ft+1));)++ft;if(ft+=2,EMPTY_STRING===e.charAt(ft-1))return b("End of comment missing");var yt=e.slice(2,ft-2);return o+=2,a(yt),e=e.slice(ft),o+=2,ot({type:TYPE_COMMENT,comment:yt})}}function st(){var ot=c(),ft=g(PROPERTY_REGEX);if(ft){if(et(),!g(COLON_REGEX))return b("property missing ':'");var yt=g(VALUE_REGEX),rt=ot({type:TYPE_DECLARATION,property:trim(ft[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:yt?trim(yt[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return g(SEMICOLON_REGEX),rt}}function tt(){var ot=[];_e(ot);for(var ft;ft=st();)ft!==!1&&(ot.push(ft),_e(ot));return ot}return j(),tt()};function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs,"__esModule",{value:!0});var _default=cjs.default=StyleToObject,inline_style_parser_1=__importDefault(inlineStyleParser);function StyleToObject(e,i){var s=null;if(!e||typeof e!="string")return s;var o=(0,inline_style_parser_1.default)(e),a=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var d=c.property,b=c.value;a?i(d,b,c):b&&(s=s||{},s[d]=b)}}),s}const styleToObject=_default.default||_default,pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return i;function i(s){const o=s&&s.position&&s.position[e]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function position$1(e){const i=pointStart(e),s=pointEnd(e);if(i&&s)return{start:i,end:s}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index$1(e&&e.line)+":"+index$1(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index$1(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(i,s,o){super(),typeof s=="string"&&(o=s,s=void 0);let a="",c={},d=!1;if(s&&("line"in s&&"column"in s?c={place:s}:"start"in s&&"end"in s?c={place:s}:"type"in s?c={ancestors:[s],place:s.position}:c={...s}),typeof i=="string"?a=i:!c.cause&&i&&(d=!0,a=i.message,c.cause=i),!c.ruleId&&!c.source&&typeof o=="string"){const g=o.indexOf(":");g===-1?c.ruleId=o:(c.source=o.slice(0,g),c.ruleId=o.slice(g+1))}if(!c.place&&c.ancestors&&c.ancestors){const g=c.ancestors[c.ancestors.length-1];g&&(c.place=g.position)}const b=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=b?b.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=b?b.line:void 0,this.name=stringifyPosition(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=d&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,dashSomething=/-([a-z])/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,i){if(!i||i.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=i.filePath||void 0;let o;if(i.development){if(typeof i.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=developmentCreate(s,i.jsxDEV)}else{if(typeof i.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof i.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=productionCreate(s,i.jsx,i.jsxs)}const a={Fragment:i.Fragment,ancestors:[],components:i.components||{},create:o,elementAttributeNameCase:i.elementAttributeNameCase||"react",evaluater:i.createEvaluater?i.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:i.ignoreInvalidStyle||!1,passKeys:i.passKeys!==!1,passNode:i.passNode||!1,schema:i.space==="svg"?svg:html$2,stylePropertyNameCase:i.stylePropertyNameCase||"dom",tableCellAlignToStyle:i.tableCellAlignToStyle!==!1},c=one$1(a,e,void 0);return c&&typeof c!="string"?c:a.create(e,a.Fragment,{children:c||void 0},void 0)}function one$1(e,i,s){if(i.type==="element")return element$1(e,i,s);if(i.type==="mdxFlowExpression"||i.type==="mdxTextExpression")return mdxExpression(e,i);if(i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement")return mdxJsxElement(e,i,s);if(i.type==="mdxjsEsm")return mdxEsm(e,i);if(i.type==="root")return root$2(e,i,s);if(i.type==="text")return text$5(e,i)}function element$1(e,i,s){const o=e.schema;let a=o;i.tagName.toLowerCase()==="svg"&&o.space==="html"&&(a=svg,e.schema=a),e.ancestors.push(i);const c=findComponentFromName(e,i.tagName,!1),d=createElementProps(e,i);let b=createChildren(e,i);return tableElements.has(i.tagName)&&(b=b.filter(function(g){return typeof g=="string"?!whitespace(g):!0})),addNode(e,d,c,i),addChildren(d,b),e.ancestors.pop(),e.schema=o,e.create(i,c,d,s)}function mdxExpression(e,i){if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];return o.type,e.evaluater.evaluateExpression(o.expression)}crashEstree(e,i.position)}function mdxEsm(e,i){if(i.data&&i.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(i.data.estree);crashEstree(e,i.position)}function mdxJsxElement(e,i,s){const o=e.schema;let a=o;i.name==="svg"&&o.space==="html"&&(a=svg,e.schema=a),e.ancestors.push(i);const c=i.name===null?e.Fragment:findComponentFromName(e,i.name,!0),d=createJsxElementProps(e,i),b=createChildren(e,i);return addNode(e,d,c,i),addChildren(d,b),e.ancestors.pop(),e.schema=o,e.create(i,c,d,s)}function root$2(e,i,s){const o={};return addChildren(o,createChildren(e,i)),e.create(i,e.Fragment,o,s)}function text$5(e,i){return i.value}function addNode(e,i,s,o){typeof s!="string"&&s!==e.Fragment&&e.passNode&&(i.node=o)}function addChildren(e,i){if(i.length>0){const s=i.length>1?i:i[0];s&&(e.children=s)}}function productionCreate(e,i,s){return o;function o(a,c,d,b){const j=Array.isArray(d.children)?s:i;return b?j(c,d,b):j(c,d)}}function developmentCreate(e,i){return s;function s(o,a,c,d){const b=Array.isArray(c.children),g=pointStart(o);return i(a,c,d,b,{columnNumber:g?g.column-1:void 0,fileName:e,lineNumber:g?g.line:void 0},void 0)}}function createElementProps(e,i){const s={};let o,a;for(a in i.properties)if(a!=="children"&&own$3.call(i.properties,a)){const c=createProperty(e,a,i.properties[a]);if(c){const[d,b]=c;e.tableCellAlignToStyle&&d==="align"&&typeof b=="string"&&tableCellElement.has(i.tagName)?o=b:s[d]=b}}if(o){const c=s.style||(s.style={});c[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return s}function createJsxElementProps(e,i){const s={};for(const o of i.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&e.evaluater){const c=o.data.estree.body[0];c.type;const d=c.expression;d.type;const b=d.properties[0];b.type,Object.assign(s,e.evaluater.evaluateExpression(b.argument))}else crashEstree(e,i.position);else{const a=o.name;let c;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&e.evaluater){const b=o.value.data.estree.body[0];b.type,c=e.evaluater.evaluateExpression(b.expression)}else crashEstree(e,i.position);else c=o.value===null?!0:o.value;s[a]=c}return s}function createChildren(e,i){const s=[];let o=-1;const a=e.passKeys?new Map:emptyMap;for(;++o<i.children.length;){const c=i.children[o];let d;if(e.passKeys){const g=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(g){const j=a.get(g)||0;d=g+"-"+j,a.set(g,j+1)}}const b=one$1(e,c,d);b!==void 0&&s.push(b)}return s}function createProperty(e,i,s){const o=find(e.schema,i);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=o.commaSeparated?stringify$1(s):stringify(s)),o.property==="style"){let a=typeof s=="object"?s:parseStyle(e,String(s));return e.stylePropertyNameCase==="css"&&(a=transformStylesToCssCasing(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&o.space?hastToReact[o.property]||o.property:o.attribute,s]}}function parseStyle(e,i){const s={};try{styleToObject(i,o)}catch(a){if(!e.ignoreInvalidStyle){const c=a,d=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:c,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw d.file=e.filePath||void 0,d.url=docs+"#cannot-parse-style-attribute",d}}return s;function o(a,c){let d=a;d.slice(0,2)!=="--"&&(d.slice(0,4)==="-ms-"&&(d="ms-"+d.slice(4)),d=d.replace(dashSomething,toCamel)),s[d]=c}}function findComponentFromName(e,i,s){let o;if(!s)o={type:"Literal",value:i};else if(i.includes(".")){const a=i.split(".");let c=-1,d;for(;++c<a.length;){const b=name(a[c])?{type:"Identifier",name:a[c]}:{type:"Literal",value:a[c]};d=d?{type:"MemberExpression",object:d,property:b,computed:!!(c&&b.type==="Literal"),optional:!1}:b}o=d}else o=name(i)&&!/^[a-z]/.test(i)?{type:"Identifier",name:i}:{type:"Literal",value:i};if(o.type==="Literal"){const a=o.value;return own$3.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(o);crashEstree(e)}function crashEstree(e,i){const s=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:i,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",s}function transformStylesToCssCasing(e){const i={};let s;for(s in e)own$3.call(e,s)&&(i[transformStyleToCssCasing(s)]=e[s]);return i}function transformStyleToCssCasing(e){let i=e.replace(cap,toDash);return i.slice(0,3)==="ms-"&&(i="-"+i),i}function toCamel(e,i){return i.toUpperCase()}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$1(e,i){const s=emptyOptions$2,o=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,a=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return one(e,o,a)}function one(e,i,s){if(node(e)){if("value"in e)return e.type==="html"&&!s?"":e.value;if(i&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all(e.children,i,s)}return Array.isArray(e)?all(e,i,s):""}function all(e,i,s){const o=[];let a=-1;for(;++a<e.length;)o[a]=one(e[a],i,s);return o.join("")}function node(e){return!!(e&&typeof e=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(e){const i="&"+e+";";element.innerHTML=i;const s=element.textContent;return s.charCodeAt(s.length-1)===59&&e!=="semi"||s===i?!1:s}function splice(e,i,s,o){const a=e.length;let c=0,d;if(i<0?i=-i>a?0:a+i:i=i>a?a:i,s=s>0?s:0,o.length<1e4)d=Array.from(o),d.unshift(i,s),e.splice(...d);else for(s&&e.splice(i,s);c<o.length;)d=o.slice(c,c+1e4),d.unshift(i,0),e.splice(...d),c+=1e4,i+=1e4}function push(e,i){return e.length>0?(splice(e,e.length,0,i),e):i}const hasOwnProperty$1={}.hasOwnProperty;function combineExtensions(e){const i={};let s=-1;for(;++s<e.length;)syntaxExtension(i,e[s]);return i}function syntaxExtension(e,i){let s;for(s in i){const a=(hasOwnProperty$1.call(e,s)?e[s]:void 0)||(e[s]={}),c=i[s];let d;if(c)for(d in c){hasOwnProperty$1.call(a,d)||(a[d]=[]);const b=c[d];constructs(a[d],Array.isArray(b)?b:b?[b]:[])}}}function constructs(e,i){let s=-1;const o=[];for(;++s<i.length;)(i[s].add==="after"?e:o).push(i[s]);splice(e,0,0,o)}function decodeNumericCharacterReference(e,i){const s=Number.parseInt(e,i);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"�":String.fromCodePoint(s)}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return i;function i(s){return s!==null&&s>-1&&e.test(String.fromCharCode(s))}}function normalizeUri(e){const i=[];let s=-1,o=0,a=0;for(;++s<e.length;){const c=e.charCodeAt(s);let d="";if(c===37&&asciiAlphanumeric(e.charCodeAt(s+1))&&asciiAlphanumeric(e.charCodeAt(s+2)))a=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const b=e.charCodeAt(s+1);c<56320&&b>56319&&b<57344?(d=String.fromCharCode(c,b),a=1):d="�"}else d=String.fromCharCode(c);d&&(i.push(e.slice(o,s),encodeURIComponent(d)),o=s+a+1,d=""),a&&(s+=a,a=0)}return i.join("")+e.slice(o)}function factorySpace(e,i,s,o){const a=o?o-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(g){return markdownSpace(g)?(e.enter(s),b(g)):i(g)}function b(g){return markdownSpace(g)&&c++<a?(e.consume(g),b):(e.exit(s),i(g))}}const content$1={tokenize:initializeContent};function initializeContent(e){const i=e.attempt(this.parser.constructs.contentInitial,o,a);let s;return i;function o(b){if(b===null){e.consume(b);return}return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),factorySpace(e,i,"linePrefix")}function a(b){return e.enter("paragraph"),c(b)}function c(b){const g=e.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=g),s=g,d(b)}function d(b){if(b===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(b);return}return markdownLineEnding(b)?(e.consume(b),e.exit("chunkText"),c):(e.consume(b),d)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const i=this,s=[];let o=0,a,c,d;return b;function b(dt){if(o<s.length){const mt=s[o];return i.containerState=mt[1],e.attempt(mt[0].continuation,g,j)(dt)}return j(dt)}function g(dt){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,a&&it();const mt=i.events.length;let ut=mt,lt;for(;ut--;)if(i.events[ut][0]==="exit"&&i.events[ut][1].type==="chunkFlow"){lt=i.events[ut][1].end;break}rt(o);let ct=mt;for(;ct<i.events.length;)i.events[ct][1].end={...lt},ct++;return splice(i.events,ut+1,0,i.events.slice(mt)),i.events.length=ct,j(dt)}return b(dt)}function j(dt){if(o===s.length){if(!a)return st(dt);if(a.currentConstruct&&a.currentConstruct.concrete)return ot(dt);i.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(containerConstruct,_e,et)(dt)}function _e(dt){return a&&it(),rt(o),st(dt)}function et(dt){return i.parser.lazy[i.now().line]=o!==s.length,d=i.now().offset,ot(dt)}function st(dt){return i.containerState={},e.attempt(containerConstruct,tt,ot)(dt)}function tt(dt){return o++,s.push([i.currentConstruct,i.containerState]),st(dt)}function ot(dt){if(dt===null){a&&it(),rt(0),e.consume(dt);return}return a=a||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:c}),ft(dt)}function ft(dt){if(dt===null){yt(e.exit("chunkFlow"),!0),rt(0),e.consume(dt);return}return markdownLineEnding(dt)?(e.consume(dt),yt(e.exit("chunkFlow")),o=0,i.interrupt=void 0,b):(e.consume(dt),ft)}function yt(dt,mt){const ut=i.sliceStream(dt);if(mt&&ut.push(null),dt.previous=c,c&&(c.next=dt),c=dt,a.defineSkip(dt.start),a.write(ut),i.parser.lazy[dt.start.line]){let lt=a.events.length;for(;lt--;)if(a.events[lt][1].start.offset<d&&(!a.events[lt][1].end||a.events[lt][1].end.offset>d))return;const ct=i.events.length;let gt=ct,bt,kt;for(;gt--;)if(i.events[gt][0]==="exit"&&i.events[gt][1].type==="chunkFlow"){if(bt){kt=i.events[gt][1].end;break}bt=!0}for(rt(o),lt=ct;lt<i.events.length;)i.events[lt][1].end={...kt},lt++;splice(i.events,gt+1,0,i.events.slice(ct)),i.events.length=lt}}function rt(dt){let mt=s.length;for(;mt-- >dt;){const ut=s[mt];i.containerState=ut[1],ut[0].exit.call(i,e)}s.length=dt}function it(){a.write([null]),c=void 0,a=void 0,i.containerState._closeFlow=void 0}}function tokenizeContainer(e,i,s){return factorySpace(e,e.attempt(this.parser.constructs.document,i,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,i,s){const o=[];let a=-1;for(;++a<e.length;){const c=e[a].resolveAll;c&&!o.includes(c)&&(i=c(i,s),o.push(c))}return i}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,i){let s=-1,o,a,c,d,b,g,j,_e;for(;++s<e.length;)if(e[s][0]==="enter"&&e[s][1].type==="attentionSequence"&&e[s][1]._close){for(o=s;o--;)if(e[o][0]==="exit"&&e[o][1].type==="attentionSequence"&&e[o][1]._open&&i.sliceSerialize(e[o][1]).charCodeAt(0)===i.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[o][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[o][1].end.offset-e[o][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;g=e[o][1].end.offset-e[o][1].start.offset>1&&e[s][1].end.offset-e[s][1].start.offset>1?2:1;const et={...e[o][1].end},st={...e[s][1].start};movePoint(et,-g),movePoint(st,g),d={type:g>1?"strongSequence":"emphasisSequence",start:et,end:{...e[o][1].end}},b={type:g>1?"strongSequence":"emphasisSequence",start:{...e[s][1].start},end:st},c={type:g>1?"strongText":"emphasisText",start:{...e[o][1].end},end:{...e[s][1].start}},a={type:g>1?"strong":"emphasis",start:{...d.start},end:{...b.end}},e[o][1].end={...d.start},e[s][1].start={...b.end},j=[],e[o][1].end.offset-e[o][1].start.offset&&(j=push(j,[["enter",e[o][1],i],["exit",e[o][1],i]])),j=push(j,[["enter",a,i],["enter",d,i],["exit",d,i],["enter",c,i]]),j=push(j,resolveAll(i.parser.constructs.insideSpan.null,e.slice(o+1,s),i)),j=push(j,[["exit",c,i],["enter",b,i],["exit",b,i],["exit",a,i]]),e[s][1].end.offset-e[s][1].start.offset?(_e=2,j=push(j,[["enter",e[s][1],i],["exit",e[s][1],i]])):_e=0,splice(e,o-1,s-o+3,j),s=o+j.length-_e-2;break}}for(s=-1;++s<e.length;)e[s][1].type==="attentionSequence"&&(e[s][1].type="data");return e}function tokenizeAttention(e,i){const s=this.parser.constructs.attentionMarkers.null,o=this.previous,a=classifyCharacter(o);let c;return d;function d(g){return c=g,e.enter("attentionSequence"),b(g)}function b(g){if(g===c)return e.consume(g),b;const j=e.exit("attentionSequence"),_e=classifyCharacter(g),et=!_e||_e===2&&a||s.includes(g),st=!a||a===2&&_e||s.includes(o);return j._open=!!(c===42?et:et&&(a||!st)),j._close=!!(c===42?st:st&&(_e||!et)),i(g)}}function movePoint(e,i){e.column+=i,e.offset+=i,e._bufferIndex+=i}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,i,s){let o=0;return a;function a(tt){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(tt),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),c}function c(tt){return asciiAlpha(tt)?(e.consume(tt),d):tt===64?s(tt):j(tt)}function d(tt){return tt===43||tt===45||tt===46||asciiAlphanumeric(tt)?(o=1,b(tt)):j(tt)}function b(tt){return tt===58?(e.consume(tt),o=0,g):(tt===43||tt===45||tt===46||asciiAlphanumeric(tt))&&o++<32?(e.consume(tt),b):(o=0,j(tt))}function g(tt){return tt===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(tt),e.exit("autolinkMarker"),e.exit("autolink"),i):tt===null||tt===32||tt===60||asciiControl(tt)?s(tt):(e.consume(tt),g)}function j(tt){return tt===64?(e.consume(tt),_e):asciiAtext(tt)?(e.consume(tt),j):s(tt)}function _e(tt){return asciiAlphanumeric(tt)?et(tt):s(tt)}function et(tt){return tt===46?(e.consume(tt),o=0,_e):tt===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(tt),e.exit("autolinkMarker"),e.exit("autolink"),i):st(tt)}function st(tt){if((tt===45||asciiAlphanumeric(tt))&&o++<63){const ot=tt===45?st:et;return e.consume(tt),ot}return s(tt)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(e,i,s){return o;function o(c){return markdownSpace(c)?factorySpace(e,a,"linePrefix")(c):a(c)}function a(c){return c===null||markdownLineEnding(c)?i(c):s(c)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,i,s){const o=this;return a;function a(d){if(d===62){const b=o.containerState;return b.open||(e.enter("blockQuote",{_container:!0}),b.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(d),e.exit("blockQuoteMarker"),c}return s(d)}function c(d){return markdownSpace(d)?(e.enter("blockQuotePrefixWhitespace"),e.consume(d),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),i):(e.exit("blockQuotePrefix"),i(d))}}function tokenizeBlockQuoteContinuation(e,i,s){const o=this;return a;function a(d){return markdownSpace(d)?factorySpace(e,c,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return e.attempt(blockQuote,i,s)(d)}}function exit$1(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,i,s){return o;function o(c){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(c),e.exit("escapeMarker"),a}function a(c){return asciiPunctuation(c)?(e.enter("characterEscapeValue"),e.consume(c),e.exit("characterEscapeValue"),e.exit("characterEscape"),i):s(c)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,i,s){const o=this;let a=0,c,d;return b;function b(et){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(et),e.exit("characterReferenceMarker"),g}function g(et){return et===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(et),e.exit("characterReferenceMarkerNumeric"),j):(e.enter("characterReferenceValue"),c=31,d=asciiAlphanumeric,_e(et))}function j(et){return et===88||et===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(et),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),c=6,d=asciiHexDigit,_e):(e.enter("characterReferenceValue"),c=7,d=asciiDigit,_e(et))}function _e(et){if(et===59&&a){const st=e.exit("characterReferenceValue");return d===asciiAlphanumeric&&!decodeNamedCharacterReference(o.sliceSerialize(st))?s(et):(e.enter("characterReferenceMarker"),e.consume(et),e.exit("characterReferenceMarker"),e.exit("characterReference"),i)}return d(et)&&a++<c?(e.consume(et),_e):s(et)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,i,s){const o=this,a={partial:!0,tokenize:ut};let c=0,d=0,b;return g;function g(lt){return j(lt)}function j(lt){const ct=o.events[o.events.length-1];return c=ct&&ct[1].type==="linePrefix"?ct[2].sliceSerialize(ct[1],!0).length:0,b=lt,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),_e(lt)}function _e(lt){return lt===b?(d++,e.consume(lt),_e):d<3?s(lt):(e.exit("codeFencedFenceSequence"),markdownSpace(lt)?factorySpace(e,et,"whitespace")(lt):et(lt))}function et(lt){return lt===null||markdownLineEnding(lt)?(e.exit("codeFencedFence"),o.interrupt?i(lt):e.check(nonLazyContinuation,ft,mt)(lt)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),st(lt))}function st(lt){return lt===null||markdownLineEnding(lt)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),et(lt)):markdownSpace(lt)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,tt,"whitespace")(lt)):lt===96&&lt===b?s(lt):(e.consume(lt),st)}function tt(lt){return lt===null||markdownLineEnding(lt)?et(lt):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),ot(lt))}function ot(lt){return lt===null||markdownLineEnding(lt)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),et(lt)):lt===96&&lt===b?s(lt):(e.consume(lt),ot)}function ft(lt){return e.attempt(a,mt,yt)(lt)}function yt(lt){return e.enter("lineEnding"),e.consume(lt),e.exit("lineEnding"),rt}function rt(lt){return c>0&&markdownSpace(lt)?factorySpace(e,it,"linePrefix",c+1)(lt):it(lt)}function it(lt){return lt===null||markdownLineEnding(lt)?e.check(nonLazyContinuation,ft,mt)(lt):(e.enter("codeFlowValue"),dt(lt))}function dt(lt){return lt===null||markdownLineEnding(lt)?(e.exit("codeFlowValue"),it(lt)):(e.consume(lt),dt)}function mt(lt){return e.exit("codeFenced"),i(lt)}function ut(lt,ct,gt){let bt=0;return kt;function kt(Pt){return lt.enter("lineEnding"),lt.consume(Pt),lt.exit("lineEnding"),ht}function ht(Pt){return lt.enter("codeFencedFence"),markdownSpace(Pt)?factorySpace(lt,St,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Pt):St(Pt)}function St(Pt){return Pt===b?(lt.enter("codeFencedFenceSequence"),At(Pt)):gt(Pt)}function At(Pt){return Pt===b?(bt++,lt.consume(Pt),At):bt>=d?(lt.exit("codeFencedFenceSequence"),markdownSpace(Pt)?factorySpace(lt,zt,"whitespace")(Pt):zt(Pt)):gt(Pt)}function zt(Pt){return Pt===null||markdownLineEnding(Pt)?(lt.exit("codeFencedFence"),ct(Pt)):gt(Pt)}}}function tokenizeNonLazyContinuation(e,i,s){const o=this;return a;function a(d){return d===null?s(d):(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c)}function c(d){return o.parser.lazy[o.now().line]?s(d):i(d)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,i,s){const o=this;return a;function a(j){return e.enter("codeIndented"),factorySpace(e,c,"linePrefix",5)(j)}function c(j){const _e=o.events[o.events.length-1];return _e&&_e[1].type==="linePrefix"&&_e[2].sliceSerialize(_e[1],!0).length>=4?d(j):s(j)}function d(j){return j===null?g(j):markdownLineEnding(j)?e.attempt(furtherStart,d,g)(j):(e.enter("codeFlowValue"),b(j))}function b(j){return j===null||markdownLineEnding(j)?(e.exit("codeFlowValue"),d(j)):(e.consume(j),b)}function g(j){return e.exit("codeIndented"),i(j)}}function tokenizeFurtherStart(e,i,s){const o=this;return a;function a(d){return o.parser.lazy[o.now().line]?s(d):markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):factorySpace(e,c,"linePrefix",5)(d)}function c(d){const b=o.events[o.events.length-1];return b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?i(d):markdownLineEnding(d)?a(d):s(d)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let i=e.length-4,s=3,o,a;if((e[s][1].type==="lineEnding"||e[s][1].type==="space")&&(e[i][1].type==="lineEnding"||e[i][1].type==="space")){for(o=s;++o<i;)if(e[o][1].type==="codeTextData"){e[s][1].type="codeTextPadding",e[i][1].type="codeTextPadding",s+=2,i-=2;break}}for(o=s-1,i++;++o<=i;)a===void 0?o!==i&&e[o][1].type!=="lineEnding"&&(a=o):(o===i||e[o][1].type==="lineEnding")&&(e[a][1].type="codeTextData",o!==a+2&&(e[a][1].end=e[o-1][1].end,e.splice(a+2,o-a-2),i-=o-a-2,o=a+2),a=void 0);return e}function previous$1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,i,s){let o=0,a,c;return d;function d(et){return e.enter("codeText"),e.enter("codeTextSequence"),b(et)}function b(et){return et===96?(e.consume(et),o++,b):(e.exit("codeTextSequence"),g(et))}function g(et){return et===null?s(et):et===32?(e.enter("space"),e.consume(et),e.exit("space"),g):et===96?(c=e.enter("codeTextSequence"),a=0,_e(et)):markdownLineEnding(et)?(e.enter("lineEnding"),e.consume(et),e.exit("lineEnding"),g):(e.enter("codeTextData"),j(et))}function j(et){return et===null||et===32||et===96||markdownLineEnding(et)?(e.exit("codeTextData"),g(et)):(e.consume(et),j)}function _e(et){return et===96?(e.consume(et),a++,_e):a===o?(e.exit("codeTextSequence"),e.exit("codeText"),i(et)):(c.type="codeTextData",j(et))}}class SpliceBuffer{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,s){const o=s??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(i,o):i>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(i,s,o){const a=s||0;this.setCursor(Math.trunc(i));const c=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return o&&chunkedPush(this.left,o),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),chunkedPush(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const s=this.left.splice(i,Number.POSITIVE_INFINITY);chunkedPush(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);chunkedPush(this.left,s.reverse())}}}function chunkedPush(e,i){let s=0;if(i.length<1e4)e.push(...i);else for(;s<i.length;)e.push(...i.slice(s,s+1e4)),s+=1e4}function subtokenize(e){const i={};let s=-1,o,a,c,d,b,g,j;const _e=new SpliceBuffer(e);for(;++s<_e.length;){for(;s in i;)s=i[s];if(o=_e.get(s),s&&o[1].type==="chunkFlow"&&_e.get(s-1)[1].type==="listItemPrefix"&&(g=o[1]._tokenizer.events,c=0,c<g.length&&g[c][1].type==="lineEndingBlank"&&(c+=2),c<g.length&&g[c][1].type==="content"))for(;++c<g.length&&g[c][1].type!=="content";)g[c][1].type==="chunkText"&&(g[c][1]._isInFirstContentOfListItem=!0,c++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,subcontent(_e,s)),s=i[s],j=!0);else if(o[1]._container){for(c=s,a=void 0;c--;)if(d=_e.get(c),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(a&&(_e.get(a)[1].type="lineEndingBlank"),d[1].type="lineEnding",a=c);else if(d[1].type!=="linePrefix")break;a&&(o[1].end={..._e.get(a)[1].start},b=_e.slice(a,s),b.unshift(o),_e.splice(a,s-a+1,b))}}return splice(e,0,Number.POSITIVE_INFINITY,_e.slice(0)),!j}function subcontent(e,i){const s=e.get(i)[1],o=e.get(i)[2];let a=i-1;const c=[],d=s._tokenizer||o.parser[s.contentType](s.start),b=d.events,g=[],j={};let _e,et,st=-1,tt=s,ot=0,ft=0;const yt=[ft];for(;tt;){for(;e.get(++a)[1]!==tt;);c.push(a),tt._tokenizer||(_e=o.sliceStream(tt),tt.next||_e.push(null),et&&d.defineSkip(tt.start),tt._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(_e),tt._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),et=tt,tt=tt.next}for(tt=s;++st<b.length;)b[st][0]==="exit"&&b[st-1][0]==="enter"&&b[st][1].type===b[st-1][1].type&&b[st][1].start.line!==b[st][1].end.line&&(ft=st+1,yt.push(ft),tt._tokenizer=void 0,tt.previous=void 0,tt=tt.next);for(d.events=[],tt?(tt._tokenizer=void 0,tt.previous=void 0):yt.pop(),st=yt.length;st--;){const rt=b.slice(yt[st],yt[st+1]),it=c.pop();g.push([it,it+rt.length-1]),e.splice(it,2,rt)}for(g.reverse(),st=-1;++st<g.length;)j[ot+g[st][0]]=ot+g[st][1],ot+=g[st][1]-g[st][0]-1;return j}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,i){let s;return o;function o(b){return e.enter("content"),s=e.enter("chunkContent",{contentType:"content"}),a(b)}function a(b){return b===null?c(b):markdownLineEnding(b)?e.check(continuationConstruct,d,c)(b):(e.consume(b),a)}function c(b){return e.exit("chunkContent"),e.exit("content"),i(b)}function d(b){return e.consume(b),e.exit("chunkContent"),s.next=e.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,a}}function tokenizeContinuation(e,i,s){const o=this;return a;function a(d){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),factorySpace(e,c,"linePrefix")}function c(d){if(d===null||markdownLineEnding(d))return s(d);const b=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?i(d):e.interrupt(o.parser.constructs.flow,s,i)(d)}}function factoryDestination(e,i,s,o,a,c,d,b,g){const j=g||Number.POSITIVE_INFINITY;let _e=0;return et;function et(rt){return rt===60?(e.enter(o),e.enter(a),e.enter(c),e.consume(rt),e.exit(c),st):rt===null||rt===32||rt===41||asciiControl(rt)?s(rt):(e.enter(o),e.enter(d),e.enter(b),e.enter("chunkString",{contentType:"string"}),ft(rt))}function st(rt){return rt===62?(e.enter(c),e.consume(rt),e.exit(c),e.exit(a),e.exit(o),i):(e.enter(b),e.enter("chunkString",{contentType:"string"}),tt(rt))}function tt(rt){return rt===62?(e.exit("chunkString"),e.exit(b),st(rt)):rt===null||rt===60||markdownLineEnding(rt)?s(rt):(e.consume(rt),rt===92?ot:tt)}function ot(rt){return rt===60||rt===62||rt===92?(e.consume(rt),tt):tt(rt)}function ft(rt){return!_e&&(rt===null||rt===41||markdownLineEndingOrSpace(rt))?(e.exit("chunkString"),e.exit(b),e.exit(d),e.exit(o),i(rt)):_e<j&&rt===40?(e.consume(rt),_e++,ft):rt===41?(e.consume(rt),_e--,ft):rt===null||rt===32||rt===40||asciiControl(rt)?s(rt):(e.consume(rt),rt===92?yt:ft)}function yt(rt){return rt===40||rt===41||rt===92?(e.consume(rt),ft):ft(rt)}}function factoryLabel(e,i,s,o,a,c){const d=this;let b=0,g;return j;function j(tt){return e.enter(o),e.enter(a),e.consume(tt),e.exit(a),e.enter(c),_e}function _e(tt){return b>999||tt===null||tt===91||tt===93&&!g||tt===94&&!b&&"_hiddenFootnoteSupport"in d.parser.constructs?s(tt):tt===93?(e.exit(c),e.enter(a),e.consume(tt),e.exit(a),e.exit(o),i):markdownLineEnding(tt)?(e.enter("lineEnding"),e.consume(tt),e.exit("lineEnding"),_e):(e.enter("chunkString",{contentType:"string"}),et(tt))}function et(tt){return tt===null||tt===91||tt===93||markdownLineEnding(tt)||b++>999?(e.exit("chunkString"),_e(tt)):(e.consume(tt),g||(g=!markdownSpace(tt)),tt===92?st:et)}function st(tt){return tt===91||tt===92||tt===93?(e.consume(tt),b++,et):et(tt)}}function factoryTitle(e,i,s,o,a,c){let d;return b;function b(st){return st===34||st===39||st===40?(e.enter(o),e.enter(a),e.consume(st),e.exit(a),d=st===40?41:st,g):s(st)}function g(st){return st===d?(e.enter(a),e.consume(st),e.exit(a),e.exit(o),i):(e.enter(c),j(st))}function j(st){return st===d?(e.exit(c),g(d)):st===null?s(st):markdownLineEnding(st)?(e.enter("lineEnding"),e.consume(st),e.exit("lineEnding"),factorySpace(e,j,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),_e(st))}function _e(st){return st===d||st===null||markdownLineEnding(st)?(e.exit("chunkString"),j(st)):(e.consume(st),st===92?et:_e)}function et(st){return st===d||st===92?(e.consume(st),_e):_e(st)}}function factoryWhitespace(e,i){let s;return o;function o(a){return markdownLineEnding(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s=!0,o):markdownSpace(a)?factorySpace(e,o,s?"linePrefix":"lineSuffix")(a):i(a)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,i,s){const o=this;let a;return c;function c(tt){return e.enter("definition"),d(tt)}function d(tt){return factoryLabel.call(o,e,b,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(tt)}function b(tt){return a=normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),tt===58?(e.enter("definitionMarker"),e.consume(tt),e.exit("definitionMarker"),g):s(tt)}function g(tt){return markdownLineEndingOrSpace(tt)?factoryWhitespace(e,j)(tt):j(tt)}function j(tt){return factoryDestination(e,_e,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(tt)}function _e(tt){return e.attempt(titleBefore,et,et)(tt)}function et(tt){return markdownSpace(tt)?factorySpace(e,st,"whitespace")(tt):st(tt)}function st(tt){return tt===null||markdownLineEnding(tt)?(e.exit("definition"),o.parser.defined.push(a),i(tt)):s(tt)}}function tokenizeTitleBefore(e,i,s){return o;function o(b){return markdownLineEndingOrSpace(b)?factoryWhitespace(e,a)(b):s(b)}function a(b){return factoryTitle(e,c,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(b)}function c(b){return markdownSpace(b)?factorySpace(e,d,"whitespace")(b):d(b)}function d(b){return b===null||markdownLineEnding(b)?i(b):s(b)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,i,s){return o;function o(c){return e.enter("hardBreakEscape"),e.consume(c),a}function a(c){return markdownLineEnding(c)?(e.exit("hardBreakEscape"),i(c)):s(c)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,i){let s=e.length-2,o=3,a,c;return e[o][1].type==="whitespace"&&(o+=2),s-2>o&&e[s][1].type==="whitespace"&&(s-=2),e[s][1].type==="atxHeadingSequence"&&(o===s-1||s-4>o&&e[s-2][1].type==="whitespace")&&(s-=o+1===s?2:4),s>o&&(a={type:"atxHeadingText",start:e[o][1].start,end:e[s][1].end},c={type:"chunkText",start:e[o][1].start,end:e[s][1].end,contentType:"text"},splice(e,o,s-o+1,[["enter",a,i],["enter",c,i],["exit",c,i],["exit",a,i]])),e}function tokenizeHeadingAtx(e,i,s){let o=0;return a;function a(_e){return e.enter("atxHeading"),c(_e)}function c(_e){return e.enter("atxHeadingSequence"),d(_e)}function d(_e){return _e===35&&o++<6?(e.consume(_e),d):_e===null||markdownLineEndingOrSpace(_e)?(e.exit("atxHeadingSequence"),b(_e)):s(_e)}function b(_e){return _e===35?(e.enter("atxHeadingSequence"),g(_e)):_e===null||markdownLineEnding(_e)?(e.exit("atxHeading"),i(_e)):markdownSpace(_e)?factorySpace(e,b,"whitespace")(_e):(e.enter("atxHeadingText"),j(_e))}function g(_e){return _e===35?(e.consume(_e),g):(e.exit("atxHeadingSequence"),b(_e))}function j(_e){return _e===null||_e===35||markdownLineEndingOrSpace(_e)?(e.exit("atxHeadingText"),b(_e)):(e.consume(_e),j)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let i=e.length;for(;i--&&!(e[i][0]==="enter"&&e[i][1].type==="htmlFlow"););return i>1&&e[i-2][1].type==="linePrefix"&&(e[i][1].start=e[i-2][1].start,e[i+1][1].start=e[i-2][1].start,e.splice(i-2,2)),e}function tokenizeHtmlFlow(e,i,s){const o=this;let a,c,d,b,g;return j;function j(nt){return _e(nt)}function _e(nt){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(nt),et}function et(nt){return nt===33?(e.consume(nt),st):nt===47?(e.consume(nt),c=!0,ft):nt===63?(e.consume(nt),a=3,o.interrupt?i:vt):asciiAlpha(nt)?(e.consume(nt),d=String.fromCharCode(nt),yt):s(nt)}function st(nt){return nt===45?(e.consume(nt),a=2,tt):nt===91?(e.consume(nt),a=5,b=0,ot):asciiAlpha(nt)?(e.consume(nt),a=4,o.interrupt?i:vt):s(nt)}function tt(nt){return nt===45?(e.consume(nt),o.interrupt?i:vt):s(nt)}function ot(nt){const pt="CDATA[";return nt===pt.charCodeAt(b++)?(e.consume(nt),b===pt.length?o.interrupt?i:St:ot):s(nt)}function ft(nt){return asciiAlpha(nt)?(e.consume(nt),d=String.fromCharCode(nt),yt):s(nt)}function yt(nt){if(nt===null||nt===47||nt===62||markdownLineEndingOrSpace(nt)){const pt=nt===47,wt=d.toLowerCase();return!pt&&!c&&htmlRawNames.includes(wt)?(a=1,o.interrupt?i(nt):St(nt)):htmlBlockNames.includes(d.toLowerCase())?(a=6,pt?(e.consume(nt),rt):o.interrupt?i(nt):St(nt)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?s(nt):c?it(nt):dt(nt))}return nt===45||asciiAlphanumeric(nt)?(e.consume(nt),d+=String.fromCharCode(nt),yt):s(nt)}function rt(nt){return nt===62?(e.consume(nt),o.interrupt?i:St):s(nt)}function it(nt){return markdownSpace(nt)?(e.consume(nt),it):kt(nt)}function dt(nt){return nt===47?(e.consume(nt),kt):nt===58||nt===95||asciiAlpha(nt)?(e.consume(nt),mt):markdownSpace(nt)?(e.consume(nt),dt):kt(nt)}function mt(nt){return nt===45||nt===46||nt===58||nt===95||asciiAlphanumeric(nt)?(e.consume(nt),mt):ut(nt)}function ut(nt){return nt===61?(e.consume(nt),lt):markdownSpace(nt)?(e.consume(nt),ut):dt(nt)}function lt(nt){return nt===null||nt===60||nt===61||nt===62||nt===96?s(nt):nt===34||nt===39?(e.consume(nt),g=nt,ct):markdownSpace(nt)?(e.consume(nt),lt):gt(nt)}function ct(nt){return nt===g?(e.consume(nt),g=null,bt):nt===null||markdownLineEnding(nt)?s(nt):(e.consume(nt),ct)}function gt(nt){return nt===null||nt===34||nt===39||nt===47||nt===60||nt===61||nt===62||nt===96||markdownLineEndingOrSpace(nt)?ut(nt):(e.consume(nt),gt)}function bt(nt){return nt===47||nt===62||markdownSpace(nt)?dt(nt):s(nt)}function kt(nt){return nt===62?(e.consume(nt),ht):s(nt)}function ht(nt){return nt===null||markdownLineEnding(nt)?St(nt):markdownSpace(nt)?(e.consume(nt),ht):s(nt)}function St(nt){return nt===45&&a===2?(e.consume(nt),$t):nt===60&&a===1?(e.consume(nt),Dt):nt===62&&a===4?(e.consume(nt),jt):nt===63&&a===3?(e.consume(nt),vt):nt===93&&a===5?(e.consume(nt),Et):markdownLineEnding(nt)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,xt,At)(nt)):nt===null||markdownLineEnding(nt)?(e.exit("htmlFlowData"),At(nt)):(e.consume(nt),St)}function At(nt){return e.check(nonLazyContinuationStart,zt,xt)(nt)}function zt(nt){return e.enter("lineEnding"),e.consume(nt),e.exit("lineEnding"),Pt}function Pt(nt){return nt===null||markdownLineEnding(nt)?At(nt):(e.enter("htmlFlowData"),St(nt))}function $t(nt){return nt===45?(e.consume(nt),vt):St(nt)}function Dt(nt){return nt===47?(e.consume(nt),d="",Nt):St(nt)}function Nt(nt){if(nt===62){const pt=d.toLowerCase();return htmlRawNames.includes(pt)?(e.consume(nt),jt):St(nt)}return asciiAlpha(nt)&&d.length<8?(e.consume(nt),d+=String.fromCharCode(nt),Nt):St(nt)}function Et(nt){return nt===93?(e.consume(nt),vt):St(nt)}function vt(nt){return nt===62?(e.consume(nt),jt):nt===45&&a===2?(e.consume(nt),vt):St(nt)}function jt(nt){return nt===null||markdownLineEnding(nt)?(e.exit("htmlFlowData"),xt(nt)):(e.consume(nt),jt)}function xt(nt){return e.exit("htmlFlow"),i(nt)}}function tokenizeNonLazyContinuationStart(e,i,s){const o=this;return a;function a(d){return markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):s(d)}function c(d){return o.parser.lazy[o.now().line]?s(d):i(d)}}function tokenizeBlankLineBefore(e,i,s){return o;function o(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(blankLine,i,s)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,i,s){const o=this;let a,c,d;return b;function b(vt){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(vt),g}function g(vt){return vt===33?(e.consume(vt),j):vt===47?(e.consume(vt),ut):vt===63?(e.consume(vt),dt):asciiAlpha(vt)?(e.consume(vt),gt):s(vt)}function j(vt){return vt===45?(e.consume(vt),_e):vt===91?(e.consume(vt),c=0,ot):asciiAlpha(vt)?(e.consume(vt),it):s(vt)}function _e(vt){return vt===45?(e.consume(vt),tt):s(vt)}function et(vt){return vt===null?s(vt):vt===45?(e.consume(vt),st):markdownLineEnding(vt)?(d=et,Dt(vt)):(e.consume(vt),et)}function st(vt){return vt===45?(e.consume(vt),tt):et(vt)}function tt(vt){return vt===62?$t(vt):vt===45?st(vt):et(vt)}function ot(vt){const jt="CDATA[";return vt===jt.charCodeAt(c++)?(e.consume(vt),c===jt.length?ft:ot):s(vt)}function ft(vt){return vt===null?s(vt):vt===93?(e.consume(vt),yt):markdownLineEnding(vt)?(d=ft,Dt(vt)):(e.consume(vt),ft)}function yt(vt){return vt===93?(e.consume(vt),rt):ft(vt)}function rt(vt){return vt===62?$t(vt):vt===93?(e.consume(vt),rt):ft(vt)}function it(vt){return vt===null||vt===62?$t(vt):markdownLineEnding(vt)?(d=it,Dt(vt)):(e.consume(vt),it)}function dt(vt){return vt===null?s(vt):vt===63?(e.consume(vt),mt):markdownLineEnding(vt)?(d=dt,Dt(vt)):(e.consume(vt),dt)}function mt(vt){return vt===62?$t(vt):dt(vt)}function ut(vt){return asciiAlpha(vt)?(e.consume(vt),lt):s(vt)}function lt(vt){return vt===45||asciiAlphanumeric(vt)?(e.consume(vt),lt):ct(vt)}function ct(vt){return markdownLineEnding(vt)?(d=ct,Dt(vt)):markdownSpace(vt)?(e.consume(vt),ct):$t(vt)}function gt(vt){return vt===45||asciiAlphanumeric(vt)?(e.consume(vt),gt):vt===47||vt===62||markdownLineEndingOrSpace(vt)?bt(vt):s(vt)}function bt(vt){return vt===47?(e.consume(vt),$t):vt===58||vt===95||asciiAlpha(vt)?(e.consume(vt),kt):markdownLineEnding(vt)?(d=bt,Dt(vt)):markdownSpace(vt)?(e.consume(vt),bt):$t(vt)}function kt(vt){return vt===45||vt===46||vt===58||vt===95||asciiAlphanumeric(vt)?(e.consume(vt),kt):ht(vt)}function ht(vt){return vt===61?(e.consume(vt),St):markdownLineEnding(vt)?(d=ht,Dt(vt)):markdownSpace(vt)?(e.consume(vt),ht):bt(vt)}function St(vt){return vt===null||vt===60||vt===61||vt===62||vt===96?s(vt):vt===34||vt===39?(e.consume(vt),a=vt,At):markdownLineEnding(vt)?(d=St,Dt(vt)):markdownSpace(vt)?(e.consume(vt),St):(e.consume(vt),zt)}function At(vt){return vt===a?(e.consume(vt),a=void 0,Pt):vt===null?s(vt):markdownLineEnding(vt)?(d=At,Dt(vt)):(e.consume(vt),At)}function zt(vt){return vt===null||vt===34||vt===39||vt===60||vt===61||vt===96?s(vt):vt===47||vt===62||markdownLineEndingOrSpace(vt)?bt(vt):(e.consume(vt),zt)}function Pt(vt){return vt===47||vt===62||markdownLineEndingOrSpace(vt)?bt(vt):s(vt)}function $t(vt){return vt===62?(e.consume(vt),e.exit("htmlTextData"),e.exit("htmlText"),i):s(vt)}function Dt(vt){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(vt),e.exit("lineEnding"),Nt}function Nt(vt){return markdownSpace(vt)?factorySpace(e,Et,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(vt):Et(vt)}function Et(vt){return e.enter("htmlTextData"),d(vt)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let i=-1;const s=[];for(;++i<e.length;){const o=e[i][1];if(s.push(e[i]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const a=o.type==="labelImage"?4:2;o.type="data",i+=a}}return e.length!==s.length&&splice(e,0,e.length,s),e}function resolveToLabelEnd(e,i){let s=e.length,o=0,a,c,d,b;for(;s--;)if(a=e[s][1],c){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[s][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(e[s][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(c=s,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(d=s);const g={type:e[c][1].type==="labelLink"?"link":"image",start:{...e[c][1].start},end:{...e[e.length-1][1].end}},j={type:"label",start:{...e[c][1].start},end:{...e[d][1].end}},_e={type:"labelText",start:{...e[c+o+2][1].end},end:{...e[d-2][1].start}};return b=[["enter",g,i],["enter",j,i]],b=push(b,e.slice(c+1,c+o+3)),b=push(b,[["enter",_e,i]]),b=push(b,resolveAll(i.parser.constructs.insideSpan.null,e.slice(c+o+4,d-3),i)),b=push(b,[["exit",_e,i],e[d-2],e[d-1],["exit",j,i]]),b=push(b,e.slice(d+1)),b=push(b,[["exit",g,i]]),splice(e,c,e.length,b),e}function tokenizeLabelEnd(e,i,s){const o=this;let a=o.events.length,c,d;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){c=o.events[a][1];break}return b;function b(st){return c?c._inactive?et(st):(d=o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize({start:c.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(st),e.exit("labelMarker"),e.exit("labelEnd"),g):s(st)}function g(st){return st===40?e.attempt(resourceConstruct,_e,d?_e:et)(st):st===91?e.attempt(referenceFullConstruct,_e,d?j:et)(st):d?_e(st):et(st)}function j(st){return e.attempt(referenceCollapsedConstruct,_e,et)(st)}function _e(st){return i(st)}function et(st){return c._balanced=!0,s(st)}}function tokenizeResource(e,i,s){return o;function o(et){return e.enter("resource"),e.enter("resourceMarker"),e.consume(et),e.exit("resourceMarker"),a}function a(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(e,c)(et):c(et)}function c(et){return et===41?_e(et):factoryDestination(e,d,b,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(et)}function d(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(e,g)(et):_e(et)}function b(et){return s(et)}function g(et){return et===34||et===39||et===40?factoryTitle(e,j,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(et):_e(et)}function j(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(e,_e)(et):_e(et)}function _e(et){return et===41?(e.enter("resourceMarker"),e.consume(et),e.exit("resourceMarker"),e.exit("resource"),i):s(et)}}function tokenizeReferenceFull(e,i,s){const o=this;return a;function a(b){return factoryLabel.call(o,e,c,d,"reference","referenceMarker","referenceString")(b)}function c(b){return o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(b):s(b)}function d(b){return s(b)}}function tokenizeReferenceCollapsed(e,i,s){return o;function o(c){return e.enter("reference"),e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),a}function a(c){return c===93?(e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),e.exit("reference"),i):s(c)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,i,s){const o=this;return a;function a(b){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(b),e.exit("labelImageMarker"),c}function c(b){return b===91?(e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelImage"),d):s(b)}function d(b){return b===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(b):i(b)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,i,s){const o=this;return a;function a(d){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(d):i(d)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,i){return s;function s(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),factorySpace(e,i,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,i,s){let o=0,a;return c;function c(j){return e.enter("thematicBreak"),d(j)}function d(j){return a=j,b(j)}function b(j){return j===a?(e.enter("thematicBreakSequence"),g(j)):o>=3&&(j===null||markdownLineEnding(j))?(e.exit("thematicBreak"),i(j)):s(j)}function g(j){return j===a?(e.consume(j),o++,g):(e.exit("thematicBreakSequence"),markdownSpace(j)?factorySpace(e,b,"whitespace")(j):b(j))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(e,i,s){const o=this,a=o.events[o.events.length-1];let c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return b;function b(tt){const ot=o.containerState.type||(tt===42||tt===43||tt===45?"listUnordered":"listOrdered");if(ot==="listUnordered"?!o.containerState.marker||tt===o.containerState.marker:asciiDigit(tt)){if(o.containerState.type||(o.containerState.type=ot,e.enter(ot,{_container:!0})),ot==="listUnordered")return e.enter("listItemPrefix"),tt===42||tt===45?e.check(thematicBreak$2,s,j)(tt):j(tt);if(!o.interrupt||tt===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),g(tt)}return s(tt)}function g(tt){return asciiDigit(tt)&&++d<10?(e.consume(tt),g):(!o.interrupt||d<2)&&(o.containerState.marker?tt===o.containerState.marker:tt===41||tt===46)?(e.exit("listItemValue"),j(tt)):s(tt)}function j(tt){return e.enter("listItemMarker"),e.consume(tt),e.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||tt,e.check(blankLine,o.interrupt?s:_e,e.attempt(listItemPrefixWhitespaceConstruct,st,et))}function _e(tt){return o.containerState.initialBlankLine=!0,c++,st(tt)}function et(tt){return markdownSpace(tt)?(e.enter("listItemPrefixWhitespace"),e.consume(tt),e.exit("listItemPrefixWhitespace"),st):s(tt)}function st(tt){return o.containerState.size=c+o.sliceSerialize(e.exit("listItemPrefix"),!0).length,i(tt)}}function tokenizeListContinuation(e,i,s){const o=this;return o.containerState._closeFlow=void 0,e.check(blankLine,a,c);function a(b){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,factorySpace(e,i,"listItemIndent",o.containerState.size+1)(b)}function c(b){return o.containerState.furtherBlankLines||!markdownSpace(b)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(b)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,i,d)(b))}function d(b){return o.containerState._closeFlow=!0,o.interrupt=void 0,factorySpace(e,e.attempt(list$2,i,s),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b)}}function tokenizeIndent$1(e,i,s){const o=this;return factorySpace(e,a,"listItemIndent",o.containerState.size+1);function a(c){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?i(c):s(c)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,i,s){const o=this;return factorySpace(e,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(c){const d=o.events[o.events.length-1];return!markdownSpace(c)&&d&&d[1].type==="listItemPrefixWhitespace"?i(c):s(c)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,i){let s=e.length,o,a,c;for(;s--;)if(e[s][0]==="enter"){if(e[s][1].type==="content"){o=s;break}e[s][1].type==="paragraph"&&(a=s)}else e[s][1].type==="content"&&e.splice(s,1),!c&&e[s][1].type==="definition"&&(c=s);const d={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",c?(e.splice(a,0,["enter",d,i]),e.splice(c+1,0,["exit",e[o][1],i]),e[o][1].end={...e[c][1].end}):e[o][1]=d,e.push(["exit",d,i]),e}function tokenizeSetextUnderline(e,i,s){const o=this;let a;return c;function c(j){let _e=o.events.length,et;for(;_e--;)if(o.events[_e][1].type!=="lineEnding"&&o.events[_e][1].type!=="linePrefix"&&o.events[_e][1].type!=="content"){et=o.events[_e][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||et)?(e.enter("setextHeadingLine"),a=j,d(j)):s(j)}function d(j){return e.enter("setextHeadingLineSequence"),b(j)}function b(j){return j===a?(e.consume(j),b):(e.exit("setextHeadingLineSequence"),markdownSpace(j)?factorySpace(e,g,"lineSuffix")(j):g(j))}function g(j){return j===null||markdownLineEnding(j)?(e.exit("setextHeadingLine"),i(j)):s(j)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const i=this,s=e.attempt(blankLine,o,e.attempt(this.parser.constructs.flowInitial,a,factorySpace(e,e.attempt(this.parser.constructs.flow,a,e.attempt(content,a)),"linePrefix")));return s;function o(c){if(c===null){e.consume(c);return}return e.enter("lineEndingBlank"),e.consume(c),e.exit("lineEndingBlank"),i.currentConstruct=void 0,s}function a(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),i.currentConstruct=void 0,s}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:i};function i(s){const o=this,a=this.parser.constructs[e],c=s.attempt(a,d,b);return d;function d(_e){return j(_e)?c(_e):b(_e)}function b(_e){if(_e===null){s.consume(_e);return}return s.enter("data"),s.consume(_e),g}function g(_e){return j(_e)?(s.exit("data"),c(_e)):(s.consume(_e),g)}function j(_e){if(_e===null)return!0;const et=a[_e];let st=-1;if(et)for(;++st<et.length;){const tt=et[st];if(!tt.previous||tt.previous.call(o,o.previous))return!0}return!1}}}function createResolver(e){return i;function i(s,o){let a=-1,c;for(;++a<=s.length;)c===void 0?s[a]&&s[a][1].type==="data"&&(c=a,a++):(!s[a]||s[a][1].type!=="data")&&(a!==c+2&&(s[c][1].end=s[a-1][1].end,s.splice(c+2,a-c-2),a=c+2),c=void 0);return e?e(s,o):s}}function resolveAllLineSuffixes(e,i){let s=0;for(;++s<=e.length;)if((s===e.length||e[s][1].type==="lineEnding")&&e[s-1][1].type==="data"){const o=e[s-1][1],a=i.sliceStream(o);let c=a.length,d=-1,b=0,g;for(;c--;){const j=a[c];if(typeof j=="string"){for(d=j.length;j.charCodeAt(d-1)===32;)b++,d--;if(d)break;d=-1}else if(j===-2)g=!0,b++;else if(j!==-1){c++;break}}if(b){const j={type:s===e.length||g||b<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?d:o.start._bufferIndex+d,_index:o.start._index+c,line:o.end.line,column:o.end.column-b,offset:o.end.offset-b},end:{...o.end}};o.end={...j.start},o.start.offset===o.end.offset?Object.assign(o,j):(e.splice(s,0,["enter",j,i],["exit",j,i]),s+=2)}s++}return e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,i,s){let o={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const a={},c=[];let d=[],b=[];const g={attempt:ct(ut),check:ct(lt),consume:it,enter:dt,exit:mt,interrupt:ct(lt,{interrupt:!0})},j={code:null,containerState:{},defineSkip:ft,events:[],now:ot,parser:e,previous:null,sliceSerialize:st,sliceStream:tt,write:et};let _e=i.tokenize.call(j,g);return i.resolveAll&&c.push(i),j;function et(ht){return d=push(d,ht),yt(),d[d.length-1]!==null?[]:(gt(i,0),j.events=resolveAll(c,j.events,j),j.events)}function st(ht,St){return serializeChunks(tt(ht),St)}function tt(ht){return sliceChunks(d,ht)}function ot(){const{_bufferIndex:ht,_index:St,line:At,column:zt,offset:Pt}=o;return{_bufferIndex:ht,_index:St,line:At,column:zt,offset:Pt}}function ft(ht){a[ht.line]=ht.column,kt()}function yt(){let ht;for(;o._index<d.length;){const St=d[o._index];if(typeof St=="string")for(ht=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===ht&&o._bufferIndex<St.length;)rt(St.charCodeAt(o._bufferIndex));else rt(St)}}function rt(ht){_e=_e(ht)}function it(ht){markdownLineEnding(ht)?(o.line++,o.column=1,o.offset+=ht===-3?2:1,kt()):ht!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),j.previous=ht}function dt(ht,St){const At=St||{};return At.type=ht,At.start=ot(),j.events.push(["enter",At,j]),b.push(At),At}function mt(ht){const St=b.pop();return St.end=ot(),j.events.push(["exit",St,j]),St}function ut(ht,St){gt(ht,St.from)}function lt(ht,St){St.restore()}function ct(ht,St){return At;function At(zt,Pt,$t){let Dt,Nt,Et,vt;return Array.isArray(zt)?xt(zt):"tokenize"in zt?xt([zt]):jt(zt);function jt(Ct){return Rt;function Rt(Lt){const Bt=Lt!==null&&Ct[Lt],Kt=Lt!==null&&Ct.null,nn=[...Array.isArray(Bt)?Bt:Bt?[Bt]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return xt(nn)(Lt)}}function xt(Ct){return Dt=Ct,Nt=0,Ct.length===0?$t:nt(Ct[Nt])}function nt(Ct){return Rt;function Rt(Lt){return vt=bt(),Et=Ct,Ct.partial||(j.currentConstruct=Ct),Ct.name&&j.parser.constructs.disable.null.includes(Ct.name)?wt():Ct.tokenize.call(St?Object.assign(Object.create(j),St):j,g,pt,wt)(Lt)}}function pt(Ct){return ht(Et,vt),Pt}function wt(Ct){return vt.restore(),++Nt<Dt.length?nt(Dt[Nt]):$t}}}function gt(ht,St){ht.resolveAll&&!c.includes(ht)&&c.push(ht),ht.resolve&&splice(j.events,St,j.events.length-St,ht.resolve(j.events.slice(St),j)),ht.resolveTo&&(j.events=ht.resolveTo(j.events,j))}function bt(){const ht=ot(),St=j.previous,At=j.currentConstruct,zt=j.events.length,Pt=Array.from(b);return{from:zt,restore:$t};function $t(){o=ht,j.previous=St,j.currentConstruct=At,j.events.length=zt,b=Pt,kt()}}function kt(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function sliceChunks(e,i){const s=i.start._index,o=i.start._bufferIndex,a=i.end._index,c=i.end._bufferIndex;let d;if(s===a)d=[e[s].slice(o,c)];else{if(d=e.slice(s,a),o>-1){const b=d[0];typeof b=="string"?d[0]=b.slice(o):d.shift()}c>0&&d.push(e[a].slice(0,c))}return d}function serializeChunks(e,i){let s=-1;const o=[];let a;for(;++s<e.length;){const c=e[s];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=i?" ":"	";break}case-1:{if(!i&&a)continue;d=" ";break}default:d=String.fromCharCode(c)}a=c===-2,o.push(d)}return o.join("")}function parse(e){const o={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:a(content$1),defined:[],document:a(document$2),flow:a(flow$1),lazy:{},string:a(string$1),text:a(text$4)};return o;function a(c){return d;function d(b){return createTokenizer(o,c,b)}}}function postprocess(e){for(;!subtokenize(e););return e}const search=/[\0\t\n\r]/g;function preprocess(){let e=1,i="",s=!0,o;return a;function a(c,d,b){const g=[];let j,_e,et,st,tt;for(c=i+(typeof c=="string"?c.toString():new TextDecoder(d||void 0).decode(c)),et=0,i="",s&&(c.charCodeAt(0)===65279&&et++,s=void 0);et<c.length;){if(search.lastIndex=et,j=search.exec(c),st=j&&j.index!==void 0?j.index:c.length,tt=c.charCodeAt(st),!j){i=c.slice(et);break}if(tt===10&&et===st&&o)g.push(-3),o=void 0;else switch(o&&(g.push(-5),o=void 0),et<st&&(g.push(c.slice(et,st)),e+=st-et),tt){case 0:{g.push(65533),e++;break}case 9:{for(_e=Math.ceil(e/4)*4,g.push(-2);e++<_e;)g.push(-1);break}case 10:{g.push(-4),e=1;break}default:o=!0,e=1}et=st+1}return b&&(o&&g.push(-5),i&&g.push(i),g.push(null)),g}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,i,s){if(i)return i;if(s.charCodeAt(0)===35){const a=s.charCodeAt(1),c=a===120||a===88;return decodeNumericCharacterReference(s.slice(c?2:1),c?16:10)}return decodeNamedCharacterReference(s)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,i,s){return typeof i!="string"&&(s=i,i=void 0),compiler(s)(postprocess(parse(s).document().write(preprocess()(e,i,!0))))}function compiler(e){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(It),autolinkProtocol:bt,autolinkEmail:bt,atxHeading:c(dn),blockQuote:c(Kt),characterEscape:bt,characterReference:bt,codeFenced:c(nn),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(nn,d),codeText:c(sn,d),codeTextData:bt,data:bt,codeFlowValue:bt,definition:c(cn),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(ln),hardBreakEscape:c(Vt),hardBreakTrailing:c(Vt),htmlFlow:c(Xt,d),htmlFlowData:bt,htmlText:c(Xt,d),htmlTextData:bt,image:c(_t),label:d,link:c(It),listItem:c(Qt),listItemValue:st,listOrdered:c(Wt,et),listUnordered:c(Wt),paragraph:c(an),reference:nt,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(dn),strong:c(gn),thematicBreak:c(qt)},exit:{atxHeading:g(),atxHeadingSequence:ut,autolink:g(),autolinkEmail:Bt,autolinkProtocol:Lt,blockQuote:g(),characterEscapeValue:kt,characterReferenceMarkerHexadecimal:wt,characterReferenceMarkerNumeric:wt,characterReferenceValue:Ct,characterReference:Rt,codeFenced:g(yt),codeFencedFence:ft,codeFencedFenceInfo:tt,codeFencedFenceMeta:ot,codeFlowValue:kt,codeIndented:g(rt),codeText:g(Pt),codeTextData:kt,data:kt,definition:g(),definitionDestinationString:mt,definitionLabelString:it,definitionTitleString:dt,emphasis:g(),hardBreakEscape:g(St),hardBreakTrailing:g(St),htmlFlow:g(At),htmlFlowData:kt,htmlText:g(zt),htmlTextData:kt,image:g(Dt),label:Et,labelText:Nt,lineEnding:ht,link:g($t),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:pt,resourceDestinationString:vt,resourceTitleString:jt,resource:xt,setextHeading:g(gt),setextHeadingLineSequence:ct,setextHeadingText:lt,strong:g(),thematicBreak:g()}};configure(i,(e||{}).mdastExtensions||[]);const s={};return o;function o(Ht){let Jt={type:"root",children:[]};const vn={stack:[Jt],tokenStack:[],config:i,enter:b,exit:j,buffer:d,resume:_e,data:s},bn=[];let Pn=-1;for(;++Pn<Ht.length;)if(Ht[Pn][1].type==="listOrdered"||Ht[Pn][1].type==="listUnordered")if(Ht[Pn][0]==="enter")bn.push(Pn);else{const Sn=bn.pop();Pn=a(Ht,Sn,Pn)}for(Pn=-1;++Pn<Ht.length;){const Sn=i[Ht[Pn][0]];own$2.call(Sn,Ht[Pn][1].type)&&Sn[Ht[Pn][1].type].call(Object.assign({sliceSerialize:Ht[Pn][2].sliceSerialize},vn),Ht[Pn][1])}if(vn.tokenStack.length>0){const Sn=vn.tokenStack[vn.tokenStack.length-1];(Sn[1]||defaultOnError).call(vn,void 0,Sn[0])}for(Jt.position={start:point(Ht.length>0?Ht[0][1].start:{line:1,column:1,offset:0}),end:point(Ht.length>0?Ht[Ht.length-2][1].end:{line:1,column:1,offset:0})},Pn=-1;++Pn<i.transforms.length;)Jt=i.transforms[Pn](Jt)||Jt;return Jt}function a(Ht,Jt,vn){let bn=Jt-1,Pn=-1,Sn=!1,En,Fn,Dn,hn;for(;++bn<=vn;){const Yt=Ht[bn];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?Pn++:Pn--,hn=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(En&&!hn&&!Pn&&!Dn&&(Dn=bn),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!Pn&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||Pn===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(En){let Zt=bn;for(Fn=void 0;Zt--;){const wn=Ht[Zt];if(wn[1].type==="lineEnding"||wn[1].type==="lineEndingBlank"){if(wn[0]==="exit")continue;Fn&&(Ht[Fn][1].type="lineEndingBlank",Sn=!0),wn[1].type="lineEnding",Fn=Zt}else if(!(wn[1].type==="linePrefix"||wn[1].type==="blockQuotePrefix"||wn[1].type==="blockQuotePrefixWhitespace"||wn[1].type==="blockQuoteMarker"||wn[1].type==="listItemIndent"))break}Dn&&(!Fn||Dn<Fn)&&(En._spread=!0),En.end=Object.assign({},Fn?Ht[Fn][1].start:Yt[1].end),Ht.splice(Fn||bn,0,["exit",En,Yt[2]]),bn++,vn++}if(Yt[1].type==="listItemPrefix"){const Zt={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};En=Zt,Ht.splice(bn,0,["enter",Zt,Yt[2]]),bn++,vn++,Dn=void 0,hn=!0}}}return Ht[Jt][1]._spread=Sn,vn}function c(Ht,Jt){return vn;function vn(bn){b.call(this,Ht(bn),bn),Jt&&Jt.call(this,bn)}}function d(){this.stack.push({type:"fragment",children:[]})}function b(Ht,Jt,vn){this.stack[this.stack.length-1].children.push(Ht),this.stack.push(Ht),this.tokenStack.push([Jt,vn||void 0]),Ht.position={start:point(Jt.start),end:void 0}}function g(Ht){return Jt;function Jt(vn){Ht&&Ht.call(this,vn),j.call(this,vn)}}function j(Ht,Jt){const vn=this.stack.pop(),bn=this.tokenStack.pop();if(bn)bn[0].type!==Ht.type&&(Jt?Jt.call(this,Ht,bn[0]):(bn[1]||defaultOnError).call(this,Ht,bn[0]));else throw new Error("Cannot close `"+Ht.type+"` ("+stringifyPosition({start:Ht.start,end:Ht.end})+"): it’s not open");vn.position.end=point(Ht.end)}function _e(){return toString$1(this.stack.pop())}function et(){this.data.expectingFirstListItemValue=!0}function st(Ht){if(this.data.expectingFirstListItemValue){const Jt=this.stack[this.stack.length-2];Jt.start=Number.parseInt(this.sliceSerialize(Ht),10),this.data.expectingFirstListItemValue=void 0}}function tt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.lang=Ht}function ot(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.meta=Ht}function ft(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function yt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.value=Ht.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function rt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.value=Ht.replace(/(\r?\n|\r)$/g,"")}function it(Ht){const Jt=this.resume(),vn=this.stack[this.stack.length-1];vn.label=Jt,vn.identifier=normalizeIdentifier(this.sliceSerialize(Ht)).toLowerCase()}function dt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.title=Ht}function mt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.url=Ht}function ut(Ht){const Jt=this.stack[this.stack.length-1];if(!Jt.depth){const vn=this.sliceSerialize(Ht).length;Jt.depth=vn}}function lt(){this.data.setextHeadingSlurpLineEnding=!0}function ct(Ht){const Jt=this.stack[this.stack.length-1];Jt.depth=this.sliceSerialize(Ht).codePointAt(0)===61?1:2}function gt(){this.data.setextHeadingSlurpLineEnding=void 0}function bt(Ht){const vn=this.stack[this.stack.length-1].children;let bn=vn[vn.length-1];(!bn||bn.type!=="text")&&(bn=fn(),bn.position={start:point(Ht.start),end:void 0},vn.push(bn)),this.stack.push(bn)}function kt(Ht){const Jt=this.stack.pop();Jt.value+=this.sliceSerialize(Ht),Jt.position.end=point(Ht.end)}function ht(Ht){const Jt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const vn=Jt.children[Jt.children.length-1];vn.position.end=point(Ht.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(Jt.type)&&(bt.call(this,Ht),kt.call(this,Ht))}function St(){this.data.atHardBreak=!0}function At(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.value=Ht}function zt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.value=Ht}function Pt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.value=Ht}function $t(){const Ht=this.stack[this.stack.length-1];if(this.data.inReference){const Jt=this.data.referenceType||"shortcut";Ht.type+="Reference",Ht.referenceType=Jt,delete Ht.url,delete Ht.title}else delete Ht.identifier,delete Ht.label;this.data.referenceType=void 0}function Dt(){const Ht=this.stack[this.stack.length-1];if(this.data.inReference){const Jt=this.data.referenceType||"shortcut";Ht.type+="Reference",Ht.referenceType=Jt,delete Ht.url,delete Ht.title}else delete Ht.identifier,delete Ht.label;this.data.referenceType=void 0}function Nt(Ht){const Jt=this.sliceSerialize(Ht),vn=this.stack[this.stack.length-2];vn.label=decodeString(Jt),vn.identifier=normalizeIdentifier(Jt).toLowerCase()}function Et(){const Ht=this.stack[this.stack.length-1],Jt=this.resume(),vn=this.stack[this.stack.length-1];if(this.data.inReference=!0,vn.type==="link"){const bn=Ht.children;vn.children=bn}else vn.alt=Jt}function vt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.url=Ht}function jt(){const Ht=this.resume(),Jt=this.stack[this.stack.length-1];Jt.title=Ht}function xt(){this.data.inReference=void 0}function nt(){this.data.referenceType="collapsed"}function pt(Ht){const Jt=this.resume(),vn=this.stack[this.stack.length-1];vn.label=Jt,vn.identifier=normalizeIdentifier(this.sliceSerialize(Ht)).toLowerCase(),this.data.referenceType="full"}function wt(Ht){this.data.characterReferenceType=Ht.type}function Ct(Ht){const Jt=this.sliceSerialize(Ht),vn=this.data.characterReferenceType;let bn;vn?(bn=decodeNumericCharacterReference(Jt,vn==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bn=decodeNamedCharacterReference(Jt);const Pn=this.stack[this.stack.length-1];Pn.value+=bn}function Rt(Ht){const Jt=this.stack.pop();Jt.position.end=point(Ht.end)}function Lt(Ht){kt.call(this,Ht);const Jt=this.stack[this.stack.length-1];Jt.url=this.sliceSerialize(Ht)}function Bt(Ht){kt.call(this,Ht);const Jt=this.stack[this.stack.length-1];Jt.url="mailto:"+this.sliceSerialize(Ht)}function Kt(){return{type:"blockquote",children:[]}}function nn(){return{type:"code",lang:null,meta:null,value:""}}function sn(){return{type:"inlineCode",value:""}}function cn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ln(){return{type:"emphasis",children:[]}}function dn(){return{type:"heading",depth:0,children:[]}}function Vt(){return{type:"break"}}function Xt(){return{type:"html",value:""}}function _t(){return{type:"image",title:null,url:"",alt:null}}function It(){return{type:"link",title:null,url:"",children:[]}}function Wt(Ht){return{type:"list",ordered:Ht.type==="listOrdered",start:null,spread:Ht._spread,children:[]}}function Qt(Ht){return{type:"listItem",spread:Ht._spread,checked:null,children:[]}}function an(){return{type:"paragraph",children:[]}}function gn(){return{type:"strong",children:[]}}function fn(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,i){let s=-1;for(;++s<i.length;){const o=i[s];Array.isArray(o)?configure(e,o):extension(e,o)}}function extension(e,i){let s;for(s in i)if(own$2.call(i,s))switch(s){case"canContainEols":{const o=i[s];o&&e[s].push(...o);break}case"transforms":{const o=i[s];o&&e[s].push(...o);break}case"enter":case"exit":{const o=i[s];o&&Object.assign(e[s],o);break}}}function defaultOnError(e,i){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is still open")}function remarkParse(e){const i=this;i.parser=s;function s(o){return fromMarkdown(o,{...i.data("settings"),...e,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}function blockquote$1(e,i){const s={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(i),!0)};return e.patch(i,s),e.applyData(i,s)}function hardBreak$1(e,i){const s={type:"element",tagName:"br",properties:{},children:[]};return e.patch(i,s),[e.applyData(i,s),{type:"text",value:`
`}]}function code$2(e,i){const s=i.value?i.value+`
`:"",o={};i.lang&&(o.className=["language-"+i.lang]);let a={type:"element",tagName:"code",properties:o,children:[{type:"text",value:s}]};return i.meta&&(a.data={meta:i.meta}),e.patch(i,a),a=e.applyData(i,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(i,a),a}function strikethrough(e,i){const s={type:"element",tagName:"del",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function emphasis$1(e,i){const s={type:"element",tagName:"em",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function footnoteReference$1(e,i){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",o=String(i.identifier).toUpperCase(),a=normalizeUri(o.toLowerCase()),c=e.footnoteOrder.indexOf(o);let d,b=e.footnoteCounts.get(o);b===void 0?(b=0,e.footnoteOrder.push(o),d=e.footnoteOrder.length):d=c+1,b+=1,e.footnoteCounts.set(o,b);const g={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+a,id:s+"fnref-"+a+(b>1?"-"+b:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};e.patch(i,g);const j={type:"element",tagName:"sup",properties:{},children:[g]};return e.patch(i,j),e.applyData(i,j)}function heading$1(e,i){const s={type:"element",tagName:"h"+i.depth,properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function html$1(e,i){if(e.options.allowDangerousHtml){const s={type:"raw",value:i.value};return e.patch(i,s),e.applyData(i,s)}}function revert(e,i){const s=i.referenceType;let o="]";if(s==="collapsed"?o+="[]":s==="full"&&(o+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return[{type:"text",value:"!["+i.alt+o}];const a=e.all(i),c=a[0];c&&c.type==="text"?c.value="["+c.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=o:a.push({type:"text",value:o}),a}function imageReference$1(e,i){const s=String(i.identifier).toUpperCase(),o=e.definitionById.get(s);if(!o)return revert(e,i);const a={src:normalizeUri(o.url||""),alt:i.alt};o.title!==null&&o.title!==void 0&&(a.title=o.title);const c={type:"element",tagName:"img",properties:a,children:[]};return e.patch(i,c),e.applyData(i,c)}function image$1(e,i){const s={src:normalizeUri(i.url)};i.alt!==null&&i.alt!==void 0&&(s.alt=i.alt),i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(i,o),e.applyData(i,o)}function inlineCode$1(e,i){const s={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};e.patch(i,s);const o={type:"element",tagName:"code",properties:{},children:[s]};return e.patch(i,o),e.applyData(i,o)}function linkReference$1(e,i){const s=String(i.identifier).toUpperCase(),o=e.definitionById.get(s);if(!o)return revert(e,i);const a={href:normalizeUri(o.url||"")};o.title!==null&&o.title!==void 0&&(a.title=o.title);const c={type:"element",tagName:"a",properties:a,children:e.all(i)};return e.patch(i,c),e.applyData(i,c)}function link$1(e,i){const s={href:normalizeUri(i.url)};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(i)};return e.patch(i,o),e.applyData(i,o)}function listItem$1(e,i,s){const o=e.all(i),a=s?listLoose(s):listItemLoose(i),c={},d=[];if(typeof i.checked=="boolean"){const _e=o[0];let et;_e&&_e.type==="element"&&_e.tagName==="p"?et=_e:(et={type:"element",tagName:"p",properties:{},children:[]},o.unshift(et)),et.children.length>0&&et.children.unshift({type:"text",value:" "}),et.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let b=-1;for(;++b<o.length;){const _e=o[b];(a||b!==0||_e.type!=="element"||_e.tagName!=="p")&&d.push({type:"text",value:`
`}),_e.type==="element"&&_e.tagName==="p"&&!a?d.push(..._e.children):d.push(_e)}const g=o[o.length-1];g&&(a||g.type!=="element"||g.tagName!=="p")&&d.push({type:"text",value:`
`});const j={type:"element",tagName:"li",properties:c,children:d};return e.patch(i,j),e.applyData(i,j)}function listLoose(e){let i=!1;if(e.type==="list"){i=e.spread||!1;const s=e.children;let o=-1;for(;!i&&++o<s.length;)i=listItemLoose(s[o])}return i}function listItemLoose(e){const i=e.spread;return i??e.children.length>1}function list$1(e,i){const s={},o=e.all(i);let a=-1;for(typeof i.start=="number"&&i.start!==1&&(s.start=i.start);++a<o.length;){const d=o[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const c={type:"element",tagName:i.ordered?"ol":"ul",properties:s,children:e.wrap(o,!0)};return e.patch(i,c),e.applyData(i,c)}function paragraph$1(e,i){const s={type:"element",tagName:"p",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function root$1(e,i){const s={type:"root",children:e.wrap(e.all(i))};return e.patch(i,s),e.applyData(i,s)}function strong$1(e,i){const s={type:"element",tagName:"strong",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function table(e,i){const s=e.all(i),o=s.shift(),a=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:e.wrap([o],!0)};e.patch(i.children[0],d),a.push(d)}if(s.length>0){const d={type:"element",tagName:"tbody",properties:{},children:e.wrap(s,!0)},b=pointStart(i.children[1]),g=pointEnd(i.children[i.children.length-1]);b&&g&&(d.position={start:b,end:g}),a.push(d)}const c={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(i,c),e.applyData(i,c)}function tableRow(e,i,s){const o=s?s.children:void 0,c=(o?o.indexOf(i):1)===0?"th":"td",d=s&&s.type==="table"?s.align:void 0,b=d?d.length:i.children.length;let g=-1;const j=[];for(;++g<b;){const et=i.children[g],st={},tt=d?d[g]:void 0;tt&&(st.align=tt);let ot={type:"element",tagName:c,properties:st,children:[]};et&&(ot.children=e.all(et),e.patch(et,ot),ot=e.applyData(et,ot)),j.push(ot)}const _e={type:"element",tagName:"tr",properties:{},children:e.wrap(j,!0)};return e.patch(i,_e),e.applyData(i,_e)}function tableCell(e,i){const s={type:"element",tagName:"td",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}const tab=9,space=32;function trimLines(e){const i=String(e),s=/\r?\n|\r/g;let o=s.exec(i),a=0;const c=[];for(;o;)c.push(trimLine(i.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=s.exec(i);return c.push(trimLine(i.slice(a),a>0,!1)),c.join("")}function trimLine(e,i,s){let o=0,a=e.length;if(i){let c=e.codePointAt(o);for(;c===tab||c===space;)o++,c=e.codePointAt(o)}if(s){let c=e.codePointAt(a-1);for(;c===tab||c===space;)a--,c=e.codePointAt(a-1)}return a>o?e.slice(o,a):""}function text$2(e,i){const s={type:"text",value:trimLines(String(i.value))};return e.patch(i,s),e.applyData(i,s)}function thematicBreak$1(e,i){const s={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(i,s),e.applyData(i,s)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,i)=>{const s=(a,c)=>(e.set(c,a),a),o=a=>{if(e.has(a))return e.get(a);const[c,d]=i[a];switch(c){case PRIMITIVE:case VOID:return s(d,a);case ARRAY:{const b=s([],a);for(const g of d)b.push(o(g));return b}case OBJECT:{const b=s({},a);for(const[g,j]of d)b[o(g)]=o(j);return b}case DATE:return s(new Date(d),a);case REGEXP:{const{source:b,flags:g}=d;return s(new RegExp(b,g),a)}case MAP:{const b=s(new Map,a);for(const[g,j]of d)b.set(o(g),o(j));return b}case SET:{const b=s(new Set,a);for(const g of d)b.add(o(g));return b}case ERROR:{const{name:b,message:g}=d;return s(new env[b](g),a)}case BIGINT:return s(BigInt(d),a);case"BigInt":return s(Object(BigInt(d)),a);case"ArrayBuffer":return s(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:b}=new Uint8Array(d);return s(new DataView(b),d)}}return s(new env[c](d),a)};return o},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const i=typeof e;if(i!=="object"||!e)return[PRIMITIVE,i];const s=toString.call(e).slice(8,-1);switch(s){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,s]}return s.includes("Array")?[ARRAY,s]:s.includes("Error")?[ERROR,s]:[OBJECT,s]},shouldSkip=([e,i])=>e===PRIMITIVE&&(i==="function"||i==="symbol"),serializer=(e,i,s,o)=>{const a=(d,b)=>{const g=o.push(d)-1;return s.set(b,g),g},c=d=>{if(s.has(d))return s.get(d);let[b,g]=typeOf(d);switch(b){case PRIMITIVE:{let _e=d;switch(g){case"bigint":b=BIGINT,_e=d.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+g);_e=null;break;case"undefined":return a([VOID],d)}return a([b,_e],d)}case ARRAY:{if(g){let st=d;return g==="DataView"?st=new Uint8Array(d.buffer):g==="ArrayBuffer"&&(st=new Uint8Array(d)),a([g,[...st]],d)}const _e=[],et=a([b,_e],d);for(const st of d)_e.push(c(st));return et}case OBJECT:{if(g)switch(g){case"BigInt":return a([g,d.toString()],d);case"Boolean":case"Number":case"String":return a([g,d.valueOf()],d)}if(i&&"toJSON"in d)return c(d.toJSON());const _e=[],et=a([b,_e],d);for(const st of keys(d))(e||!shouldSkip(typeOf(d[st])))&&_e.push([c(st),c(d[st])]);return et}case DATE:return a([b,d.toISOString()],d);case REGEXP:{const{source:_e,flags:et}=d;return a([b,{source:_e,flags:et}],d)}case MAP:{const _e=[],et=a([b,_e],d);for(const[st,tt]of d)(e||!(shouldSkip(typeOf(st))||shouldSkip(typeOf(tt))))&&_e.push([c(st),c(tt)]);return et}case SET:{const _e=[],et=a([b,_e],d);for(const st of d)(e||!shouldSkip(typeOf(st)))&&_e.push(c(st));return et}}const{message:j}=d;return a([b,{name:g,message:j}],d)};return c},serialize$1=(e,{json:i,lossy:s}={})=>{const o=[];return serializer(!(i||s),!!i,new Map,o)(e),o},structuredClone$1=typeof structuredClone=="function"?(e,i)=>i&&("json"in i||"lossy"in i)?deserialize(serialize$1(e,i)):structuredClone(e):(e,i)=>deserialize(serialize$1(e,i));function defaultFootnoteBackContent(e,i){const s=[{type:"text",value:"↩"}];return i>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(i)}]}),s}function defaultFootnoteBackLabel(e,i){return"Back to reference "+(e+1)+(i>1?"-"+i:"")}function footer(e){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=e.options.footnoteBackContent||defaultFootnoteBackContent,o=e.options.footnoteBackLabel||defaultFootnoteBackLabel,a=e.options.footnoteLabel||"Footnotes",c=e.options.footnoteLabelTagName||"h2",d=e.options.footnoteLabelProperties||{className:["sr-only"]},b=[];let g=-1;for(;++g<e.footnoteOrder.length;){const j=e.footnoteById.get(e.footnoteOrder[g]);if(!j)continue;const _e=e.all(j),et=String(j.identifier).toUpperCase(),st=normalizeUri(et.toLowerCase());let tt=0;const ot=[],ft=e.footnoteCounts.get(et);for(;ft!==void 0&&++tt<=ft;){ot.length>0&&ot.push({type:"text",value:" "});let it=typeof s=="string"?s:s(g,tt);typeof it=="string"&&(it={type:"text",value:it}),ot.push({type:"element",tagName:"a",properties:{href:"#"+i+"fnref-"+st+(tt>1?"-"+tt:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(g,tt),className:["data-footnote-backref"]},children:Array.isArray(it)?it:[it]})}const yt=_e[_e.length-1];if(yt&&yt.type==="element"&&yt.tagName==="p"){const it=yt.children[yt.children.length-1];it&&it.type==="text"?it.value+=" ":yt.children.push({type:"text",value:" "}),yt.children.push(...ot)}else _e.push(...ot);const rt={type:"element",tagName:"li",properties:{id:i+"fn-"+st},children:e.wrap(_e,!0)};e.patch(j,rt),b.push(rt)}if(b.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...structuredClone$1(d),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(b,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory(e);if(typeof e=="object")return Array.isArray(e)?anyFactory(e):propsFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory(e){const i=[];let s=-1;for(;++s<e.length;)i[s]=convert(e[s]);return castFactory(o);function o(...a){let c=-1;for(;++c<i.length;)if(i[c].apply(this,a))return!0;return!1}}function propsFactory(e){const i=e;return castFactory(s);function s(o){const a=o;let c;for(c in e)if(a[c]!==i[c])return!1;return!0}}function typeFactory(e){return castFactory(i);function i(s){return s&&s.type===e}}function castFactory(e){return i;function i(s,o,a){return!!(looksLikeANode(s)&&e.call(this,s,typeof o=="number"?o:void 0,a||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,i,s,o){let a;typeof i=="function"&&typeof s!="function"?(o=s,s=i):a=i;const c=convert(a),d=o?-1:1;b(e,void 0,[])();function b(g,j,_e){const et=g&&typeof g=="object"?g:{};if(typeof et.type=="string"){const tt=typeof et.tagName=="string"?et.tagName:typeof et.name=="string"?et.name:void 0;Object.defineProperty(st,"name",{value:"node ("+(g.type+(tt?"<"+tt+">":""))+")"})}return st;function st(){let tt=empty,ot,ft,yt;if((!i||c(g,j,_e[_e.length-1]||void 0))&&(tt=toResult(s(g,_e)),tt[0]===EXIT))return tt;if("children"in g&&g.children){const rt=g;if(rt.children&&tt[0]!==SKIP)for(ft=(o?rt.children.length:-1)+d,yt=_e.concat(rt);ft>-1&&ft<rt.children.length;){const it=rt.children[ft];if(ot=b(it,ft,yt)(),ot[0]===EXIT)return ot;ft=typeof ot[1]=="number"?ot[1]:ft+d}}return tt}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit(e,i,s,o){let a,c,d;typeof i=="function"&&typeof s!="function"?(c=void 0,d=i,a=s):(c=i,d=s,a=o),visitParents(e,c,b,a);function b(g,j){const _e=j[j.length-1],et=_e?_e.children.indexOf(g):void 0;return d(g,et,_e)}}const own$1={}.hasOwnProperty,emptyOptions$1={};function createState(e,i){const s=i||emptyOptions$1,o=new Map,a=new Map,c=new Map,d={...handlers,...s.handlers},b={all:j,applyData,definitionById:o,footnoteById:a,footnoteCounts:c,footnoteOrder:[],handlers:d,one:g,options:s,patch,wrap:wrap$1};return visit(e,function(_e){if(_e.type==="definition"||_e.type==="footnoteDefinition"){const et=_e.type==="definition"?o:a,st=String(_e.identifier).toUpperCase();et.has(st)||et.set(st,_e)}}),b;function g(_e,et){const st=_e.type,tt=b.handlers[st];if(own$1.call(b.handlers,st)&&tt)return tt(b,_e,et);if(b.options.passThrough&&b.options.passThrough.includes(st)){if("children"in _e){const{children:ft,...yt}=_e,rt=structuredClone$1(yt);return rt.children=b.all(_e),rt}return structuredClone$1(_e)}return(b.options.unknownHandler||defaultUnknownHandler)(b,_e,et)}function j(_e){const et=[];if("children"in _e){const st=_e.children;let tt=-1;for(;++tt<st.length;){const ot=b.one(st[tt],_e);if(ot){if(tt&&st[tt-1].type==="break"&&(!Array.isArray(ot)&&ot.type==="text"&&(ot.value=trimMarkdownSpaceStart(ot.value)),!Array.isArray(ot)&&ot.type==="element")){const ft=ot.children[0];ft&&ft.type==="text"&&(ft.value=trimMarkdownSpaceStart(ft.value))}Array.isArray(ot)?et.push(...ot):et.push(ot)}}}return et}}function patch(e,i){e.position&&(i.position=position$1(e))}function applyData(e,i){let s=i;if(e&&e.data){const o=e.data.hName,a=e.data.hChildren,c=e.data.hProperties;if(typeof o=="string")if(s.type==="element")s.tagName=o;else{const d="children"in s?s.children:[s];s={type:"element",tagName:o,properties:{},children:d}}s.type==="element"&&c&&Object.assign(s.properties,structuredClone$1(c)),"children"in s&&s.children&&a!==null&&a!==void 0&&(s.children=a)}return s}function defaultUnknownHandler(e,i){const s=i.data||{},o="value"in i&&!(own$1.call(s,"hProperties")||own$1.call(s,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:e.all(i)};return e.patch(i,o),e.applyData(i,o)}function wrap$1(e,i){const s=[];let o=-1;for(i&&s.push({type:"text",value:`
`});++o<e.length;)o&&s.push({type:"text",value:`
`}),s.push(e[o]);return i&&e.length>0&&s.push({type:"text",value:`
`}),s}function trimMarkdownSpaceStart(e){let i=0,s=e.charCodeAt(i);for(;s===9||s===32;)i++,s=e.charCodeAt(i);return e.slice(i)}function toHast(e,i){const s=createState(e,i),o=s.one(e,void 0),a=footer(s),c=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return a&&c.children.push({type:"text",value:`
`},a),c}function remarkRehype(e,i){return e&&"run"in e?async function(s,o){const a=toHast(s,{file:o,...i});await e.run(a,o)}:function(s,o){return toHast(s,{file:o,...e||i})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function e(i){return typeof Array.isArray=="function"?Array.isArray(i):toStr.call(i)==="[object Array]"},isPlainObject$1=function e(i){if(!i||toStr.call(i)!=="[object Object]")return!1;var s=hasOwn.call(i,"constructor"),o=i.constructor&&i.constructor.prototype&&hasOwn.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!s&&!o)return!1;var a;for(a in i);return typeof a>"u"||hasOwn.call(i,a)},setProperty=function e(i,s){defineProperty&&s.name==="__proto__"?defineProperty(i,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):i[s.name]=s.newValue},getProperty=function e(i,s){if(s==="__proto__")if(hasOwn.call(i,s)){if(gOPD)return gOPD(i,s).value}else return;return i[s]},extend=function e(){var i,s,o,a,c,d,b=arguments[0],g=1,j=arguments.length,_e=!1;for(typeof b=="boolean"&&(_e=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<j;++g)if(i=arguments[g],i!=null)for(s in i)o=getProperty(b,s),a=getProperty(i,s),b!==a&&(_e&&a&&(isPlainObject$1(a)||(c=isArray(a)))?(c?(c=!1,d=o&&isArray(o)?o:[]):d=o&&isPlainObject$1(o)?o:{},setProperty(b,{name:s,newValue:e(_e,d,a)})):typeof a<"u"&&setProperty(b,{name:s,newValue:a}));return b};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const i=Object.getPrototypeOf(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],i={run:s,use:o};return i;function s(...a){let c=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);b(null,...a);function b(g,...j){const _e=e[++c];let et=-1;if(g){d(g);return}for(;++et<a.length;)(j[et]===null||j[et]===void 0)&&(j[et]=a[et]);a=j,_e?wrap(_e,b)(...j):d(null,...j)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),i}}function wrap(e,i){let s;return o;function o(...d){const b=e.length>d.length;let g;b&&d.push(a);try{g=e.apply(this,d)}catch(j){const _e=j;if(b&&s)throw _e;return a(_e)}b||(g&&g.then&&typeof g.then=="function"?g.then(c,a):g instanceof Error?a(g):c(g))}function a(d,...b){s||(s=!0,i(d,...b))}function c(d){a(null,d)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let s=0,o=-1,a=e.length,c;if(i===void 0||i.length===0||i.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(c){s=a+1;break}}else o<0&&(c=!0,o=a+1);return o<0?"":e.slice(s,o)}if(i===e)return"";let d=-1,b=i.length-1;for(;a--;)if(e.codePointAt(a)===47){if(c){s=a+1;break}}else d<0&&(c=!0,d=a+1),b>-1&&(e.codePointAt(a)===i.codePointAt(b--)?b<0&&(o=a):(b=-1,o=d));return s===o?o=d:o<0&&(o=e.length),e.slice(s,o)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let i=-1,s=e.length,o;for(;--s;)if(e.codePointAt(s)===47){if(o){i=s;break}}else o||(o=!0);return i<0?e.codePointAt(0)===47?"/":".":i===1&&e.codePointAt(0)===47?"//":e.slice(0,i)}function extname(e){assertPath$1(e);let i=e.length,s=-1,o=0,a=-1,c=0,d;for(;i--;){const b=e.codePointAt(i);if(b===47){if(d){o=i+1;break}continue}s<0&&(d=!0,s=i+1),b===46?a<0?a=i:c!==1&&(c=1):a>-1&&(c=-1)}return a<0||s<0||c===0||c===1&&a===s-1&&a===o+1?"":e.slice(a,s)}function join(...e){let i=-1,s;for(;++i<e.length;)assertPath$1(e[i]),e[i]&&(s=s===void 0?e[i]:s+"/"+e[i]);return s===void 0?".":normalize(s)}function normalize(e){assertPath$1(e);const i=e.codePointAt(0)===47;let s=normalizeString(e,!i);return s.length===0&&!i&&(s="."),s.length>0&&e.codePointAt(e.length-1)===47&&(s+="/"),i?"/"+s:s}function normalizeString(e,i){let s="",o=0,a=-1,c=0,d=-1,b,g;for(;++d<=e.length;){if(d<e.length)b=e.codePointAt(d);else{if(b===47)break;b=47}if(b===47){if(!(a===d-1||c===1))if(a!==d-1&&c===2){if(s.length<2||o!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(g=s.lastIndexOf("/"),g!==s.length-1){g<0?(s="",o=0):(s=s.slice(0,g),o=s.length-1-s.lastIndexOf("/")),a=d,c=0;continue}}else if(s.length>0){s="",o=0,a=d,c=0;continue}}i&&(s=s.length>0?s+"/..":"..",o=2)}else s.length>0?s+="/"+e.slice(a+1,d):s=e.slice(a+1,d),o=d-a-1;a=d,c=0}else b===46&&c>-1?c++:c=-1}return s}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(e.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=e.pathname;let s=-1;for(;++s<i.length;)if(i.codePointAt(s)===37&&i.codePointAt(s+1)===50){const o=i.codePointAt(s+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(i)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(i){let s;i?isUrl(i)?s={path:i}:typeof i=="string"||isUint8Array$1(i)?s={value:i}:s=i:s={},this.cwd="cwd"in s?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<order.length;){const c=order[o];c in s&&s[c]!==void 0&&s[c]!==null&&(this[c]=c==="history"?[...s[c]]:s[c])}let a;for(a in s)order.includes(a)||(this[a]=s[a])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(i){assertNonEmpty(i,"basename"),assertPart(i,"basename"),this.path=minpath.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(i){assertPath(this.basename,"dirname"),this.path=minpath.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(i){if(assertPart(i,"extname"),assertPath(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){isUrl(i)&&(i=urlToPath(i)),assertNonEmpty(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(i){assertNonEmpty(i,"stem"),assertPart(i,"stem"),this.path=minpath.join(this.dirname||"",i+(this.extname||""))}fail(i,s,o){const a=this.message(i,s,o);throw a.fatal=!0,a}info(i,s,o){const a=this.message(i,s,o);return a.fatal=void 0,a}message(i,s,o){const a=new VFileMessage(i,s,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function assertPart(e,i){if(e&&e.includes(minpath.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,i){if(!e)throw new Error("`"+i+"` cannot be empty")}function assertPath(e,i){if(!e)throw new Error("Setting `"+i+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const o=this.constructor.prototype,a=o[e],c=function(){return a.apply(c,arguments)};return Object.setPrototypeOf(c,o),c},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const i=new Processor;let s=-1;for(;++s<this.attachers.length;){const o=this.attachers[s];i.use(...o)}return i.data(extend$1(!0,{},this.namespace)),i}data(i,s){return typeof i=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[i]=s,this):own.call(this.namespace,i)&&this.namespace[i]||void 0:i?(assertUnfrozen("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const a=s.call(i,...o);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const s=vfile(i),o=this.parser||this.Parser;return assertParser("parse",o),o(String(s),s)}process(i,s){const o=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),s?a(void 0,s):new Promise(a);function a(c,d){const b=vfile(i),g=o.parse(b);o.run(g,b,function(_e,et,st){if(_e||!et||!st)return j(_e);const tt=et,ot=o.stringify(tt,st);looksLikeAValue(ot)?st.value=ot:st.result=ot,j(_e,st)});function j(_e,et){_e||!et?d(_e):c?c(et):s(void 0,et)}}}processSync(i){let s=!1,o;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(i,a),assertDone("processSync","process",s),o;function a(c,d){s=!0,bail(c),o=d}}run(i,s,o){assertNode(i),this.freeze();const a=this.transformers;return!o&&typeof s=="function"&&(o=s,s=void 0),o?c(void 0,o):new Promise(c);function c(d,b){const g=vfile(s);a.run(i,g,j);function j(_e,et,st){const tt=et||i;_e?b(_e):d?d(tt):o(void 0,tt,st)}}}runSync(i,s){let o=!1,a;return this.run(i,s,c),assertDone("runSync","run",o),a;function c(d,b){bail(d),a=b,o=!0}}stringify(i,s){this.freeze();const o=vfile(s),a=this.compiler||this.Compiler;return assertCompiler("stringify",a),assertNode(i),a(i,o)}use(i,...s){const o=this.attachers,a=this.namespace;if(assertUnfrozen("use",this.frozen),i!=null)if(typeof i=="function")g(i,s);else if(typeof i=="object")Array.isArray(i)?b(i):d(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function c(j){if(typeof j=="function")g(j,[]);else if(typeof j=="object")if(Array.isArray(j)){const[_e,...et]=j;g(_e,et)}else d(j);else throw new TypeError("Expected usable value, not `"+j+"`")}function d(j){if(!("plugins"in j)&&!("settings"in j))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");b(j.plugins),j.settings&&(a.settings=extend$1(!0,a.settings,j.settings))}function b(j){let _e=-1;if(j!=null)if(Array.isArray(j))for(;++_e<j.length;){const et=j[_e];c(et)}else throw new TypeError("Expected a list of plugins, not `"+j+"`")}function g(j,_e){let et=-1,st=-1;for(;++et<o.length;)if(o[et][0]===j){st=et;break}if(st===-1)o.push([j,..._e]);else if(_e.length>0){let[tt,...ot]=_e;const ft=o[st][1];isPlainObject(ft)&&isPlainObject(tt)&&(tt=extend$1(!0,ft,tt)),o[st]=[j,tt,...ot]}}}}const unified=new Processor().freeze();function assertParser(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,i){if(i)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,i,s){if(!s)throw new Error("`"+e+"` finished async. Use `"+i+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const i=e.allowedElements,s=e.allowElement,o=e.children||"",a=e.className,c=e.components,d=e.disallowedElements,b=e.rehypePlugins||emptyPlugins,g=e.remarkPlugins||emptyPlugins,j=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions,_e=e.skipHtml,et=e.unwrapDisallowed,st=e.urlTransform||defaultUrlTransform,tt=unified().use(remarkParse).use(g).use(remarkRehype,j).use(b),ot=new VFile;typeof o=="string"&&(ot.value=o);for(const it of deprecations)Object.hasOwn(e,it.from)&&(""+it.from+(it.to?"use `"+it.to+"` instead":"remove it")+changelog+it.id,void 0);const ft=tt.parse(ot);let yt=tt.runSync(ft,ot);return a&&(yt={type:"element",tagName:"div",properties:{className:a},children:yt.type==="root"?yt.children:[yt]}),visit(yt,rt),toJsxRuntime(yt,{Fragment:jsxRuntimeExports.Fragment,components:c,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function rt(it,dt,mt){if(it.type==="raw"&&mt&&typeof dt=="number")return _e?mt.children.splice(dt,1):mt.children[dt]={type:"text",value:it.value},dt;if(it.type==="element"){let ut;for(ut in urlAttributes)if(Object.hasOwn(urlAttributes,ut)&&Object.hasOwn(it.properties,ut)){const lt=it.properties[ut],ct=urlAttributes[ut];(ct===null||ct.includes(it.tagName))&&(it.properties[ut]=st(String(lt||""),ut,it))}}if(it.type==="element"){let ut=i?!i.includes(it.tagName):d?d.includes(it.tagName):!1;if(!ut&&s&&typeof dt=="number"&&(ut=!s(it,dt,mt)),ut&&mt&&typeof dt=="number")return et&&it.children?mt.children.splice(dt,1,...it.children):mt.children.splice(dt,1),dt}}}function defaultUrlTransform(e){const i=e.indexOf(":"),s=e.indexOf("?"),o=e.indexOf("#"),a=e.indexOf("/");return i===-1||a!==-1&&i>a||s!==-1&&i>s||o!==-1&&i>o||safeProtocol.test(e.slice(0,i))?e:""}function _defineProperty$1(e,i,s){return i in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s,e}function ownKeys$1(e,i){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread2$1(e){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(s),!0).forEach(function(o){_defineProperty$1(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(i.indexOf(a)>=0)&&(s[a]=e[a]);return s}function _objectWithoutProperties(e,i){if(e==null)return{};var s=_objectWithoutPropertiesLoose(e,i),o,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)o=c[a],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}function _slicedToArray(e,i){return _arrayWithHoles(e)||_iterableToArrayLimit(e,i)||_unsupportedIterableToArray(e,i)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,i){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var s=[],o=!0,a=!1,c=void 0;try{for(var d=e[Symbol.iterator](),b;!(o=(b=d.next()).done)&&(s.push(b.value),!(i&&s.length===i));o=!0);}catch(g){a=!0,c=g}finally{try{!o&&d.return!=null&&d.return()}finally{if(a)throw c}}return s}}function _unsupportedIterableToArray(e,i){if(e){if(typeof e=="string")return _arrayLikeToArray(e,i);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(e,i)}}function _arrayLikeToArray(e,i){(i==null||i>e.length)&&(i=e.length);for(var s=0,o=new Array(i);s<i;s++)o[s]=e[s];return o}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _defineProperty(e,i,s){return i in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s,e}function ownKeys(e,i){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread2(e){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(s),!0).forEach(function(o){_defineProperty(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function compose$1(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return function(o){return i.reduceRight(function(a,c){return c(a)},o)}}function curry$1(e){return function i(){for(var s=this,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return a.length>=e.length?e.apply(this,a):function(){for(var d=arguments.length,b=new Array(d),g=0;g<d;g++)b[g]=arguments[g];return i.apply(s,[].concat(a,b))}}}function isObject$1(e){return{}.toString.call(e).includes("Object")}function isEmpty(e){return!Object.keys(e).length}function isFunction(e){return typeof e=="function"}function hasOwnProperty(e,i){return Object.prototype.hasOwnProperty.call(e,i)}function validateChanges(e,i){return isObject$1(i)||errorHandler$1("changeType"),Object.keys(i).some(function(s){return!hasOwnProperty(e,s)})&&errorHandler$1("changeField"),i}function validateSelector(e){isFunction(e)||errorHandler$1("selectorType")}function validateHandler(e){isFunction(e)||isObject$1(e)||errorHandler$1("handlerType"),isObject$1(e)&&Object.values(e).some(function(i){return!isFunction(i)})&&errorHandler$1("handlersType")}function validateInitial(e){e||errorHandler$1("initialIsRequired"),isObject$1(e)||errorHandler$1("initialType"),isEmpty(e)&&errorHandler$1("initialContent")}function throwError$1(e,i){throw new Error(e[i]||e.default)}var errorMessages$1={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},errorHandler$1=curry$1(throwError$1)(errorMessages$1),validators$1={changes:validateChanges,selector:validateSelector,handler:validateHandler,initial:validateInitial};function create(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};validators$1.initial(e),validators$1.handler(i);var s={current:e},o=curry$1(didStateUpdate)(s,i),a=curry$1(updateState)(s),c=curry$1(validators$1.changes)(e),d=curry$1(extractChanges)(s);function b(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(_e){return _e};return validators$1.selector(j),j(s.current)}function g(j){compose$1(o,a,c,d)(j)}return[b,g]}function extractChanges(e,i){return isFunction(i)?i(e.current):i}function updateState(e,i){return e.current=_objectSpread2(_objectSpread2({},e.current),i),i}function didStateUpdate(e,i,s){return isFunction(i)?i(e.current):Object.keys(s).forEach(function(o){var a;return(a=i[o])===null||a===void 0?void 0:a.call(i,e.current[o])}),s}var index={create},config$1={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function curry(e){return function i(){for(var s=this,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return a.length>=e.length?e.apply(this,a):function(){for(var d=arguments.length,b=new Array(d),g=0;g<d;g++)b[g]=arguments[g];return i.apply(s,[].concat(a,b))}}}function isObject(e){return{}.toString.call(e).includes("Object")}function validateConfig(e){return e||errorHandler("configIsRequired"),isObject(e)||errorHandler("configType"),e.urls?(informAboutDeprecation(),{paths:{vs:e.urls.monacoBase}}):e}function informAboutDeprecation(){console.warn(errorMessages.deprecation)}function throwError(e,i){throw new Error(e[i]||e.default)}var errorMessages={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},errorHandler=curry(throwError)(errorMessages),validators={config:validateConfig},compose=function e(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return function(a){return s.reduceRight(function(c,d){return d(c)},a)}};function merge(e,i){return Object.keys(i).forEach(function(s){i[s]instanceof Object&&e[s]&&Object.assign(i[s],merge(e[s],i[s]))}),_objectSpread2$1(_objectSpread2$1({},e),i)}var CANCELATION_MESSAGE={type:"cancelation",msg:"operation is manually canceled"};function makeCancelable(e){var i=!1,s=new Promise(function(o,a){e.then(function(c){return i?a(CANCELATION_MESSAGE):o(c)}),e.catch(a)});return s.cancel=function(){return i=!0},s}var _state$create=index.create({config:config$1,isInitialized:!1,resolve:null,reject:null,monaco:null}),_state$create2=_slicedToArray(_state$create,2),getState=_state$create2[0],setState=_state$create2[1];function config(e){var i=validators.config(e),s=i.monaco,o=_objectWithoutProperties(i,["monaco"]);setState(function(a){return{config:merge(a.config,o),monaco:s}})}function init(){var e=getState(function(i){var s=i.monaco,o=i.isInitialized,a=i.resolve;return{monaco:s,isInitialized:o,resolve:a}});if(!e.isInitialized){if(setState({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),makeCancelable(wrapperPromise);if(window.monaco&&window.monaco.editor)return storeMonacoInstance(window.monaco),e.resolve(window.monaco),makeCancelable(wrapperPromise);compose(injectScripts,getMonacoLoaderScript)(configureLoader)}return makeCancelable(wrapperPromise)}function injectScripts(e){return document.body.appendChild(e)}function createScript(e){var i=document.createElement("script");return e&&(i.src=e),i}function getMonacoLoaderScript(e){var i=getState(function(o){var a=o.config,c=o.reject;return{config:a,reject:c}}),s=createScript("".concat(i.config.paths.vs,"/loader.js"));return s.onload=function(){return e()},s.onerror=i.reject,s}function configureLoader(){var e=getState(function(s){var o=s.config,a=s.resolve,c=s.reject;return{config:o,resolve:a,reject:c}}),i=window.require;i.config(e.config),i(["vs/editor/editor.main"],function(s){storeMonacoInstance(s),e.resolve(s)},function(s){e.reject(s)})}function storeMonacoInstance(e){getState().monaco||setState({monaco:e})}function __getMonacoInstance(){return getState(function(e){var i=e.monaco;return i})}var wrapperPromise=new Promise(function(e,i){return setState({resolve:e,reject:i})}),loader={config,init,__getMonacoInstance},le={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},v=le,ae={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Y=ae;function Me({children:e}){return We$1.createElement("div",{style:Y.container},e)}var Z=Me,$=Z;function Ee({width:e,height:i,isEditorReady:s,loading:o,_ref:a,className:c,wrapperProps:d}){return We$1.createElement("section",{style:{...v.wrapper,width:e,height:i},...d},!s&&We$1.createElement($,null,o),We$1.createElement("div",{ref:a,style:{...v.fullWidth,...!s&&v.hide},className:c}))}var ee=Ee,H=reactExports.memo(ee);function Ce(e){reactExports.useEffect(e,[])}var k=Ce;function he(e,i,s=!0){let o=reactExports.useRef(!0);reactExports.useEffect(o.current||!s?()=>{o.current=!1}:e,i)}var l=he;function D(){}function h(e,i,s,o){return De(e,o)||be(e,i,s,o)}function De(e,i){return e.editor.getModel(te(e,i))}function be(e,i,s,o){return e.editor.createModel(i,s,o?te(e,o):void 0)}function te(e,i){return e.Uri.parse(i)}function Oe({original:e,modified:i,language:s,originalLanguage:o,modifiedLanguage:a,originalModelPath:c,modifiedModelPath:d,keepCurrentOriginalModel:b=!1,keepCurrentModifiedModel:g=!1,theme:j="light",loading:_e="Loading...",options:et={},height:st="100%",width:tt="100%",className:ot,wrapperProps:ft={},beforeMount:yt=D,onMount:rt=D}){let[it,dt]=reactExports.useState(!1),[mt,ut]=reactExports.useState(!0),lt=reactExports.useRef(null),ct=reactExports.useRef(null),gt=reactExports.useRef(null),bt=reactExports.useRef(rt),kt=reactExports.useRef(yt),ht=reactExports.useRef(!1);k(()=>{let Pt=loader.init();return Pt.then($t=>(ct.current=$t)&&ut(!1)).catch($t=>($t==null?void 0:$t.type)!=="cancelation"&&console.error("Monaco initialization: error:",$t)),()=>lt.current?zt():Pt.cancel()}),l(()=>{if(lt.current&&ct.current){let Pt=lt.current.getOriginalEditor(),$t=h(ct.current,e||"",o||s||"text",c||"");$t!==Pt.getModel()&&Pt.setModel($t)}},[c],it),l(()=>{if(lt.current&&ct.current){let Pt=lt.current.getModifiedEditor(),$t=h(ct.current,i||"",a||s||"text",d||"");$t!==Pt.getModel()&&Pt.setModel($t)}},[d],it),l(()=>{let Pt=lt.current.getModifiedEditor();Pt.getOption(ct.current.editor.EditorOption.readOnly)?Pt.setValue(i||""):i!==Pt.getValue()&&(Pt.executeEdits("",[{range:Pt.getModel().getFullModelRange(),text:i||"",forceMoveMarkers:!0}]),Pt.pushUndoStop())},[i],it),l(()=>{var Pt,$t;($t=(Pt=lt.current)==null?void 0:Pt.getModel())==null||$t.original.setValue(e||"")},[e],it),l(()=>{let{original:Pt,modified:$t}=lt.current.getModel();ct.current.editor.setModelLanguage(Pt,o||s||"text"),ct.current.editor.setModelLanguage($t,a||s||"text")},[s,o,a],it),l(()=>{var Pt;(Pt=ct.current)==null||Pt.editor.setTheme(j)},[j],it),l(()=>{var Pt;(Pt=lt.current)==null||Pt.updateOptions(et)},[et],it);let St=reactExports.useCallback(()=>{var Dt;if(!ct.current)return;kt.current(ct.current);let Pt=h(ct.current,e||"",o||s||"text",c||""),$t=h(ct.current,i||"",a||s||"text",d||"");(Dt=lt.current)==null||Dt.setModel({original:Pt,modified:$t})},[s,i,a,e,o,c,d]),At=reactExports.useCallback(()=>{var Pt;!ht.current&&gt.current&&(lt.current=ct.current.editor.createDiffEditor(gt.current,{automaticLayout:!0,...et}),St(),(Pt=ct.current)==null||Pt.editor.setTheme(j),dt(!0),ht.current=!0)},[et,j,St]);reactExports.useEffect(()=>{it&&bt.current(lt.current,ct.current)},[it]),reactExports.useEffect(()=>{!mt&&!it&&At()},[mt,it,At]);function zt(){var $t,Dt,Nt,Et;let Pt=($t=lt.current)==null?void 0:$t.getModel();b||((Dt=Pt==null?void 0:Pt.original)==null||Dt.dispose()),g||((Nt=Pt==null?void 0:Pt.modified)==null||Nt.dispose()),(Et=lt.current)==null||Et.dispose()}return We$1.createElement(H,{width:tt,height:st,isEditorReady:it,loading:_e,_ref:gt,className:ot,wrapperProps:ft})}var ie=Oe;reactExports.memo(ie);function He(e){let i=reactExports.useRef();return reactExports.useEffect(()=>{i.current=e},[e]),i.current}var se=He,_=new Map;function Ve({defaultValue:e,defaultLanguage:i,defaultPath:s,value:o,language:a,path:c,theme:d="light",line:b,loading:g="Loading...",options:j={},overrideServices:_e={},saveViewState:et=!0,keepCurrentModel:st=!1,width:tt="100%",height:ot="100%",className:ft,wrapperProps:yt={},beforeMount:rt=D,onMount:it=D,onChange:dt,onValidate:mt=D}){let[ut,lt]=reactExports.useState(!1),[ct,gt]=reactExports.useState(!0),bt=reactExports.useRef(null),kt=reactExports.useRef(null),ht=reactExports.useRef(null),St=reactExports.useRef(it),At=reactExports.useRef(rt),zt=reactExports.useRef(),Pt=reactExports.useRef(o),$t=se(c),Dt=reactExports.useRef(!1),Nt=reactExports.useRef(!1);k(()=>{let jt=loader.init();return jt.then(xt=>(bt.current=xt)&&gt(!1)).catch(xt=>(xt==null?void 0:xt.type)!=="cancelation"&&console.error("Monaco initialization: error:",xt)),()=>kt.current?vt():jt.cancel()}),l(()=>{var xt,nt,pt,wt;let jt=h(bt.current,e||o||"",i||a||"",c||s||"");jt!==((xt=kt.current)==null?void 0:xt.getModel())&&(et&&_.set($t,(nt=kt.current)==null?void 0:nt.saveViewState()),(pt=kt.current)==null||pt.setModel(jt),et&&((wt=kt.current)==null||wt.restoreViewState(_.get(c))))},[c],ut),l(()=>{var jt;(jt=kt.current)==null||jt.updateOptions(j)},[j],ut),l(()=>{!kt.current||o===void 0||(kt.current.getOption(bt.current.editor.EditorOption.readOnly)?kt.current.setValue(o):o!==kt.current.getValue()&&(Nt.current=!0,kt.current.executeEdits("",[{range:kt.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),kt.current.pushUndoStop(),Nt.current=!1))},[o],ut),l(()=>{var xt,nt;let jt=(xt=kt.current)==null?void 0:xt.getModel();jt&&a&&((nt=bt.current)==null||nt.editor.setModelLanguage(jt,a))},[a],ut),l(()=>{var jt;b!==void 0&&((jt=kt.current)==null||jt.revealLine(b))},[b],ut),l(()=>{var jt;(jt=bt.current)==null||jt.editor.setTheme(d)},[d],ut);let Et=reactExports.useCallback(()=>{var jt;if(!(!ht.current||!bt.current)&&!Dt.current){At.current(bt.current);let xt=c||s,nt=h(bt.current,o||e||"",i||a||"",xt||"");kt.current=(jt=bt.current)==null?void 0:jt.editor.create(ht.current,{model:nt,automaticLayout:!0,...j},_e),et&&kt.current.restoreViewState(_.get(xt)),bt.current.editor.setTheme(d),b!==void 0&&kt.current.revealLine(b),lt(!0),Dt.current=!0}},[e,i,s,o,a,c,j,_e,et,d,b]);reactExports.useEffect(()=>{ut&&St.current(kt.current,bt.current)},[ut]),reactExports.useEffect(()=>{!ct&&!ut&&Et()},[ct,ut,Et]),Pt.current=o,reactExports.useEffect(()=>{var jt,xt;ut&&dt&&((jt=zt.current)==null||jt.dispose(),zt.current=(xt=kt.current)==null?void 0:xt.onDidChangeModelContent(nt=>{Nt.current||dt(kt.current.getValue(),nt)}))},[ut,dt]),reactExports.useEffect(()=>{if(ut){let jt=bt.current.editor.onDidChangeMarkers(xt=>{var pt;let nt=(pt=kt.current.getModel())==null?void 0:pt.uri;if(nt&&xt.find(wt=>wt.path===nt.path)){let wt=bt.current.editor.getModelMarkers({resource:nt});mt==null||mt(wt)}});return()=>{jt==null||jt.dispose()}}return()=>{}},[ut,mt]);function vt(){var jt,xt;(jt=zt.current)==null||jt.dispose(),st?et&&_.set(c,kt.current.saveViewState()):(xt=kt.current.getModel())==null||xt.dispose(),kt.current.dispose()}return We$1.createElement(H,{width:tt,height:ot,isEditorReady:ut,loading:g,_ref:ht,className:ft,wrapperProps:yt})}var fe=Ve,de=reactExports.memo(fe),Ft=de;function ccount(e,i){const s=String(e);if(typeof i!="string")throw new TypeError("Expected character");let o=0,a=s.indexOf(i);for(;a!==-1;)o++,a=s.indexOf(i,a+i.length);return o}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(e,i,s){const a=convert((s||{}).ignore||[]),c=toPairs(i);let d=-1;for(;++d<c.length;)visitParents(e,"text",b);function b(j,_e){let et=-1,st;for(;++et<_e.length;){const tt=_e[et],ot=st?st.children:void 0;if(a(tt,ot?ot.indexOf(tt):void 0,st))return;st=tt}if(st)return g(j,_e)}function g(j,_e){const et=_e[_e.length-1],st=c[d][0],tt=c[d][1];let ot=0;const yt=et.children.indexOf(j);let rt=!1,it=[];st.lastIndex=0;let dt=st.exec(j.value);for(;dt;){const mt=dt.index,ut={index:dt.index,input:dt.input,stack:[..._e,j]};let lt=tt(...dt,ut);if(typeof lt=="string"&&(lt=lt.length>0?{type:"text",value:lt}:void 0),lt===!1?st.lastIndex=mt+1:(ot!==mt&&it.push({type:"text",value:j.value.slice(ot,mt)}),Array.isArray(lt)?it.push(...lt):lt&&it.push(lt),ot=mt+dt[0].length,rt=!0),!st.global)break;dt=st.exec(j.value)}return rt?(ot<j.value.length&&it.push({type:"text",value:j.value.slice(ot)}),et.children.splice(yt,1,...it)):it=[j],yt+it.length}}function toPairs(e){const i=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const s=!e[0]||Array.isArray(e[0])?e:[e];let o=-1;for(;++o<s.length;){const a=s[o];i.push([toExpression(a[0]),toFunction(a[1])])}return i}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:function(){return e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const i=this.stack[this.stack.length-1];i.type,i.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,i,s,o,a){let c="";if(!previous(a)||(/^w/i.test(i)&&(s=i+s,i="",c="http://"),!isCorrectDomain(s)))return!1;const d=splitUrl(s+o);if(!d[0])return!1;const b={type:"link",title:null,url:c+i+d[0],children:[{type:"text",value:i+d[0]}]};return d[1]?[b,{type:"text",value:d[1]}]:b}function findEmail(e,i,s,o){return!previous(o,!0)||/[-\d_]$/.test(s)?!1:{type:"link",title:null,url:"mailto:"+i+"@"+s,children:[{type:"text",value:i+"@"+s}]}}function isCorrectDomain(e){const i=e.split(".");return!(i.length<2||i[i.length-1]&&(/_/.test(i[i.length-1])||!/[a-zA-Z\d]/.test(i[i.length-1]))||i[i.length-2]&&(/_/.test(i[i.length-2])||!/[a-zA-Z\d]/.test(i[i.length-2])))}function splitUrl(e){const i=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!i)return[e,void 0];e=e.slice(0,i.index);let s=i[0],o=s.indexOf(")");const a=ccount(e,"(");let c=ccount(e,")");for(;o!==-1&&a>c;)e+=s.slice(0,o+1),s=s.slice(o+1),o=s.indexOf(")"),c++;return[e,s]}function previous(e,i){const s=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace(s)||unicodePunctuation(s))&&(!i||s!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function exitFootnoteCallString(e){const i=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),s.label=i}function exitFootnoteCall(e){this.exit(e)}function exitFootnoteDefinitionLabelString(e){const i=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),s.label=i}function exitFootnoteDefinition(e){this.exit(e)}function footnoteReferencePeek(){return"["}function footnoteReference(e,i,s,o){const a=s.createTracker(o);let c=a.move("[^");const d=s.enter("footnoteReference"),b=s.enter("reference");return c+=a.move(s.safe(s.associationId(e),{after:"]",before:c})),b(),d(),c+=a.move("]"),c}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(e){let i=!1;return e&&e.firstLineBlank&&(i=!0),{handlers:{footnoteDefinition:s,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function s(o,a,c,d){const b=c.createTracker(d);let g=b.move("[^");const j=c.enter("footnoteDefinition"),_e=c.enter("label");return g+=b.move(c.safe(c.associationId(o),{before:g,after:"]"})),_e(),g+=b.move("]:"),o.children&&o.children.length>0&&(b.shift(4),g+=b.move((i?`
`:" ")+c.indentLines(c.containerFlow(o,b.current()),i?mapAll:mapExceptFirst))),j(),g}}function mapExceptFirst(e,i,s){return i===0?e:mapAll(e,i,s)}function mapAll(e,i,s){return(s?"":"    ")+e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,i,s,o){const a=s.createTracker(o),c=s.enter("strikethrough");let d=a.move("~~");return d+=s.containerPhrasing(e,{...a.current(),before:d,after:"~"}),d+=a.move("~~"),c(),d}function peekDelete(){return"~"}function defaultStringLength(e){return e.length}function markdownTable(e,i){const s=i||{},o=(s.align||[]).concat(),a=s.stringLength||defaultStringLength,c=[],d=[],b=[],g=[];let j=0,_e=-1;for(;++_e<e.length;){const ft=[],yt=[];let rt=-1;for(e[_e].length>j&&(j=e[_e].length);++rt<e[_e].length;){const it=serialize(e[_e][rt]);if(s.alignDelimiters!==!1){const dt=a(it);yt[rt]=dt,(g[rt]===void 0||dt>g[rt])&&(g[rt]=dt)}ft.push(it)}d[_e]=ft,b[_e]=yt}let et=-1;if(typeof o=="object"&&"length"in o)for(;++et<j;)c[et]=toAlignment(o[et]);else{const ft=toAlignment(o);for(;++et<j;)c[et]=ft}et=-1;const st=[],tt=[];for(;++et<j;){const ft=c[et];let yt="",rt="";ft===99?(yt=":",rt=":"):ft===108?yt=":":ft===114&&(rt=":");let it=s.alignDelimiters===!1?1:Math.max(1,g[et]-yt.length-rt.length);const dt=yt+"-".repeat(it)+rt;s.alignDelimiters!==!1&&(it=yt.length+it+rt.length,it>g[et]&&(g[et]=it),tt[et]=it),st[et]=dt}d.splice(1,0,st),b.splice(1,0,tt),_e=-1;const ot=[];for(;++_e<d.length;){const ft=d[_e],yt=b[_e];et=-1;const rt=[];for(;++et<j;){const it=ft[et]||"";let dt="",mt="";if(s.alignDelimiters!==!1){const ut=g[et]-(yt[et]||0),lt=c[et];lt===114?dt=" ".repeat(ut):lt===99?ut%2?(dt=" ".repeat(ut/2+.5),mt=" ".repeat(ut/2-.5)):(dt=" ".repeat(ut/2),mt=dt):mt=" ".repeat(ut)}s.delimiterStart!==!1&&!et&&rt.push("|"),s.padding!==!1&&!(s.alignDelimiters===!1&&it==="")&&(s.delimiterStart!==!1||et)&&rt.push(" "),s.alignDelimiters!==!1&&rt.push(dt),rt.push(it),s.alignDelimiters!==!1&&rt.push(mt),s.padding!==!1&&rt.push(" "),(s.delimiterEnd!==!1||et!==j-1)&&rt.push("|")}ot.push(s.delimiterEnd===!1?rt.join("").replace(/ +$/,""):rt.join(""))}return ot.join(`
`)}function serialize(e){return e==null?"":String(e)}function toAlignment(e){const i=typeof e=="string"?e.codePointAt(0):0;return i===67||i===99?99:i===76||i===108?108:i===82||i===114?114:0}function blockquote(e,i,s,o){const a=s.enter("blockquote"),c=s.createTracker(o);c.move("> "),c.shift(2);const d=s.indentLines(s.containerFlow(e,c.current()),map$1);return a(),d}function map$1(e,i,s){return">"+(s?"":" ")+e}function patternInScope(e,i){return listInScope(e,i.inConstruct,!0)&&!listInScope(e,i.notInConstruct,!1)}function listInScope(e,i,s){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return s;let o=-1;for(;++o<i.length;)if(e.includes(i[o]))return!0;return!1}function hardBreak(e,i,s,o){let a=-1;for(;++a<s.unsafe.length;)if(s.unsafe[a].character===`
`&&patternInScope(s.stack,s.unsafe[a]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function longestStreak(e,i){const s=String(e);let o=s.indexOf(i),a=o,c=0,d=0;if(typeof i!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===a?++c>d&&(d=c):c=1,a=o+i.length,o=s.indexOf(i,a);return d}function formatCodeAsIndented(e,i){return!!(i.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function checkFence(e){const i=e.options.fence||"`";if(i!=="`"&&i!=="~")throw new Error("Cannot serialize code with `"+i+"` for `options.fence`, expected `` ` `` or `~`");return i}function code$1(e,i,s,o){const a=checkFence(s),c=e.value||"",d=a==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(e,s)){const et=s.enter("codeIndented"),st=s.indentLines(c,map);return et(),st}const b=s.createTracker(o),g=a.repeat(Math.max(longestStreak(c,a)+1,3)),j=s.enter("codeFenced");let _e=b.move(g);if(e.lang){const et=s.enter(`codeFencedLang${d}`);_e+=b.move(s.safe(e.lang,{before:_e,after:" ",encode:["`"],...b.current()})),et()}if(e.lang&&e.meta){const et=s.enter(`codeFencedMeta${d}`);_e+=b.move(" "),_e+=b.move(s.safe(e.meta,{before:_e,after:`
`,encode:["`"],...b.current()})),et()}return _e+=b.move(`
`),c&&(_e+=b.move(c+`
`)),_e+=b.move(g),j(),_e}function map(e,i,s){return(s?"":"    ")+e}function checkQuote(e){const i=e.options.quote||'"';if(i!=='"'&&i!=="'")throw new Error("Cannot serialize title with `"+i+"` for `options.quote`, expected `\"`, or `'`");return i}function definition(e,i,s,o){const a=checkQuote(s),c=a==='"'?"Quote":"Apostrophe",d=s.enter("definition");let b=s.enter("label");const g=s.createTracker(o);let j=g.move("[");return j+=g.move(s.safe(s.associationId(e),{before:j,after:"]",...g.current()})),j+=g.move("]: "),b(),!e.url||/[\0- \u007F]/.test(e.url)?(b=s.enter("destinationLiteral"),j+=g.move("<"),j+=g.move(s.safe(e.url,{before:j,after:">",...g.current()})),j+=g.move(">")):(b=s.enter("destinationRaw"),j+=g.move(s.safe(e.url,{before:j,after:e.title?" ":`
`,...g.current()}))),b(),e.title&&(b=s.enter(`title${c}`),j+=g.move(" "+a),j+=g.move(s.safe(e.title,{before:j,after:a,...g.current()})),j+=g.move(a),b()),d(),j}function checkEmphasis(e){const i=e.options.emphasis||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize emphasis with `"+i+"` for `options.emphasis`, expected `*`, or `_`");return i}function encodeCharacterReference(e){return"&#x"+e.toString(16).toUpperCase()+";"}function encodeInfo(e,i,s){const o=classifyCharacter(e),a=classifyCharacter(i);return o===void 0?a===void 0?s==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(e,i,s,o){const a=checkEmphasis(s),c=s.enter("emphasis"),d=s.createTracker(o),b=d.move(a);let g=d.move(s.containerPhrasing(e,{after:a,before:b,...d.current()}));const j=g.charCodeAt(0),_e=encodeInfo(o.before.charCodeAt(o.before.length-1),j,a);_e.inside&&(g=encodeCharacterReference(j)+g.slice(1));const et=g.charCodeAt(g.length-1),st=encodeInfo(o.after.charCodeAt(0),et,a);st.inside&&(g=g.slice(0,-1)+encodeCharacterReference(et));const tt=d.move(a);return c(),s.attentionEncodeSurroundingInfo={after:st.outside,before:_e.outside},b+g+tt}function emphasisPeek(e,i,s){return s.options.emphasis||"*"}function formatHeadingAsSetext(e,i){let s=!1;return visit(e,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return s=!0,EXIT}),!!((!e.depth||e.depth<3)&&toString$1(e)&&(i.options.setext||s))}function heading(e,i,s,o){const a=Math.max(Math.min(6,e.depth||1),1),c=s.createTracker(o);if(formatHeadingAsSetext(e,s)){const _e=s.enter("headingSetext"),et=s.enter("phrasing"),st=s.containerPhrasing(e,{...c.current(),before:`
`,after:`
`});return et(),_e(),st+`
`+(a===1?"=":"-").repeat(st.length-(Math.max(st.lastIndexOf("\r"),st.lastIndexOf(`
`))+1))}const d="#".repeat(a),b=s.enter("headingAtx"),g=s.enter("phrasing");c.move(d+" ");let j=s.containerPhrasing(e,{before:"# ",after:`
`,...c.current()});return/^[\t ]/.test(j)&&(j=encodeCharacterReference(j.charCodeAt(0))+j.slice(1)),j=j?d+" "+j:d,s.options.closeAtx&&(j+=" "+d),g(),b(),j}html.peek=htmlPeek;function html(e){return e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(e,i,s,o){const a=checkQuote(s),c=a==='"'?"Quote":"Apostrophe",d=s.enter("image");let b=s.enter("label");const g=s.createTracker(o);let j=g.move("![");return j+=g.move(s.safe(e.alt,{before:j,after:"]",...g.current()})),j+=g.move("]("),b(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(b=s.enter("destinationLiteral"),j+=g.move("<"),j+=g.move(s.safe(e.url,{before:j,after:">",...g.current()})),j+=g.move(">")):(b=s.enter("destinationRaw"),j+=g.move(s.safe(e.url,{before:j,after:e.title?" ":")",...g.current()}))),b(),e.title&&(b=s.enter(`title${c}`),j+=g.move(" "+a),j+=g.move(s.safe(e.title,{before:j,after:a,...g.current()})),j+=g.move(a),b()),j+=g.move(")"),d(),j}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(e,i,s,o){const a=e.referenceType,c=s.enter("imageReference");let d=s.enter("label");const b=s.createTracker(o);let g=b.move("![");const j=s.safe(e.alt,{before:g,after:"]",...b.current()});g+=b.move(j+"]["),d();const _e=s.stack;s.stack=[],d=s.enter("reference");const et=s.safe(s.associationId(e),{before:g,after:"]",...b.current()});return d(),s.stack=_e,c(),a==="full"||!j||j!==et?g+=b.move(et+"]"):a==="shortcut"?g=g.slice(0,-1):g+=b.move("]"),g}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(e,i,s){let o=e.value||"",a="`",c=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(o);)a+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++c<s.unsafe.length;){const d=s.unsafe[c],b=s.compilePattern(d);let g;if(d.atBreak)for(;g=b.exec(o);){let j=g.index;o.charCodeAt(j)===10&&o.charCodeAt(j-1)===13&&j--,o=o.slice(0,j)+" "+o.slice(g.index+1)}}return a+o+a}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(e,i){const s=toString$1(e);return!!(!i.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(s===e.url||"mailto:"+s===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}link.peek=linkPeek;function link(e,i,s,o){const a=checkQuote(s),c=a==='"'?"Quote":"Apostrophe",d=s.createTracker(o);let b,g;if(formatLinkAsAutolink(e,s)){const _e=s.stack;s.stack=[],b=s.enter("autolink");let et=d.move("<");return et+=d.move(s.containerPhrasing(e,{before:et,after:">",...d.current()})),et+=d.move(">"),b(),s.stack=_e,et}b=s.enter("link"),g=s.enter("label");let j=d.move("[");return j+=d.move(s.containerPhrasing(e,{before:j,after:"](",...d.current()})),j+=d.move("]("),g(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(g=s.enter("destinationLiteral"),j+=d.move("<"),j+=d.move(s.safe(e.url,{before:j,after:">",...d.current()})),j+=d.move(">")):(g=s.enter("destinationRaw"),j+=d.move(s.safe(e.url,{before:j,after:e.title?" ":")",...d.current()}))),g(),e.title&&(g=s.enter(`title${c}`),j+=d.move(" "+a),j+=d.move(s.safe(e.title,{before:j,after:a,...d.current()})),j+=d.move(a),g()),j+=d.move(")"),b(),j}function linkPeek(e,i,s){return formatLinkAsAutolink(e,s)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(e,i,s,o){const a=e.referenceType,c=s.enter("linkReference");let d=s.enter("label");const b=s.createTracker(o);let g=b.move("[");const j=s.containerPhrasing(e,{before:g,after:"]",...b.current()});g+=b.move(j+"]["),d();const _e=s.stack;s.stack=[],d=s.enter("reference");const et=s.safe(s.associationId(e),{before:g,after:"]",...b.current()});return d(),s.stack=_e,c(),a==="full"||!j||j!==et?g+=b.move(et+"]"):a==="shortcut"?g=g.slice(0,-1):g+=b.move("]"),g}function linkReferencePeek(){return"["}function checkBullet(e){const i=e.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function checkBulletOther(e){const i=checkBullet(e),s=e.options.bulletOther;if(!s)return i==="*"?"-":"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(s===i)throw new Error("Expected `bullet` (`"+i+"`) and `bulletOther` (`"+s+"`) to be different");return s}function checkBulletOrdered(e){const i=e.options.bulletOrdered||".";if(i!=="."&&i!==")")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOrdered`, expected `.` or `)`");return i}function checkRule(e){const i=e.options.rule||"*";if(i!=="*"&&i!=="-"&&i!=="_")throw new Error("Cannot serialize rules with `"+i+"` for `options.rule`, expected `*`, `-`, or `_`");return i}function list(e,i,s,o){const a=s.enter("list"),c=s.bulletCurrent;let d=e.ordered?checkBulletOrdered(s):checkBullet(s);const b=e.ordered?d==="."?")":".":checkBulletOther(s);let g=i&&s.bulletLastUsed?d===s.bulletLastUsed:!1;if(!e.ordered){const _e=e.children?e.children[0]:void 0;if((d==="*"||d==="-")&&_e&&(!_e.children||!_e.children[0])&&s.stack[s.stack.length-1]==="list"&&s.stack[s.stack.length-2]==="listItem"&&s.stack[s.stack.length-3]==="list"&&s.stack[s.stack.length-4]==="listItem"&&s.indexStack[s.indexStack.length-1]===0&&s.indexStack[s.indexStack.length-2]===0&&s.indexStack[s.indexStack.length-3]===0&&(g=!0),checkRule(s)===d&&_e){let et=-1;for(;++et<e.children.length;){const st=e.children[et];if(st&&st.type==="listItem"&&st.children&&st.children[0]&&st.children[0].type==="thematicBreak"){g=!0;break}}}}g&&(d=b),s.bulletCurrent=d;const j=s.containerFlow(e,o);return s.bulletLastUsed=d,s.bulletCurrent=c,a(),j}function checkListItemIndent(e){const i=e.options.listItemIndent||"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function listItem(e,i,s,o){const a=checkListItemIndent(s);let c=s.bulletCurrent||checkBullet(s);i&&i.type==="list"&&i.ordered&&(c=(typeof i.start=="number"&&i.start>-1?i.start:1)+(s.options.incrementListMarker===!1?0:i.children.indexOf(e))+c);let d=c.length+1;(a==="tab"||a==="mixed"&&(i&&i.type==="list"&&i.spread||e.spread))&&(d=Math.ceil(d/4)*4);const b=s.createTracker(o);b.move(c+" ".repeat(d-c.length)),b.shift(d);const g=s.enter("listItem"),j=s.indentLines(s.containerFlow(e,b.current()),_e);return g(),j;function _e(et,st,tt){return st?(tt?"":" ".repeat(d))+et:(tt?c:c+" ".repeat(d-c.length))+et}}function paragraph(e,i,s,o){const a=s.enter("paragraph"),c=s.enter("phrasing"),d=s.containerPhrasing(e,o);return c(),a(),d}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(e,i,s,o){return(e.children.some(function(d){return phrasing(d)})?s.containerPhrasing:s.containerFlow).call(s,e,o)}function checkStrong(e){const i=e.options.strong||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize strong with `"+i+"` for `options.strong`, expected `*`, or `_`");return i}strong.peek=strongPeek;function strong(e,i,s,o){const a=checkStrong(s),c=s.enter("strong"),d=s.createTracker(o),b=d.move(a+a);let g=d.move(s.containerPhrasing(e,{after:a,before:b,...d.current()}));const j=g.charCodeAt(0),_e=encodeInfo(o.before.charCodeAt(o.before.length-1),j,a);_e.inside&&(g=encodeCharacterReference(j)+g.slice(1));const et=g.charCodeAt(g.length-1),st=encodeInfo(o.after.charCodeAt(0),et,a);st.inside&&(g=g.slice(0,-1)+encodeCharacterReference(et));const tt=d.move(a+a);return c(),s.attentionEncodeSurroundingInfo={after:st.outside,before:_e.outside},b+g+tt}function strongPeek(e,i,s){return s.options.strong||"*"}function text$1(e,i,s,o){return s.safe(e.value,o)}function checkRuleRepetition(e){const i=e.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}function thematicBreak(e,i,s){const o=(checkRule(s)+(s.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(s));return s.options.ruleSpaces?o.slice(0,-1):o}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(e){const i=e._align;this.enter({type:"table",align:i.map(function(s){return s==="none"?null:s}),children:[]},e),this.data.inTable=!0}function exitTable(e){this.exit(e),this.data.inTable=void 0}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let i=this.resume();this.data.inTable&&(i=i.replace(/\\([\\|])/g,replace));const s=this.stack[this.stack.length-1];s.type,s.value=i,this.exit(e)}function replace(e,i){return i==="|"?i:e}function gfmTableToMarkdown(e){const i=e||{},s=i.tableCellPadding,o=i.tablePipeAlign,a=i.stringLength,c=s?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:st,table:d,tableCell:g,tableRow:b}};function d(tt,ot,ft,yt){return j(_e(tt,ft,yt),tt.align)}function b(tt,ot,ft,yt){const rt=et(tt,ft,yt),it=j([rt]);return it.slice(0,it.indexOf(`
`))}function g(tt,ot,ft,yt){const rt=ft.enter("tableCell"),it=ft.enter("phrasing"),dt=ft.containerPhrasing(tt,{...yt,before:c,after:c});return it(),rt(),dt}function j(tt,ot){return markdownTable(tt,{align:ot,alignDelimiters:o,padding:s,stringLength:a})}function _e(tt,ot,ft){const yt=tt.children;let rt=-1;const it=[],dt=ot.enter("table");for(;++rt<yt.length;)it[rt]=et(yt[rt],ot,ft);return dt(),it}function et(tt,ot,ft){const yt=tt.children;let rt=-1;const it=[],dt=ot.enter("tableRow");for(;++rt<yt.length;)it[rt]=g(yt[rt],tt,ot,ft);return dt(),it}function st(tt,ot,ft){let yt=handle.inlineCode(tt,ot,ft);return ft.stack.includes("tableCell")&&(yt=yt.replace(/\|/g,"\\$&")),yt}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(e){const i=this.stack[this.stack.length-2];i.type,i.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const i=this.stack[this.stack.length-2];if(i&&i.type==="listItem"&&typeof i.checked=="boolean"){const s=this.stack[this.stack.length-1];s.type;const o=s.children[0];if(o&&o.type==="text"){const a=i.children;let c=-1,d;for(;++c<a.length;){const b=a[c];if(b.type==="paragraph"){d=b;break}}d===s&&(o.value=o.value.slice(1),o.value.length===0?s.children.shift():s.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,s.position.start=Object.assign({},o.position.start)))}}this.exit(e)}function listItemWithTaskListItem(e,i,s,o){const a=e.children[0],c=typeof e.checked=="boolean"&&a&&a.type==="paragraph",d="["+(e.checked?"x":" ")+"] ",b=s.createTracker(o);c&&b.move(d);let g=handle.listItem(e,i,s,{...o,...b.current()});return c&&(g=g.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,j)),g;function j(_e){return _e+d}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,i,s){const o=this;let a,c;return d;function d(et){return!gfmAtext(et)||!previousEmail.call(o,o.previous)||previousUnbalanced(o.events)?s(et):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),b(et))}function b(et){return gfmAtext(et)?(e.consume(et),b):et===64?(e.consume(et),g):s(et)}function g(et){return et===46?e.check(emailDomainDotTrail,_e,j)(et):et===45||et===95||asciiAlphanumeric(et)?(c=!0,e.consume(et),g):_e(et)}function j(et){return e.consume(et),a=!0,g}function _e(et){return c&&a&&asciiAlpha(o.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),i(et)):s(et)}}function tokenizeWwwAutolink(e,i,s){const o=this;return a;function a(d){return d!==87&&d!==119||!previousWww.call(o,o.previous)||previousUnbalanced(o.events)?s(d):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wwwPrefix,e.attempt(domain,e.attempt(path,c),s),s)(d))}function c(d){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),i(d)}}function tokenizeProtocolAutolink(e,i,s){const o=this;let a="",c=!1;return d;function d(et){return(et===72||et===104)&&previousProtocol.call(o,o.previous)&&!previousUnbalanced(o.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(et),e.consume(et),b):s(et)}function b(et){if(asciiAlpha(et)&&a.length<5)return a+=String.fromCodePoint(et),e.consume(et),b;if(et===58){const st=a.toLowerCase();if(st==="http"||st==="https")return e.consume(et),g}return s(et)}function g(et){return et===47?(e.consume(et),c?j:(c=!0,g)):s(et)}function j(et){return et===null||asciiControl(et)||markdownLineEndingOrSpace(et)||unicodeWhitespace(et)||unicodePunctuation(et)?s(et):e.attempt(domain,e.attempt(path,_e),s)(et)}function _e(et){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),i(et)}}function tokenizeWwwPrefix(e,i,s){let o=0;return a;function a(d){return(d===87||d===119)&&o<3?(o++,e.consume(d),a):d===46&&o===3?(e.consume(d),c):s(d)}function c(d){return d===null?s(d):i(d)}}function tokenizeDomain(e,i,s){let o,a,c;return d;function d(j){return j===46||j===95?e.check(trail,g,b)(j):j===null||markdownLineEndingOrSpace(j)||unicodeWhitespace(j)||j!==45&&unicodePunctuation(j)?g(j):(c=!0,e.consume(j),d)}function b(j){return j===95?o=!0:(a=o,o=void 0),e.consume(j),d}function g(j){return a||o||!c?s(j):i(j)}}function tokenizePath(e,i){let s=0,o=0;return a;function a(d){return d===40?(s++,e.consume(d),a):d===41&&o<s?c(d):d===33||d===34||d===38||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===60||d===63||d===93||d===95||d===126?e.check(trail,i,c)(d):d===null||markdownLineEndingOrSpace(d)||unicodeWhitespace(d)?i(d):(e.consume(d),a)}function c(d){return d===41&&o++,e.consume(d),a}}function tokenizeTrail(e,i,s){return o;function o(b){return b===33||b===34||b===39||b===41||b===42||b===44||b===46||b===58||b===59||b===63||b===95||b===126?(e.consume(b),o):b===38?(e.consume(b),c):b===93?(e.consume(b),a):b===60||b===null||markdownLineEndingOrSpace(b)||unicodeWhitespace(b)?i(b):s(b)}function a(b){return b===null||b===40||b===91||markdownLineEndingOrSpace(b)||unicodeWhitespace(b)?i(b):o(b)}function c(b){return asciiAlpha(b)?d(b):s(b)}function d(b){return b===59?(e.consume(b),o):asciiAlpha(b)?(e.consume(b),d):s(b)}}function tokenizeEmailDomainDotTrail(e,i,s){return o;function o(c){return e.consume(c),a}function a(c){return asciiAlphanumeric(c)?s(c):i(c)}}function previousWww(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||markdownLineEndingOrSpace(e)}function previousProtocol(e){return!asciiAlpha(e)}function previousEmail(e){return!(e===47||gfmAtext(e))}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric(e)}function previousUnbalanced(e){let i=e.length,s=!1;for(;i--;){const o=e[i][1];if((o.type==="labelLink"||o.type==="labelImage")&&!o._balanced){s=!0;break}if(o._gfmAutolinkLiteralWalkedInto){s=!1;break}}return e.length>0&&!s&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),s}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,i,s){const o=this;let a=o.events.length;const c=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let d;for(;a--;){const g=o.events[a][1];if(g.type==="labelImage"){d=g;break}if(g.type==="gfmFootnoteCall"||g.type==="labelLink"||g.type==="label"||g.type==="image"||g.type==="link")break}return b;function b(g){if(!d||!d._balanced)return s(g);const j=normalizeIdentifier(o.sliceSerialize({start:d.end,end:o.now()}));return j.codePointAt(0)!==94||!c.includes(j.slice(1))?s(g):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),i(g))}}function resolveToPotentialGfmFootnoteCall(e,i){let s=e.length;for(;s--;)if(e[s][1].type==="labelImage"&&e[s][0]==="enter"){e[s][1];break}e[s+1][1].type="data",e[s+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[s+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[s+3][1].end),end:Object.assign({},e[s+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const c={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},d={type:"chunkString",contentType:"string",start:Object.assign({},c.start),end:Object.assign({},c.end)},b=[e[s+1],e[s+2],["enter",o,i],e[s+3],e[s+4],["enter",a,i],["exit",a,i],["enter",c,i],["enter",d,i],["exit",d,i],["exit",c,i],e[e.length-2],e[e.length-1],["exit",o,i]];return e.splice(s,e.length-s+1,...b),e}function tokenizeGfmFootnoteCall(e,i,s){const o=this,a=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let c=0,d;return b;function b(et){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(et),e.exit("gfmFootnoteCallLabelMarker"),g}function g(et){return et!==94?s(et):(e.enter("gfmFootnoteCallMarker"),e.consume(et),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",j)}function j(et){if(c>999||et===93&&!d||et===null||et===91||markdownLineEndingOrSpace(et))return s(et);if(et===93){e.exit("chunkString");const st=e.exit("gfmFootnoteCallString");return a.includes(normalizeIdentifier(o.sliceSerialize(st)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(et),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),i):s(et)}return markdownLineEndingOrSpace(et)||(d=!0),c++,e.consume(et),et===92?_e:j}function _e(et){return et===91||et===92||et===93?(e.consume(et),c++,j):j(et)}}function tokenizeDefinitionStart(e,i,s){const o=this,a=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let c,d=0,b;return g;function g(ot){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(ot),e.exit("gfmFootnoteDefinitionLabelMarker"),j}function j(ot){return ot===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(ot),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",_e):s(ot)}function _e(ot){if(d>999||ot===93&&!b||ot===null||ot===91||markdownLineEndingOrSpace(ot))return s(ot);if(ot===93){e.exit("chunkString");const ft=e.exit("gfmFootnoteDefinitionLabelString");return c=normalizeIdentifier(o.sliceSerialize(ft)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(ot),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),st}return markdownLineEndingOrSpace(ot)||(b=!0),d++,e.consume(ot),ot===92?et:_e}function et(ot){return ot===91||ot===92||ot===93?(e.consume(ot),d++,_e):_e(ot)}function st(ot){return ot===58?(e.enter("definitionMarker"),e.consume(ot),e.exit("definitionMarker"),a.includes(c)||a.push(c),factorySpace(e,tt,"gfmFootnoteDefinitionWhitespace")):s(ot)}function tt(ot){return i(ot)}}function tokenizeDefinitionContinuation(e,i,s){return e.check(blankLine,i,e.attempt(indent,i,s))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent(e,i,s){const o=this;return factorySpace(e,a,"gfmFootnoteDefinitionIndent",5);function a(c){const d=o.events[o.events.length-1];return d&&d[1].type==="gfmFootnoteDefinitionIndent"&&d[2].sliceSerialize(d[1],!0).length===4?i(c):s(c)}}function gfmStrikethrough(e){let s=(e||{}).singleTilde;const o={name:"strikethrough",tokenize:c,resolveAll:a};return s==null&&(s=!0),{text:{126:o},insideSpan:{null:[o]},attentionMarkers:{null:[126]}};function a(d,b){let g=-1;for(;++g<d.length;)if(d[g][0]==="enter"&&d[g][1].type==="strikethroughSequenceTemporary"&&d[g][1]._close){let j=g;for(;j--;)if(d[j][0]==="exit"&&d[j][1].type==="strikethroughSequenceTemporary"&&d[j][1]._open&&d[g][1].end.offset-d[g][1].start.offset===d[j][1].end.offset-d[j][1].start.offset){d[g][1].type="strikethroughSequence",d[j][1].type="strikethroughSequence";const _e={type:"strikethrough",start:Object.assign({},d[j][1].start),end:Object.assign({},d[g][1].end)},et={type:"strikethroughText",start:Object.assign({},d[j][1].end),end:Object.assign({},d[g][1].start)},st=[["enter",_e,b],["enter",d[j][1],b],["exit",d[j][1],b],["enter",et,b]],tt=b.parser.constructs.insideSpan.null;tt&&splice(st,st.length,0,resolveAll(tt,d.slice(j+1,g),b)),splice(st,st.length,0,[["exit",et,b],["enter",d[g][1],b],["exit",d[g][1],b],["exit",_e,b]]),splice(d,j-1,g-j+3,st),g=j+st.length-2;break}}for(g=-1;++g<d.length;)d[g][1].type==="strikethroughSequenceTemporary"&&(d[g][1].type="data");return d}function c(d,b,g){const j=this.previous,_e=this.events;let et=0;return st;function st(ot){return j===126&&_e[_e.length-1][1].type!=="characterEscape"?g(ot):(d.enter("strikethroughSequenceTemporary"),tt(ot))}function tt(ot){const ft=classifyCharacter(j);if(ot===126)return et>1?g(ot):(d.consume(ot),et++,tt);if(et<2&&!s)return g(ot);const yt=d.exit("strikethroughSequenceTemporary"),rt=classifyCharacter(ot);return yt._open=!rt||rt===2&&!!ft,yt._close=!ft||ft===2&&!!rt,b(ot)}}}class EditMap{constructor(){this.map=[]}add(i,s,o){addImplementation(this,i,s,o)}consume(i){if(this.map.sort(function(c,d){return c[0]-d[0]}),this.map.length===0)return;let s=this.map.length;const o=[];for(;s>0;)s-=1,o.push(i.slice(this.map[s][0]+this.map[s][1]),this.map[s][2]),i.length=this.map[s][0];o.push(i.slice()),i.length=0;let a=o.pop();for(;a;){for(const c of a)i.push(c);a=o.pop()}this.map.length=0}}function addImplementation(e,i,s,o){let a=0;if(!(s===0&&o.length===0)){for(;a<e.map.length;){if(e.map[a][0]===i){e.map[a][1]+=s,e.map[a][2].push(...o);return}a+=1}e.map.push([i,s,o])}}function gfmTableAlign(e,i){let s=!1;const o=[];for(;i<e.length;){const a=e[i];if(s){if(a[0]==="enter")a[1].type==="tableContent"&&o.push(e[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[i-1][1].type==="tableDelimiterMarker"){const c=o.length-1;o[c]=o[c]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(s=!0);i+=1}return o}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(e,i,s){const o=this;let a=0,c=0,d;return b;function b(kt){let ht=o.events.length-1;for(;ht>-1;){const zt=o.events[ht][1].type;if(zt==="lineEnding"||zt==="linePrefix")ht--;else break}const St=ht>-1?o.events[ht][1].type:null,At=St==="tableHead"||St==="tableRow"?lt:g;return At===lt&&o.parser.lazy[o.now().line]?s(kt):At(kt)}function g(kt){return e.enter("tableHead"),e.enter("tableRow"),j(kt)}function j(kt){return kt===124||(d=!0,c+=1),_e(kt)}function _e(kt){return kt===null?s(kt):markdownLineEnding(kt)?c>1?(c=0,o.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(kt),e.exit("lineEnding"),tt):s(kt):markdownSpace(kt)?factorySpace(e,_e,"whitespace")(kt):(c+=1,d&&(d=!1,a+=1),kt===124?(e.enter("tableCellDivider"),e.consume(kt),e.exit("tableCellDivider"),d=!0,_e):(e.enter("data"),et(kt)))}function et(kt){return kt===null||kt===124||markdownLineEndingOrSpace(kt)?(e.exit("data"),_e(kt)):(e.consume(kt),kt===92?st:et)}function st(kt){return kt===92||kt===124?(e.consume(kt),et):et(kt)}function tt(kt){return o.interrupt=!1,o.parser.lazy[o.now().line]?s(kt):(e.enter("tableDelimiterRow"),d=!1,markdownSpace(kt)?factorySpace(e,ot,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(kt):ot(kt))}function ot(kt){return kt===45||kt===58?yt(kt):kt===124?(d=!0,e.enter("tableCellDivider"),e.consume(kt),e.exit("tableCellDivider"),ft):ut(kt)}function ft(kt){return markdownSpace(kt)?factorySpace(e,yt,"whitespace")(kt):yt(kt)}function yt(kt){return kt===58?(c+=1,d=!0,e.enter("tableDelimiterMarker"),e.consume(kt),e.exit("tableDelimiterMarker"),rt):kt===45?(c+=1,rt(kt)):kt===null||markdownLineEnding(kt)?mt(kt):ut(kt)}function rt(kt){return kt===45?(e.enter("tableDelimiterFiller"),it(kt)):ut(kt)}function it(kt){return kt===45?(e.consume(kt),it):kt===58?(d=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(kt),e.exit("tableDelimiterMarker"),dt):(e.exit("tableDelimiterFiller"),dt(kt))}function dt(kt){return markdownSpace(kt)?factorySpace(e,mt,"whitespace")(kt):mt(kt)}function mt(kt){return kt===124?ot(kt):kt===null||markdownLineEnding(kt)?!d||a!==c?ut(kt):(e.exit("tableDelimiterRow"),e.exit("tableHead"),i(kt)):ut(kt)}function ut(kt){return s(kt)}function lt(kt){return e.enter("tableRow"),ct(kt)}function ct(kt){return kt===124?(e.enter("tableCellDivider"),e.consume(kt),e.exit("tableCellDivider"),ct):kt===null||markdownLineEnding(kt)?(e.exit("tableRow"),i(kt)):markdownSpace(kt)?factorySpace(e,ct,"whitespace")(kt):(e.enter("data"),gt(kt))}function gt(kt){return kt===null||kt===124||markdownLineEndingOrSpace(kt)?(e.exit("data"),ct(kt)):(e.consume(kt),kt===92?bt:gt)}function bt(kt){return kt===92||kt===124?(e.consume(kt),gt):gt(kt)}}function resolveTable(e,i){let s=-1,o=!0,a=0,c=[0,0,0,0],d=[0,0,0,0],b=!1,g=0,j,_e,et;const st=new EditMap;for(;++s<e.length;){const tt=e[s],ot=tt[1];tt[0]==="enter"?ot.type==="tableHead"?(b=!1,g!==0&&(flushTableEnd(st,i,g,j,_e),_e=void 0,g=0),j={type:"table",start:Object.assign({},ot.start),end:Object.assign({},ot.end)},st.add(s,0,[["enter",j,i]])):ot.type==="tableRow"||ot.type==="tableDelimiterRow"?(o=!0,et=void 0,c=[0,0,0,0],d=[0,s+1,0,0],b&&(b=!1,_e={type:"tableBody",start:Object.assign({},ot.start),end:Object.assign({},ot.end)},st.add(s,0,[["enter",_e,i]])),a=ot.type==="tableDelimiterRow"?2:_e?3:1):a&&(ot.type==="data"||ot.type==="tableDelimiterMarker"||ot.type==="tableDelimiterFiller")?(o=!1,d[2]===0&&(c[1]!==0&&(d[0]=d[1],et=flushCell(st,i,c,a,void 0,et),c=[0,0,0,0]),d[2]=s)):ot.type==="tableCellDivider"&&(o?o=!1:(c[1]!==0&&(d[0]=d[1],et=flushCell(st,i,c,a,void 0,et)),c=d,d=[c[1],s,0,0])):ot.type==="tableHead"?(b=!0,g=s):ot.type==="tableRow"||ot.type==="tableDelimiterRow"?(g=s,c[1]!==0?(d[0]=d[1],et=flushCell(st,i,c,a,s,et)):d[1]!==0&&(et=flushCell(st,i,d,a,s,et)),a=0):a&&(ot.type==="data"||ot.type==="tableDelimiterMarker"||ot.type==="tableDelimiterFiller")&&(d[3]=s)}for(g!==0&&flushTableEnd(st,i,g,j,_e),st.consume(i.events),s=-1;++s<i.events.length;){const tt=i.events[s];tt[0]==="enter"&&tt[1].type==="table"&&(tt[1]._align=gfmTableAlign(i.events,s))}return e}function flushCell(e,i,s,o,a,c){const d=o===1?"tableHeader":o===2?"tableDelimiter":"tableData",b="tableContent";s[0]!==0&&(c.end=Object.assign({},getPoint(i.events,s[0])),e.add(s[0],0,[["exit",c,i]]));const g=getPoint(i.events,s[1]);if(c={type:d,start:Object.assign({},g),end:Object.assign({},g)},e.add(s[1],0,[["enter",c,i]]),s[2]!==0){const j=getPoint(i.events,s[2]),_e=getPoint(i.events,s[3]),et={type:b,start:Object.assign({},j),end:Object.assign({},_e)};if(e.add(s[2],0,[["enter",et,i]]),o!==2){const st=i.events[s[2]],tt=i.events[s[3]];if(st[1].end=Object.assign({},tt[1].end),st[1].type="chunkText",st[1].contentType="text",s[3]>s[2]+1){const ot=s[2]+1,ft=s[3]-s[2]-1;e.add(ot,ft,[])}}e.add(s[3]+1,0,[["exit",et,i]])}return a!==void 0&&(c.end=Object.assign({},getPoint(i.events,a)),e.add(a,0,[["exit",c,i]]),c=void 0),c}function flushTableEnd(e,i,s,o,a){const c=[],d=getPoint(i.events,s);a&&(a.end=Object.assign({},d),c.push(["exit",a,i])),o.end=Object.assign({},d),c.push(["exit",o,i]),e.add(s+1,0,c)}function getPoint(e,i){const s=e[i],o=s[0]==="enter"?"start":"end";return s[1][o]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(e,i,s){const o=this;return a;function a(g){return o.previous!==null||!o._gfmTasklistFirstContentOfListItem?s(g):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(g),e.exit("taskListCheckMarker"),c)}function c(g){return markdownLineEndingOrSpace(g)?(e.enter("taskListCheckValueUnchecked"),e.consume(g),e.exit("taskListCheckValueUnchecked"),d):g===88||g===120?(e.enter("taskListCheckValueChecked"),e.consume(g),e.exit("taskListCheckValueChecked"),d):s(g)}function d(g){return g===93?(e.enter("taskListCheckMarker"),e.consume(g),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),b):s(g)}function b(g){return markdownLineEnding(g)?i(g):markdownSpace(g)?e.check({tokenize:spaceThenNonSpace},i,s)(g):s(g)}}function spaceThenNonSpace(e,i,s){return factorySpace(e,o,"whitespace");function o(a){return a===null?s(a):i(a)}}function gfm(e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(e),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(e){const i=this,s=e||emptyOptions,o=i.data(),a=o.micromarkExtensions||(o.micromarkExtensions=[]),c=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),d=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);a.push(gfm(s)),c.push(gfmFromMarkdown()),d.push(gfmToMarkdown(s))}const OutputViewer=({data:e,activeView:i,setActiveView:s,isProcessing:o,statusMessage:a})=>{const c=e.pages?e.pages.map(j=>j.markdown).join(`

---

`):"",[d,b]=reactExports.useState(0);reactExports.useEffect(()=>{b(j=>j+1)},[e]);const g=()=>{const j=i==="json"?JSON.stringify(e,null,2):c;navigator.clipboard.writeText(j||"")};return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col relative",children:[o&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:jsxRuntimeExports.jsx("div",{className:"text-white text-center",children:jsxRuntimeExports.jsx("div",{className:"text-xl font-medium px-8 py-4 bg-gradient-to-r from-white via-gray-400 to-white text-transparent bg-clip-text animate-slide-gradient",children:a})})}),jsxRuntimeExports.jsxs("div",{className:`flex gap-2 mb-4 ${o?"blur-sm":""}`,children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${i==="markdown"?"bg-blue-600 text-white":"bg-[#0F0F0F] text-gray-300 hover:bg-[#2A2A2A]"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>s("markdown"),disabled:o,children:"Markdown"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded ${i==="json"?"bg-blue-600 text-white":"bg-[#0F0F0F] text-gray-300 hover:bg-[#2A2A2A]"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>s("json"),disabled:o,children:"JSON"})]}),jsxRuntimeExports.jsx("div",{className:`flex-1 overflow-auto bg-[#0F0F0F] rounded-lg border border-gray-800 ${o?"blur-sm":""}`,children:i==="json"?jsxRuntimeExports.jsxs("div",{className:"relative h-full",children:[jsxRuntimeExports.jsx(Ft,{height:"100%",defaultLanguage:"json",value:e?JSON.stringify(e,null,2):"",theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14}}),e&&jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded",onClick:g,children:"Copy"})]}):jsxRuntimeExports.jsxs("div",{className:"relative h-full p-6 overflow-y-auto max-h-screen",children:[jsxRuntimeExports.jsx("div",{className:"prose prose-invert prose-headings:text-white prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl prose-h4:text-lg prose-p:text-gray-300 prose-a:text-blue-400 prose-code:text-gray-300 prose-pre:bg-gray-800 max-w-none",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],children:c||""},d)}),c&&jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded",onClick:g,children:"Copy"})]})})]})},Toolbar=({mode:e,setMode:i,onProcess:s,onReset:o,isProcessing:a})=>jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-4 p-4 bg-[#1A1A1A] rounded-lg border border-gray-800",children:[jsxRuntimeExports.jsxs("select",{value:e,onChange:c=>i(c.target.value),className:"px-3 py-2 bg-[#0F0F0F] border border-gray-700 rounded-md text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"OCR",children:"OCR + OpenAI"}),jsxRuntimeExports.jsx("option",{value:"GPT",children:"OpenAI"})]}),jsxRuntimeExports.jsxs("button",{onClick:s,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx(Play,{size:16}),"Process"]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 border border-gray-700 rounded-md hover:bg-[#0F0F0F] text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx(RefreshCw,{size:16}),"Reset"]})]})});function App(){const[e,i]=reactExports.useState(null),[s,o]=reactExports.useState("OCR"),[a,c]=reactExports.useState(!1),[d,b]=reactExports.useState("markdown"),[g,j]=reactExports.useState({}),[_e,et]=reactExports.useState(null),st=reactExports.useCallback(ft=>{i(ft),j({})},[]),tt=reactExports.useCallback(async()=>{if(!e)return;c(!0),et("Starting processing...");const ft=new FormData;ft.append("file",e),ft.append("mode",s);try{const yt=await fetch("http://localhost:3000/api/v1/documents/ingest",{method:"POST",body:ft});if(!yt.ok)throw new Error("Processing failed");const{id:rt}=await yt.json(),it=setInterval(async()=>{const mt=await(await fetch(`http://localhost:3000/api/v1/documents/status/${rt}`)).json();mt.status==="completed"?(clearInterval(it),j(mt.data),et(null),c(!1)):mt.status==="failed"?(clearInterval(it),et("Processing failed."),c(!1)):et(mt.status)},2e3)}catch(yt){console.error("Error processing document:",yt),et("Error processing document."),c(!1)}},[e,s]),ot=reactExports.useCallback(()=>{i(null),j({})},[]);return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-[#0A0A0A] p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"XOEROX"}),jsxRuntimeExports.jsx(Toolbar,{mode:s,setMode:o,onProcess:tt,onReset:ot,isProcessing:a}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-[#1A1A1A] p-6 rounded-lg border border-gray-800",children:e?jsxRuntimeExports.jsx(PDFViewer,{file:e}):jsxRuntimeExports.jsx(FileUpload,{onFileSelect:st})}),jsxRuntimeExports.jsx("div",{className:"bg-[#1A1A1A] p-6 rounded-lg border border-gray-800",children:jsxRuntimeExports.jsx(OutputViewer,{data:g,activeView:d,setActiveView:b,isProcessing:a,statusMessage:_e})})]})]})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
